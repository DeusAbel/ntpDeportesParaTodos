if (self.CavalryLogger) { CavalryLogger.start_js(["FSdOo"]); }

__d("SphericalPhotoViewerLogEvents",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={TAP_HEADING_INDICATOR:"spherical_photo_tap_heading_indicator",ZOOM_START:"spherical_photo_zoom_start",DRAG_START:"spherical_photo_drag_start",SIGNIFICANT_MOVEMENT:"spherical_photo_significant_movement",SHOW_VIEW_IN_VR:"spherical_photo_show_view_in_vr",TAP_VIEW_IN_VR:"spherical_photo_tap_view_in_vr",PHONE_PAN_ANIMATION:"spherical_photo_phone_pan_animation",DRAG_MOUSE_ANIMATION:"spherical_photo_drag_mouse_animation",MOUSEOVER_START:"spherical_photo_mouseover_start",WWW_GYRO_START:"spherical_photo_www_gyro_start",WWW_ENTER_SNOWLIFT:"spherical_photo_www_enter_snowlift",WWW_EXIT_SNOWLIFT:"spherical_photo_www_exit_snowlift",ENTER_FULLSCREEN:"spherical_photo_tap_feed_to_fullscreen",EXIT_FULLSCREEN:"spherical_photo_fullscreen_exited",CDN_IMAGE_FAILURE:"spherical_photo_cdn_image_failure",WEBGL_INIT_FAILURE:"spherical_photo_webgl_init_failure",FEED_VP_ENTERED:"spherical_photo_feed_vp_entered",FEED_VP_EXITED:"spherical_photo_feed_vp_exited",CUBE_LOAD_TIME:"spherical_photo_cube_load_time",RENDER_FRAME_RATE:"spherical_photo_render_frame_rate",FALLBACK_PREVIEW:"spherical_photo_fallback_preview",FALLBACK_LEARNMORE:"spherical_photo_fallback_learnmore",LOADED:"spherical_photo_loaded",TOGGLE_ON:"spherical_photo_toggle_on",TOGGLE_OFF:"spherical_photo_toggle_off",POST_EVENT:"spherical_photo_post_event",WWW_IVS_OPEN:"spherical_photo_www_ivs_open",WWW_IVS_CANCEL:"spherical_photo_www_ivs_cancel",WWW_IVS_ENABLE_ON_SAVE:"spherical_photo_www_ivs_enable_on_save",WWW_IVS_DISABLE_ON_SAVE:"spherical_photo_www_ivs_disable_on_save",WWW_IVS_REQUEST_START:"spherical_photo_www_ivs_request_start",WWW_IVS_REQUEST_FAILED:"spherical_photo_www_ivs_request_failed",WWW_IVS_REQUEST_DONE:"spherical_photo_www_ivs_request_done",WWW_IVS_UPDATE_START:"spherical_photo_www_ivs_update_start",WWW_IVS_UPDATE_FAILED:"spherical_photo_www_ivs_update_failed",WWW_IVS_UPDATE_DONE:"spherical_photo_www_ivs_update_done",SERVER_IVS_UPDATE_START:"spherical_photo_server_ivs_update_start",SERVER_IVS_UPDATE_FAILED:"spherical_photo_server_ivs_update_failed",SERVER_IVS_UPDATE_DONE:"spherical_photo_server_ivs_update_done",TAP_HEADING_INDICATOR_DEPRECATED:"tap_360_photo_heading_indicator",ZOOM_START_DEPRECATED:"zoom_start_360_photo",DRAG_START_DEPRECATED:"drag_start_360_photo",SIGNIFICANT_MOVEMENT_DEPRECATED:"significant_movement_360_photo",SHOW_VIEW_IN_VR_DEPRECATED:"show_360_photo_view_in_vr",TAP_VIEW_IN_VR_DEPRECATED:"tap_360_photo_view_in_vr",PHONE_PAN_ANIMATION_DEPRECATED:"phone_pan_animation_360_photo",TAP_FEED_TO_FULLSCREEN_DEPRECATED:"tap_360_photo_feed_to_fullscreen"};}),null);
__d("VideoProjection",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FLAT:"flat",EQUIRECTANGULAR:"equirectangular",CUBEMAP:"cubemap",UNPADDED_CUBEMAP:"unpadded_cubemap",UNPADDED_CUBESTRIP:"unpadded_cubestrip",OFFSET_CUBEMAP:"offset_cubemap",ROTATED_CUBEMAP:"rotated_cubemap",PYRAMID:"pyramid",STRETCHED_CUBEMAP:"stretched_cubemap"};}),null);
__d('SphericalPhotoViewerTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('spherical_photo_viewer_log:SphericalPhotoViewerLoggerConfig',this.$SphericalPhotoViewerTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('spherical_photo_viewer_log:SphericalPhotoViewerLoggerConfig',this.$SphericalPhotoViewerTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$SphericalPhotoViewerTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$SphericalPhotoViewerTypedLogger1=babelHelpers['extends']({},this.$SphericalPhotoViewerTypedLogger1,j);return this;};h.prototype.setComposerSessionID=function(j){this.$SphericalPhotoViewerTypedLogger1.composer_session_id=j;return this;};h.prototype.setDt=function(j){this.$SphericalPhotoViewerTypedLogger1.dt=j;return this;};h.prototype.setErrorCode=function(j){this.$SphericalPhotoViewerTypedLogger1.error_code=j;return this;};h.prototype.setErrorMessage=function(j){this.$SphericalPhotoViewerTypedLogger1.error_message=j;return this;};h.prototype.setErrorStackTrace=function(j){this.$SphericalPhotoViewerTypedLogger1.error_stack_trace=j;return this;};h.prototype.setErrorType=function(j){this.$SphericalPhotoViewerTypedLogger1.error_type=j;return this;};h.prototype.setEventType=function(j){this.$SphericalPhotoViewerTypedLogger1.event_type=j;return this;};h.prototype.setFallbackUI=function(j){this.$SphericalPhotoViewerTypedLogger1.fallback_ui=j;return this;};h.prototype.setName=function(j){this.$SphericalPhotoViewerTypedLogger1.name=j;return this;};h.prototype.setNumberOfSphericalPhoto=function(j){this.$SphericalPhotoViewerTypedLogger1.number_of_spherical_photo=j;return this;};h.prototype.setPhotoID=function(j){this.$SphericalPhotoViewerTypedLogger1.photo_id=j;return this;};h.prototype.setSphericalPhotoSessionID=function(j){this.$SphericalPhotoViewerTypedLogger1.spherical_photo_session_id=j;return this;};h.prototype.setSurface=function(j){this.$SphericalPhotoViewerTypedLogger1.surface=j;return this;};var i={composer_session_id:true,dt:true,error_code:true,error_message:true,error_stack_trace:true,error_type:true,event_type:true,fallback_ui:true,name:true,number_of_spherical_photo:true,photo_id:true,spherical_photo_session_id:true,surface:true};f.exports=h;}),null);
__d("createExponentialMovingAverage",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(k){var l=arguments.length<=1||arguments[1]===undefined?0:arguments[1],m=l;return function(n){return m+=k*(n-m);};}function i(k){return function(l){return 1-Math.exp(-l/k);};}function j(k){var l=arguments.length<=1||arguments[1]===undefined?0:arguments[1],m=l,n=i(k);return function(o,p){return m+=n(p)*(o-m);};}h.createContinuous=j;f.exports=h;}),null);
__d('VelocityTracker',['createExponentialMovingAverage','performanceNow'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){var i=arguments.length<=0||arguments[0]===undefined?50:arguments[0],j=arguments.length<=1||arguments[1]===undefined?{x:0,y:0}:arguments[1];'use strict';this.$VelocityTracker5=j.x;this.$VelocityTracker6=j.y;this.$VelocityTracker1=c('performanceNow')();this.$VelocityTracker2=c('createExponentialMovingAverage').createContinuous(i,this.$VelocityTracker5);this.$VelocityTracker3=c('createExponentialMovingAverage').createContinuous(i,this.$VelocityTracker6);}h.prototype.update=function(i,j){'use strict';var k=0;if(this.$VelocityTracker4){k=c('performanceNow')()-this.$VelocityTracker1;k=this.updateVelocity((i-this.$VelocityTracker4.x)*1000/k,(j-this.$VelocityTracker4.y)*1000/k);}else this.$VelocityTracker1=c('performanceNow')();this.$VelocityTracker4={x:i,y:j};return k;};h.prototype.updateVelocity=function(i,j){'use strict';var k=c('performanceNow')(),l=k-this.$VelocityTracker1;this.$VelocityTracker1=k;this.$VelocityTracker5=this.$VelocityTracker2(i,l);this.$VelocityTracker6=this.$VelocityTracker3(j,l);return l;};h.prototype.getVelocityX=function(){'use strict';return Math.trunc(this.$VelocityTracker5);};h.prototype.getVelocityY=function(){'use strict';return Math.trunc(this.$VelocityTracker6);};h.prototype.getSpeed=function(){'use strict';return Math.trunc(Math.sqrt(this.$VelocityTracker5*this.$VelocityTracker5+this.$VelocityTracker6*this.$VelocityTracker6));};f.exports=h;}),null);
__d('CubemapImageTileInfo',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k,l){'use strict';this.level=i;this.face=j;this.col=k;this.row=l;}h.prototype.getKey=function(){'use strict';return ''+this.level+'_'+this.face+'_'+this.col+'_'+this.row;};h.prototype.getInfoForOffsetLevel=function(i){'use strict';var j=this.level-i;if(j<0)throw new Error('Invalid level offset for getKeyForOffsetLevel: '+i+', max offset: '+this.level);var k=Math.floor(this.col/Math.pow(2,i)),l=Math.floor(this.row/Math.pow(2,i));return new h(j,this.face,k,l);};f.exports=h;}),null);
__d('CubemapImageTile',['CubemapImageTileInfo'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){'use strict';this.$CubemapImageTile1=i;this.$CubemapImageTile2=j;}h.prototype.getInfo=function(){'use strict';return this.$CubemapImageTile1;};h.prototype.getImg=function(){'use strict';return this.$CubemapImageTile2;};f.exports=h;}),null);
__d('SphericalMediaConstants',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={COMP_PHOTO_EDIT_THUMB:'PhotoEditThumbanil',COMP_PHOTO_VIEWER:'PhotoViewer',EDIT_VIEWPORT_SIZE:{width:476,height:476},HI_ALPHA_BG:{start:.2,end:.5},HI_ALPHA_ELEMENT:{start:.5,end:.85},HI_ALPHA_DURATION:400,HI_SIZE_NORMAL:{width:35,height:35,center_radius:2,background_radius:17.5,inner_radius:12,arc_radius:6.3,arc_stroke:5.3,inner_stroke:1,triangle:[2,2.5,5.2],rim_radius:16.8,rim_stroke:1.4},HI_SIZE_FULL:{width:50,height:50,center_radius:3,background_radius:25,inner_radius:17.14,arc_radius:9,arc_stroke:7.57,inner_stroke:1.5,triangle:[2.85,4.29,7.9],rim_radius:24,rim_stroke:2},HI_BLINK_ARC_RAD:Math.PI/6,HI_BLINK_DURATION:400,HI_FADE_OUT_DELAY:1000,MOUSE_EXPOSURE:4000,LOGGER_SURFACES:{newsfeed:'newsfeed',timeline:'timeline',fullpage:'photo_viewer',snowlift:'www_snowlift',composer:'composer',albumComposer:'album_composer',other:'other'},LOGGER_SIGNIFICANT_MOVEMENT_DEGREE:30,GYRO_SLIP_FACTOR:.15,RB_SPRING_FACTOR:25,RB_MAX_SPRING_DEGREE:15,RB_MAX_STRETCH_X_DEGREE:20,RB_MAX_STRETCH_Y_DEGREE:20,RB_FRICTION:.3,TILED_CUBE_FACES:{PLUS_X:2,MINUS_X:0,PLUS_Y:4,MINUS_Y:5,PLUS_Z:3,MINUS_Z:1},TILED_CUBE_TILE_SIZE:512};f.exports=h;}),null);
__d('CubemapImageTileProvider',['CubemapImageTile','CubemapImageTileInfo','SphericalMediaConstants'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('SphericalMediaConstants').TILED_CUBE_FACES,i=c('SphericalMediaConstants').TILED_CUBE_TILE_SIZE;function j(k){'use strict';this.$CubemapImageTileProvider1=k;this.$CubemapImageTileProvider5={};this.$CubemapImageTileProvider2=false;this.$CubemapImageTileProvider3=[];this.$CubemapImageTileProvider4=[];this.$CubemapImageTileProvider6();}j.prototype.getTileSize=function(){'use strict';return i;};j.prototype.getMaxTileLevel=function(){'use strict';return 3;};j.prototype.addBaseLevelReadyCallback=function(k){'use strict';if(!this.$CubemapImageTileProvider2){this.$CubemapImageTileProvider3.push(k);}else k();};j.prototype.getClosestCoveringTile=function(k){'use strict';var l=0;while(l<=k.level){var m=k.getInfoForOffsetLevel(l),n=m.getKey();if(n in this.$CubemapImageTileProvider5){return this.$CubemapImageTileProvider5[n];}else this.$CubemapImageTileProvider1.getUriForTile(m,this.$CubemapImageTileProvider7.bind(this));l++;}throw new Error('No possible tile for requested params: '+k.getKey());};j.prototype.$CubemapImageTileProvider6=function(){'use strict';this.$CubemapImageTileProvider4=[new (c('CubemapImageTileInfo'))(0,h.PLUS_X,0,0),new (c('CubemapImageTileInfo'))(0,h.MINUS_X,0,0),new (c('CubemapImageTileInfo'))(0,h.PLUS_Y,0,0),new (c('CubemapImageTileInfo'))(0,h.MINUS_Y,0,0),new (c('CubemapImageTileInfo'))(0,h.PLUS_Z,0,0),new (c('CubemapImageTileInfo'))(0,h.MINUS_Z,0,0)];this.$CubemapImageTileProvider4.forEach(function(k){return (this.$CubemapImageTileProvider1.getUriForTile(k,this.$CubemapImageTileProvider7.bind(this)));}.bind(this));};j.prototype.$CubemapImageTileProvider7=function(k,l){'use strict';var m=new Image(),n=new (c('CubemapImageTile'))(k,m);m.crossOrigin='anonymous';m.onload=this.$CubemapImageTileProvider8.bind(this,n);m.src=l;};j.prototype.$CubemapImageTileProvider8=function(k){'use strict';this.$CubemapImageTileProvider5[k.getInfo().getKey()]=k;if(!this.$CubemapImageTileProvider2){var l=this.$CubemapImageTileProvider4.every(function(m){return m.getKey() in this.$CubemapImageTileProvider5;}.bind(this));if(l)this.$CubemapImageTileProvider9();}};j.prototype.$CubemapImageTileProvider9=function(){'use strict';this.$CubemapImageTileProvider2=true;this.$CubemapImageTileProvider3.forEach(function(k){return k();});};f.exports=j;}),null);
__d('BaseCubemapTileUriProvider',['invariant','CubemapImageTileInfo'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();i.prototype.getUriForTile=function(j,k){'use strict';h(0);};function i(){'use strict';}f.exports=i;}),null);
__d('EntPhotoCubemapTileUriProvider',['BaseCubemapTileUriProvider','CubemapImageTileInfo'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('BaseCubemapTileUriProvider'));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this);this.$EntPhotoCubemapTileUriProvider1=k;this.$EntPhotoCubemapTileUriProvider2={};this.$EntPhotoCubemapTileUriProvider3(l);}j.prototype.getUriForTile=function(k,l){'use strict';var m=k.getKey();if(m in this.$EntPhotoCubemapTileUriProvider2)l(k,this.$EntPhotoCubemapTileUriProvider2[m]);};j.prototype.$EntPhotoCubemapTileUriProvider3=function(k){'use strict';k.forEach(function(l){var m=new (c('CubemapImageTileInfo'))(l.level,l.face,l.col,l.row);this.$EntPhotoCubemapTileUriProvider2[m.getKey()]=l.uri;}.bind(this));};f.exports=j;}),null);
__d('SphericalPhotoViewerLoggerUtil',['CSS','FullScreen','SphericalPhotoViewerLogEvents','ProfileTabUtils','SphericalPhotoViewerTypedLogger','TimelineURI','URI','SphericalMediaConstants'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='timelineLayout',i=c('SphericalMediaConstants').LOGGER_SURFACES,j=function l(){if(c('FullScreen').isFullScreen())return i.fullpage;var m=c('URI').getMostRecentURI();if(m.getQueryData().hasOwnProperty('theater'))return i.snowlift;if(m.getPath()==='/'||m.getPath()==='/home.php')return i.newsfeed;var n=c('TimelineURI').getTabKeyFromURI(m),o=c('TimelineURI').getVanityFromURI(m);if(o&&c('ProfileTabUtils').isTimelineTab(n)&&c('CSS').hasClass(document.body,h))return i.timeline;return i.other;},k={logTapHeadingIndicator:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').TAP_HEADING_INDICATOR,m);},logDragStart:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').DRAG_START,m);},logMouseOverStart:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').MOUSEOVER_START,m);},logWWWGyroStart:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_GYRO_START,m);},logZoomStart:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').ZOOM_START,m);},logDragMouseAnimation:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').DRAG_MOUSE_ANIMATION,m);},logEnterSnowlift:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_ENTER_SNOWLIFT,m);},logExitSnowlift:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_EXIT_SNOWLIFT,m);},logEnterFullScreen:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').ENTER_FULLSCREEN,m);},logExitFullScreen:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').EXIT_FULLSCREEN,m);},logSignificantMovement:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').SIGNIFICANT_MOVEMENT,m);},logIVSOpen:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_IVS_OPEN,m);},logIVSCancel:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_IVS_CANCEL,m);},logIVSEnableSphericalOnSave:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_IVS_ENABLE_ON_SAVE,m);},logIVSDisableSphericalOnSave:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_IVS_DISABLE_ON_SAVE,m);},logToggleOn:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').TOGGLE_ON,m);},logToggleOff:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').TOGGLE_OFF,m);},logIVSRequestStart:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_IVS_REQUEST_START,m);},logIVSRequestFailed:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_IVS_REQUEST_FAILED,m);},logIVSRequestDone:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_IVS_REQUEST_DONE,m);},logIVSUpdateStart:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_IVS_UPDATE_START,m);},logIVSUpdateFailed:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_IVS_UPDATE_FAILED,m);},logIVSUpdateDone:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_IVS_UPDATE_DONE,m);},logWebGlInitFailed:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WEBGL_INIT_FAILURE,m);},_log:function l(m,n){n.surface=n.surface||j();new (c('SphericalPhotoViewerTypedLogger'))().setName(m).setPhotoID(n.photoID).setSphericalPhotoSessionID(n.sessionID).setComposerSessionID(n.composerSessionID).setSurface(n.surface).setDt(n.dt).setErrorMessage(n.errorMessage).log();}};f.exports=k;}),null);
__d("gl-matrix-common",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h={};h.EPSILON=1e-06;h.ARRAY_TYPE=(typeof Float32Array!=='undefined')?Float32Array:Array;h.RANDOM=Math.random;h.ENABLE_SIMD=false;h.SIMD_AVAILABLE=(h.ARRAY_TYPE===this.Float32Array)&&('SIMD' in this);h.USE_SIMD=h.ENABLE_SIMD&&h.SIMD_AVAILABLE;h.setMatrixArrayType=function(j){h.ARRAY_TYPE=j;};var i=Math.PI/180;h.toRadian=function(j){return j*i;};h.equals=function(j,k){return Math.abs(j-k)<=h.EPSILON*Math.max(1,Math.abs(j),Math.abs(k));};f.exports=h;}),null);
__d("gl-matrix-mat4",["gl-matrix-common"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c("gl-matrix-common"),i={scalar:{},SIMD:{}};i.create=function(){var j=new h.ARRAY_TYPE(16);j[0]=1;j[1]=0;j[2]=0;j[3]=0;j[4]=0;j[5]=1;j[6]=0;j[7]=0;j[8]=0;j[9]=0;j[10]=1;j[11]=0;j[12]=0;j[13]=0;j[14]=0;j[15]=1;return j;};i.clone=function(j){var k=new h.ARRAY_TYPE(16);k[0]=j[0];k[1]=j[1];k[2]=j[2];k[3]=j[3];k[4]=j[4];k[5]=j[5];k[6]=j[6];k[7]=j[7];k[8]=j[8];k[9]=j[9];k[10]=j[10];k[11]=j[11];k[12]=j[12];k[13]=j[13];k[14]=j[14];k[15]=j[15];return k;};i.copy=function(j,k){j[0]=k[0];j[1]=k[1];j[2]=k[2];j[3]=k[3];j[4]=k[4];j[5]=k[5];j[6]=k[6];j[7]=k[7];j[8]=k[8];j[9]=k[9];j[10]=k[10];j[11]=k[11];j[12]=k[12];j[13]=k[13];j[14]=k[14];j[15]=k[15];return j;};i.fromValues=function(j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){var z=new h.ARRAY_TYPE(16);z[0]=j;z[1]=k;z[2]=l;z[3]=m;z[4]=n;z[5]=o;z[6]=p;z[7]=q;z[8]=r;z[9]=s;z[10]=t;z[11]=u;z[12]=v;z[13]=w;z[14]=x;z[15]=y;return z;};i.set=function(j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){j[0]=k;j[1]=l;j[2]=m;j[3]=n;j[4]=o;j[5]=p;j[6]=q;j[7]=r;j[8]=s;j[9]=t;j[10]=u;j[11]=v;j[12]=w;j[13]=x;j[14]=y;j[15]=z;return j;};i.identity=function(j){j[0]=1;j[1]=0;j[2]=0;j[3]=0;j[4]=0;j[5]=1;j[6]=0;j[7]=0;j[8]=0;j[9]=0;j[10]=1;j[11]=0;j[12]=0;j[13]=0;j[14]=0;j[15]=1;return j;};i.scalar.transpose=function(j,k){if(j===k){var l=k[1],m=k[2],n=k[3],o=k[6],p=k[7],q=k[11];j[1]=k[4];j[2]=k[8];j[3]=k[12];j[4]=l;j[6]=k[9];j[7]=k[13];j[8]=m;j[9]=o;j[11]=k[14];j[12]=n;j[13]=p;j[14]=q;}else{j[0]=k[0];j[1]=k[4];j[2]=k[8];j[3]=k[12];j[4]=k[1];j[5]=k[5];j[6]=k[9];j[7]=k[13];j[8]=k[2];j[9]=k[6];j[10]=k[10];j[11]=k[14];j[12]=k[3];j[13]=k[7];j[14]=k[11];j[15]=k[15];}return j;};i.SIMD.transpose=function(j,k){var l,m,n,o,p,q,r,s,t,u;l=SIMD.Float32x4.load(k,0);m=SIMD.Float32x4.load(k,4);n=SIMD.Float32x4.load(k,8);o=SIMD.Float32x4.load(k,12);p=SIMD.Float32x4.shuffle(l,m,0,1,4,5);q=SIMD.Float32x4.shuffle(n,o,0,1,4,5);r=SIMD.Float32x4.shuffle(p,q,0,2,4,6);s=SIMD.Float32x4.shuffle(p,q,1,3,5,7);SIMD.Float32x4.store(j,0,r);SIMD.Float32x4.store(j,4,s);p=SIMD.Float32x4.shuffle(l,m,2,3,6,7);q=SIMD.Float32x4.shuffle(n,o,2,3,6,7);t=SIMD.Float32x4.shuffle(p,q,0,2,4,6);u=SIMD.Float32x4.shuffle(p,q,1,3,5,7);SIMD.Float32x4.store(j,8,t);SIMD.Float32x4.store(j,12,u);return j;};i.transpose=h.USE_SIMD?i.SIMD.transpose:i.scalar.transpose;i.scalar.invert=function(j,k){var l=k[0],m=k[1],n=k[2],o=k[3],p=k[4],q=k[5],r=k[6],s=k[7],t=k[8],u=k[9],v=k[10],w=k[11],x=k[12],y=k[13],z=k[14],aa=k[15],ba=l*q-m*p,ca=l*r-n*p,da=l*s-o*p,ea=m*r-n*q,fa=m*s-o*q,ga=n*s-o*r,ha=t*y-u*x,ia=t*z-v*x,ja=t*aa-w*x,ka=u*z-v*y,la=u*aa-w*y,ma=v*aa-w*z,na=ba*ma-ca*la+da*ka+ea*ja-fa*ia+ga*ha;if(!na)return null;na=1/na;j[0]=(q*ma-r*la+s*ka)*na;j[1]=(n*la-m*ma-o*ka)*na;j[2]=(y*ga-z*fa+aa*ea)*na;j[3]=(v*fa-u*ga-w*ea)*na;j[4]=(r*ja-p*ma-s*ia)*na;j[5]=(l*ma-n*ja+o*ia)*na;j[6]=(z*da-x*ga-aa*ca)*na;j[7]=(t*ga-v*da+w*ca)*na;j[8]=(p*la-q*ja+s*ha)*na;j[9]=(m*ja-l*la-o*ha)*na;j[10]=(x*fa-y*da+aa*ba)*na;j[11]=(u*da-t*fa-w*ba)*na;j[12]=(q*ia-p*ka-r*ha)*na;j[13]=(l*ka-m*ia+n*ha)*na;j[14]=(y*ca-x*ea-z*ba)*na;j[15]=(t*ea-u*ca+v*ba)*na;return j;};i.SIMD.invert=function(j,k){var l,m,n,o,p,q,r,s,t,u,v=SIMD.Float32x4.load(k,0),w=SIMD.Float32x4.load(k,4),x=SIMD.Float32x4.load(k,8),y=SIMD.Float32x4.load(k,12);p=SIMD.Float32x4.shuffle(v,w,0,1,4,5);m=SIMD.Float32x4.shuffle(x,y,0,1,4,5);l=SIMD.Float32x4.shuffle(p,m,0,2,4,6);m=SIMD.Float32x4.shuffle(m,p,1,3,5,7);p=SIMD.Float32x4.shuffle(v,w,2,3,6,7);o=SIMD.Float32x4.shuffle(x,y,2,3,6,7);n=SIMD.Float32x4.shuffle(p,o,0,2,4,6);o=SIMD.Float32x4.shuffle(o,p,1,3,5,7);p=SIMD.Float32x4.mul(n,o);p=SIMD.Float32x4.swizzle(p,1,0,3,2);q=SIMD.Float32x4.mul(m,p);r=SIMD.Float32x4.mul(l,p);p=SIMD.Float32x4.swizzle(p,2,3,0,1);q=SIMD.Float32x4.sub(SIMD.Float32x4.mul(m,p),q);r=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,p),r);r=SIMD.Float32x4.swizzle(r,2,3,0,1);p=SIMD.Float32x4.mul(m,n);p=SIMD.Float32x4.swizzle(p,1,0,3,2);q=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,p),q);t=SIMD.Float32x4.mul(l,p);p=SIMD.Float32x4.swizzle(p,2,3,0,1);q=SIMD.Float32x4.sub(q,SIMD.Float32x4.mul(o,p));t=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,p),t);t=SIMD.Float32x4.swizzle(t,2,3,0,1);p=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(m,2,3,0,1),o);p=SIMD.Float32x4.swizzle(p,1,0,3,2);n=SIMD.Float32x4.swizzle(n,2,3,0,1);q=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,p),q);s=SIMD.Float32x4.mul(l,p);p=SIMD.Float32x4.swizzle(p,2,3,0,1);q=SIMD.Float32x4.sub(q,SIMD.Float32x4.mul(n,p));s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,p),s);s=SIMD.Float32x4.swizzle(s,2,3,0,1);p=SIMD.Float32x4.mul(l,m);p=SIMD.Float32x4.swizzle(p,1,0,3,2);s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,p),s);t=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,p),t);p=SIMD.Float32x4.swizzle(p,2,3,0,1);s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,p),s);t=SIMD.Float32x4.sub(t,SIMD.Float32x4.mul(n,p));p=SIMD.Float32x4.mul(l,o);p=SIMD.Float32x4.swizzle(p,1,0,3,2);r=SIMD.Float32x4.sub(r,SIMD.Float32x4.mul(n,p));s=SIMD.Float32x4.add(SIMD.Float32x4.mul(m,p),s);p=SIMD.Float32x4.swizzle(p,2,3,0,1);r=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,p),r);s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(m,p));p=SIMD.Float32x4.mul(l,n);p=SIMD.Float32x4.swizzle(p,1,0,3,2);r=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,p),r);t=SIMD.Float32x4.sub(t,SIMD.Float32x4.mul(m,p));p=SIMD.Float32x4.swizzle(p,2,3,0,1);r=SIMD.Float32x4.sub(r,SIMD.Float32x4.mul(o,p));t=SIMD.Float32x4.add(SIMD.Float32x4.mul(m,p),t);u=SIMD.Float32x4.mul(l,q);u=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(u,2,3,0,1),u);u=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(u,1,0,3,2),u);p=SIMD.Float32x4.reciprocalApproximation(u);u=SIMD.Float32x4.sub(SIMD.Float32x4.add(p,p),SIMD.Float32x4.mul(u,SIMD.Float32x4.mul(p,p)));u=SIMD.Float32x4.swizzle(u,0,0,0,0);if(!u)return null;SIMD.Float32x4.store(j,0,SIMD.Float32x4.mul(u,q));SIMD.Float32x4.store(j,4,SIMD.Float32x4.mul(u,r));SIMD.Float32x4.store(j,8,SIMD.Float32x4.mul(u,s));SIMD.Float32x4.store(j,12,SIMD.Float32x4.mul(u,t));return j;};i.invert=h.USE_SIMD?i.SIMD.invert:i.scalar.invert;i.scalar.adjoint=function(j,k){var l=k[0],m=k[1],n=k[2],o=k[3],p=k[4],q=k[5],r=k[6],s=k[7],t=k[8],u=k[9],v=k[10],w=k[11],x=k[12],y=k[13],z=k[14],aa=k[15];j[0]=(q*(v*aa-w*z)-u*(r*aa-s*z)+y*(r*w-s*v));j[1]=-(m*(v*aa-w*z)-u*(n*aa-o*z)+y*(n*w-o*v));j[2]=(m*(r*aa-s*z)-q*(n*aa-o*z)+y*(n*s-o*r));j[3]=-(m*(r*w-s*v)-q*(n*w-o*v)+u*(n*s-o*r));j[4]=-(p*(v*aa-w*z)-t*(r*aa-s*z)+x*(r*w-s*v));j[5]=(l*(v*aa-w*z)-t*(n*aa-o*z)+x*(n*w-o*v));j[6]=-(l*(r*aa-s*z)-p*(n*aa-o*z)+x*(n*s-o*r));j[7]=(l*(r*w-s*v)-p*(n*w-o*v)+t*(n*s-o*r));j[8]=(p*(u*aa-w*y)-t*(q*aa-s*y)+x*(q*w-s*u));j[9]=-(l*(u*aa-w*y)-t*(m*aa-o*y)+x*(m*w-o*u));j[10]=(l*(q*aa-s*y)-p*(m*aa-o*y)+x*(m*s-o*q));j[11]=-(l*(q*w-s*u)-p*(m*w-o*u)+t*(m*s-o*q));j[12]=-(p*(u*z-v*y)-t*(q*z-r*y)+x*(q*v-r*u));j[13]=(l*(u*z-v*y)-t*(m*z-n*y)+x*(m*v-n*u));j[14]=-(l*(q*z-r*y)-p*(m*z-n*y)+x*(m*r-n*q));j[15]=(l*(q*v-r*u)-p*(m*v-n*u)+t*(m*r-n*q));return j;};i.SIMD.adjoint=function(j,k){var l,m,n,o,p,q,r,s,t,u,v,w,x;l=SIMD.Float32x4.load(k,0);m=SIMD.Float32x4.load(k,4);n=SIMD.Float32x4.load(k,8);o=SIMD.Float32x4.load(k,12);t=SIMD.Float32x4.shuffle(l,m,0,1,4,5);q=SIMD.Float32x4.shuffle(n,o,0,1,4,5);p=SIMD.Float32x4.shuffle(t,q,0,2,4,6);q=SIMD.Float32x4.shuffle(q,t,1,3,5,7);t=SIMD.Float32x4.shuffle(l,m,2,3,6,7);s=SIMD.Float32x4.shuffle(n,o,2,3,6,7);r=SIMD.Float32x4.shuffle(t,s,0,2,4,6);s=SIMD.Float32x4.shuffle(s,t,1,3,5,7);t=SIMD.Float32x4.mul(r,s);t=SIMD.Float32x4.swizzle(t,1,0,3,2);u=SIMD.Float32x4.mul(q,t);v=SIMD.Float32x4.mul(p,t);t=SIMD.Float32x4.swizzle(t,2,3,0,1);u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(q,t),u);v=SIMD.Float32x4.sub(SIMD.Float32x4.mul(p,t),v);v=SIMD.Float32x4.swizzle(v,2,3,0,1);t=SIMD.Float32x4.mul(q,r);t=SIMD.Float32x4.swizzle(t,1,0,3,2);u=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,t),u);x=SIMD.Float32x4.mul(p,t);t=SIMD.Float32x4.swizzle(t,2,3,0,1);u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(s,t));x=SIMD.Float32x4.sub(SIMD.Float32x4.mul(p,t),x);x=SIMD.Float32x4.swizzle(x,2,3,0,1);t=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(q,2,3,0,1),s);t=SIMD.Float32x4.swizzle(t,1,0,3,2);r=SIMD.Float32x4.swizzle(r,2,3,0,1);u=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,t),u);w=SIMD.Float32x4.mul(p,t);t=SIMD.Float32x4.swizzle(t,2,3,0,1);u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(r,t));w=SIMD.Float32x4.sub(SIMD.Float32x4.mul(p,t),w);w=SIMD.Float32x4.swizzle(w,2,3,0,1);t=SIMD.Float32x4.mul(p,q);t=SIMD.Float32x4.swizzle(t,1,0,3,2);w=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,t),w);x=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,t),x);t=SIMD.Float32x4.swizzle(t,2,3,0,1);w=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,t),w);x=SIMD.Float32x4.sub(x,SIMD.Float32x4.mul(r,t));t=SIMD.Float32x4.mul(p,s);t=SIMD.Float32x4.swizzle(t,1,0,3,2);v=SIMD.Float32x4.sub(v,SIMD.Float32x4.mul(r,t));w=SIMD.Float32x4.add(SIMD.Float32x4.mul(q,t),w);t=SIMD.Float32x4.swizzle(t,2,3,0,1);v=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,t),v);w=SIMD.Float32x4.sub(w,SIMD.Float32x4.mul(q,t));t=SIMD.Float32x4.mul(p,r);t=SIMD.Float32x4.swizzle(t,1,0,3,2);v=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,t),v);x=SIMD.Float32x4.sub(x,SIMD.Float32x4.mul(q,t));t=SIMD.Float32x4.swizzle(t,2,3,0,1);v=SIMD.Float32x4.sub(v,SIMD.Float32x4.mul(s,t));x=SIMD.Float32x4.add(SIMD.Float32x4.mul(q,t),x);SIMD.Float32x4.store(j,0,u);SIMD.Float32x4.store(j,4,v);SIMD.Float32x4.store(j,8,w);SIMD.Float32x4.store(j,12,x);return j;};i.adjoint=h.USE_SIMD?i.SIMD.adjoint:i.scalar.adjoint;i.determinant=function(j){var k=j[0],l=j[1],m=j[2],n=j[3],o=j[4],p=j[5],q=j[6],r=j[7],s=j[8],t=j[9],u=j[10],v=j[11],w=j[12],x=j[13],y=j[14],z=j[15],aa=k*p-l*o,ba=k*q-m*o,ca=k*r-n*o,da=l*q-m*p,ea=l*r-n*p,fa=m*r-n*q,ga=s*x-t*w,ha=s*y-u*w,ia=s*z-v*w,ja=t*y-u*x,ka=t*z-v*x,la=u*z-v*y;return aa*la-ba*ka+ca*ja+da*ia-ea*ha+fa*ga;};i.SIMD.multiply=function(j,k,l){var m=SIMD.Float32x4.load(k,0),n=SIMD.Float32x4.load(k,4),o=SIMD.Float32x4.load(k,8),p=SIMD.Float32x4.load(k,12),q=SIMD.Float32x4.load(l,0),r=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(q,0,0,0,0),m),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(q,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(q,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(q,3,3,3,3),p))));SIMD.Float32x4.store(j,0,r);var s=SIMD.Float32x4.load(l,4),t=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),m),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),p))));SIMD.Float32x4.store(j,4,t);var u=SIMD.Float32x4.load(l,8),v=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,0,0,0,0),m),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,3,3,3,3),p))));SIMD.Float32x4.store(j,8,v);var w=SIMD.Float32x4.load(l,12),x=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(w,0,0,0,0),m),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(w,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(w,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(w,3,3,3,3),p))));SIMD.Float32x4.store(j,12,x);return j;};i.scalar.multiply=function(j,k,l){var m=k[0],n=k[1],o=k[2],p=k[3],q=k[4],r=k[5],s=k[6],t=k[7],u=k[8],v=k[9],w=k[10],x=k[11],y=k[12],z=k[13],aa=k[14],ba=k[15],ca=l[0],da=l[1],ea=l[2],fa=l[3];j[0]=ca*m+da*q+ea*u+fa*y;j[1]=ca*n+da*r+ea*v+fa*z;j[2]=ca*o+da*s+ea*w+fa*aa;j[3]=ca*p+da*t+ea*x+fa*ba;ca=l[4];da=l[5];ea=l[6];fa=l[7];j[4]=ca*m+da*q+ea*u+fa*y;j[5]=ca*n+da*r+ea*v+fa*z;j[6]=ca*o+da*s+ea*w+fa*aa;j[7]=ca*p+da*t+ea*x+fa*ba;ca=l[8];da=l[9];ea=l[10];fa=l[11];j[8]=ca*m+da*q+ea*u+fa*y;j[9]=ca*n+da*r+ea*v+fa*z;j[10]=ca*o+da*s+ea*w+fa*aa;j[11]=ca*p+da*t+ea*x+fa*ba;ca=l[12];da=l[13];ea=l[14];fa=l[15];j[12]=ca*m+da*q+ea*u+fa*y;j[13]=ca*n+da*r+ea*v+fa*z;j[14]=ca*o+da*s+ea*w+fa*aa;j[15]=ca*p+da*t+ea*x+fa*ba;return j;};i.multiply=h.USE_SIMD?i.SIMD.multiply:i.scalar.multiply;i.mul=i.multiply;i.scalar.translate=function(j,k,l){var m=l[0],n=l[1],o=l[2],p,q,r,s,t,u,v,w,x,y,z,aa;if(k===j){j[12]=k[0]*m+k[4]*n+k[8]*o+k[12];j[13]=k[1]*m+k[5]*n+k[9]*o+k[13];j[14]=k[2]*m+k[6]*n+k[10]*o+k[14];j[15]=k[3]*m+k[7]*n+k[11]*o+k[15];}else{p=k[0];q=k[1];r=k[2];s=k[3];t=k[4];u=k[5];v=k[6];w=k[7];x=k[8];y=k[9];z=k[10];aa=k[11];j[0]=p;j[1]=q;j[2]=r;j[3]=s;j[4]=t;j[5]=u;j[6]=v;j[7]=w;j[8]=x;j[9]=y;j[10]=z;j[11]=aa;j[12]=p*m+t*n+x*o+k[12];j[13]=q*m+u*n+y*o+k[13];j[14]=r*m+v*n+z*o+k[14];j[15]=s*m+w*n+aa*o+k[15];}return j;};i.SIMD.translate=function(j,k,l){var m=SIMD.Float32x4.load(k,0),n=SIMD.Float32x4.load(k,4),o=SIMD.Float32x4.load(k,8),p=SIMD.Float32x4.load(k,12),q=SIMD.Float32x4(l[0],l[1],l[2],0);if(k!==j){j[0]=k[0];j[1]=k[1];j[2]=k[2];j[3]=k[3];j[4]=k[4];j[5]=k[5];j[6]=k[6];j[7]=k[7];j[8]=k[8];j[9]=k[9];j[10]=k[10];j[11]=k[11];}m=SIMD.Float32x4.mul(m,SIMD.Float32x4.swizzle(q,0,0,0,0));n=SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(q,1,1,1,1));o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(q,2,2,2,2));var r=SIMD.Float32x4.add(m,SIMD.Float32x4.add(n,SIMD.Float32x4.add(o,p)));SIMD.Float32x4.store(j,12,r);return j;};i.translate=h.USE_SIMD?i.SIMD.translate:i.scalar.translate;i.scalar.scale=function(j,k,l){var m=l[0],n=l[1],o=l[2];j[0]=k[0]*m;j[1]=k[1]*m;j[2]=k[2]*m;j[3]=k[3]*m;j[4]=k[4]*n;j[5]=k[5]*n;j[6]=k[6]*n;j[7]=k[7]*n;j[8]=k[8]*o;j[9]=k[9]*o;j[10]=k[10]*o;j[11]=k[11]*o;j[12]=k[12];j[13]=k[13];j[14]=k[14];j[15]=k[15];return j;};i.SIMD.scale=function(j,k,l){var m,n,o,p=SIMD.Float32x4(l[0],l[1],l[2],0);m=SIMD.Float32x4.load(k,0);SIMD.Float32x4.store(j,0,SIMD.Float32x4.mul(m,SIMD.Float32x4.swizzle(p,0,0,0,0)));n=SIMD.Float32x4.load(k,4);SIMD.Float32x4.store(j,4,SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(p,1,1,1,1)));o=SIMD.Float32x4.load(k,8);SIMD.Float32x4.store(j,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(p,2,2,2,2)));j[12]=k[12];j[13]=k[13];j[14]=k[14];j[15]=k[15];return j;};i.scale=h.USE_SIMD?i.SIMD.scale:i.scalar.scale;i.rotate=function(j,k,l,m){var n=m[0],o=m[1],p=m[2],q=Math.sqrt(n*n+o*o+p*p),r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa;if(Math.abs(q)<h.EPSILON)return null;q=1/q;n*=q;o*=q;p*=q;r=Math.sin(l);s=Math.cos(l);t=1-s;u=k[0];v=k[1];w=k[2];x=k[3];y=k[4];z=k[5];aa=k[6];ba=k[7];ca=k[8];da=k[9];ea=k[10];fa=k[11];ga=n*n*t+s;ha=o*n*t+p*r;ia=p*n*t-o*r;ja=n*o*t-p*r;ka=o*o*t+s;la=p*o*t+n*r;ma=n*p*t+o*r;na=o*p*t-n*r;oa=p*p*t+s;j[0]=u*ga+y*ha+ca*ia;j[1]=v*ga+z*ha+da*ia;j[2]=w*ga+aa*ha+ea*ia;j[3]=x*ga+ba*ha+fa*ia;j[4]=u*ja+y*ka+ca*la;j[5]=v*ja+z*ka+da*la;j[6]=w*ja+aa*ka+ea*la;j[7]=x*ja+ba*ka+fa*la;j[8]=u*ma+y*na+ca*oa;j[9]=v*ma+z*na+da*oa;j[10]=w*ma+aa*na+ea*oa;j[11]=x*ma+ba*na+fa*oa;if(k!==j){j[12]=k[12];j[13]=k[13];j[14]=k[14];j[15]=k[15];}return j;};i.scalar.rotateX=function(j,k,l){var m=Math.sin(l),n=Math.cos(l),o=k[4],p=k[5],q=k[6],r=k[7],s=k[8],t=k[9],u=k[10],v=k[11];if(k!==j){j[0]=k[0];j[1]=k[1];j[2]=k[2];j[3]=k[3];j[12]=k[12];j[13]=k[13];j[14]=k[14];j[15]=k[15];}j[4]=o*n+s*m;j[5]=p*n+t*m;j[6]=q*n+u*m;j[7]=r*n+v*m;j[8]=s*n-o*m;j[9]=t*n-p*m;j[10]=u*n-q*m;j[11]=v*n-r*m;return j;};i.SIMD.rotateX=function(j,k,l){var m=SIMD.Float32x4.splat(Math.sin(l)),n=SIMD.Float32x4.splat(Math.cos(l));if(k!==j){j[0]=k[0];j[1]=k[1];j[2]=k[2];j[3]=k[3];j[12]=k[12];j[13]=k[13];j[14]=k[14];j[15]=k[15];}var o=SIMD.Float32x4.load(k,4),p=SIMD.Float32x4.load(k,8);SIMD.Float32x4.store(j,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(p,m)));SIMD.Float32x4.store(j,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(p,n),SIMD.Float32x4.mul(o,m)));return j;};i.rotateX=h.USE_SIMD?i.SIMD.rotateX:i.scalar.rotateX;i.scalar.rotateY=function(j,k,l){var m=Math.sin(l),n=Math.cos(l),o=k[0],p=k[1],q=k[2],r=k[3],s=k[8],t=k[9],u=k[10],v=k[11];if(k!==j){j[4]=k[4];j[5]=k[5];j[6]=k[6];j[7]=k[7];j[12]=k[12];j[13]=k[13];j[14]=k[14];j[15]=k[15];}j[0]=o*n-s*m;j[1]=p*n-t*m;j[2]=q*n-u*m;j[3]=r*n-v*m;j[8]=o*m+s*n;j[9]=p*m+t*n;j[10]=q*m+u*n;j[11]=r*m+v*n;return j;};i.SIMD.rotateY=function(j,k,l){var m=SIMD.Float32x4.splat(Math.sin(l)),n=SIMD.Float32x4.splat(Math.cos(l));if(k!==j){j[4]=k[4];j[5]=k[5];j[6]=k[6];j[7]=k[7];j[12]=k[12];j[13]=k[13];j[14]=k[14];j[15]=k[15];}var o=SIMD.Float32x4.load(k,0),p=SIMD.Float32x4.load(k,8);SIMD.Float32x4.store(j,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(p,m)));SIMD.Float32x4.store(j,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,m),SIMD.Float32x4.mul(p,n)));return j;};i.rotateY=h.USE_SIMD?i.SIMD.rotateY:i.scalar.rotateY;i.scalar.rotateZ=function(j,k,l){var m=Math.sin(l),n=Math.cos(l),o=k[0],p=k[1],q=k[2],r=k[3],s=k[4],t=k[5],u=k[6],v=k[7];if(k!==j){j[8]=k[8];j[9]=k[9];j[10]=k[10];j[11]=k[11];j[12]=k[12];j[13]=k[13];j[14]=k[14];j[15]=k[15];}j[0]=o*n+s*m;j[1]=p*n+t*m;j[2]=q*n+u*m;j[3]=r*n+v*m;j[4]=s*n-o*m;j[5]=t*n-p*m;j[6]=u*n-q*m;j[7]=v*n-r*m;return j;};i.SIMD.rotateZ=function(j,k,l){var m=SIMD.Float32x4.splat(Math.sin(l)),n=SIMD.Float32x4.splat(Math.cos(l));if(k!==j){j[8]=k[8];j[9]=k[9];j[10]=k[10];j[11]=k[11];j[12]=k[12];j[13]=k[13];j[14]=k[14];j[15]=k[15];}var o=SIMD.Float32x4.load(k,0),p=SIMD.Float32x4.load(k,4);SIMD.Float32x4.store(j,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(p,m)));SIMD.Float32x4.store(j,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(p,n),SIMD.Float32x4.mul(o,m)));return j;};i.rotateZ=h.USE_SIMD?i.SIMD.rotateZ:i.scalar.rotateZ;i.fromTranslation=function(j,k){j[0]=1;j[1]=0;j[2]=0;j[3]=0;j[4]=0;j[5]=1;j[6]=0;j[7]=0;j[8]=0;j[9]=0;j[10]=1;j[11]=0;j[12]=k[0];j[13]=k[1];j[14]=k[2];j[15]=1;return j;};i.fromScaling=function(j,k){j[0]=k[0];j[1]=0;j[2]=0;j[3]=0;j[4]=0;j[5]=k[1];j[6]=0;j[7]=0;j[8]=0;j[9]=0;j[10]=k[2];j[11]=0;j[12]=0;j[13]=0;j[14]=0;j[15]=1;return j;};i.fromRotation=function(j,k,l){var m=l[0],n=l[1],o=l[2],p=Math.sqrt(m*m+n*n+o*o),q,r,s;if(Math.abs(p)<h.EPSILON)return null;p=1/p;m*=p;n*=p;o*=p;q=Math.sin(k);r=Math.cos(k);s=1-r;j[0]=m*m*s+r;j[1]=n*m*s+o*q;j[2]=o*m*s-n*q;j[3]=0;j[4]=m*n*s-o*q;j[5]=n*n*s+r;j[6]=o*n*s+m*q;j[7]=0;j[8]=m*o*s+n*q;j[9]=n*o*s-m*q;j[10]=o*o*s+r;j[11]=0;j[12]=0;j[13]=0;j[14]=0;j[15]=1;return j;};i.fromXRotation=function(j,k){var l=Math.sin(k),m=Math.cos(k);j[0]=1;j[1]=0;j[2]=0;j[3]=0;j[4]=0;j[5]=m;j[6]=l;j[7]=0;j[8]=0;j[9]=-l;j[10]=m;j[11]=0;j[12]=0;j[13]=0;j[14]=0;j[15]=1;return j;};i.fromYRotation=function(j,k){var l=Math.sin(k),m=Math.cos(k);j[0]=m;j[1]=0;j[2]=-l;j[3]=0;j[4]=0;j[5]=1;j[6]=0;j[7]=0;j[8]=l;j[9]=0;j[10]=m;j[11]=0;j[12]=0;j[13]=0;j[14]=0;j[15]=1;return j;};i.fromZRotation=function(j,k){var l=Math.sin(k),m=Math.cos(k);j[0]=m;j[1]=l;j[2]=0;j[3]=0;j[4]=-l;j[5]=m;j[6]=0;j[7]=0;j[8]=0;j[9]=0;j[10]=1;j[11]=0;j[12]=0;j[13]=0;j[14]=0;j[15]=1;return j;};i.fromRotationTranslation=function(j,k,l){var m=k[0],n=k[1],o=k[2],p=k[3],q=m+m,r=n+n,s=o+o,t=m*q,u=m*r,v=m*s,w=n*r,x=n*s,y=o*s,z=p*q,aa=p*r,ba=p*s;j[0]=1-(w+y);j[1]=u+ba;j[2]=v-aa;j[3]=0;j[4]=u-ba;j[5]=1-(t+y);j[6]=x+z;j[7]=0;j[8]=v+aa;j[9]=x-z;j[10]=1-(t+w);j[11]=0;j[12]=l[0];j[13]=l[1];j[14]=l[2];j[15]=1;return j;};i.getTranslation=function(j,k){j[0]=k[12];j[1]=k[13];j[2]=k[14];return j;};i.getRotation=function(j,k){var l=k[0]+k[5]+k[10],m=0;if(l>0){m=Math.sqrt(l+1)*2;j[3]=.25*m;j[0]=(k[6]-k[9])/m;j[1]=(k[8]-k[2])/m;j[2]=(k[1]-k[4])/m;}else if((k[0]>k[5])&(k[0]>k[10])){m=Math.sqrt(1+k[0]-k[5]-k[10])*2;j[3]=(k[6]-k[9])/m;j[0]=.25*m;j[1]=(k[1]+k[4])/m;j[2]=(k[8]+k[2])/m;}else if(k[5]>k[10]){m=Math.sqrt(1+k[5]-k[0]-k[10])*2;j[3]=(k[8]-k[2])/m;j[0]=(k[1]+k[4])/m;j[1]=.25*m;j[2]=(k[6]+k[9])/m;}else{m=Math.sqrt(1+k[10]-k[0]-k[5])*2;j[3]=(k[1]-k[4])/m;j[0]=(k[8]+k[2])/m;j[1]=(k[6]+k[9])/m;j[2]=.25*m;}return j;};i.fromRotationTranslationScale=function(j,k,l,m){var n=k[0],o=k[1],p=k[2],q=k[3],r=n+n,s=o+o,t=p+p,u=n*r,v=n*s,w=n*t,x=o*s,y=o*t,z=p*t,aa=q*r,ba=q*s,ca=q*t,da=m[0],ea=m[1],fa=m[2];j[0]=(1-(x+z))*da;j[1]=(v+ca)*da;j[2]=(w-ba)*da;j[3]=0;j[4]=(v-ca)*ea;j[5]=(1-(u+z))*ea;j[6]=(y+aa)*ea;j[7]=0;j[8]=(w+ba)*fa;j[9]=(y-aa)*fa;j[10]=(1-(u+x))*fa;j[11]=0;j[12]=l[0];j[13]=l[1];j[14]=l[2];j[15]=1;return j;};i.fromRotationTranslationScaleOrigin=function(j,k,l,m,n){var o=k[0],p=k[1],q=k[2],r=k[3],s=o+o,t=p+p,u=q+q,v=o*s,w=o*t,x=o*u,y=p*t,z=p*u,aa=q*u,ba=r*s,ca=r*t,da=r*u,ea=m[0],fa=m[1],ga=m[2],ha=n[0],ia=n[1],ja=n[2];j[0]=(1-(y+aa))*ea;j[1]=(w+da)*ea;j[2]=(x-ca)*ea;j[3]=0;j[4]=(w-da)*fa;j[5]=(1-(v+aa))*fa;j[6]=(z+ba)*fa;j[7]=0;j[8]=(x+ca)*ga;j[9]=(z-ba)*ga;j[10]=(1-(v+y))*ga;j[11]=0;j[12]=l[0]+ha-(j[0]*ha+j[4]*ia+j[8]*ja);j[13]=l[1]+ia-(j[1]*ha+j[5]*ia+j[9]*ja);j[14]=l[2]+ja-(j[2]*ha+j[6]*ia+j[10]*ja);j[15]=1;return j;};i.fromQuat=function(j,k){var l=k[0],m=k[1],n=k[2],o=k[3],p=l+l,q=m+m,r=n+n,s=l*p,t=m*p,u=m*q,v=n*p,w=n*q,x=n*r,y=o*p,z=o*q,aa=o*r;j[0]=1-u-x;j[1]=t+aa;j[2]=v-z;j[3]=0;j[4]=t-aa;j[5]=1-s-x;j[6]=w+y;j[7]=0;j[8]=v+z;j[9]=w-y;j[10]=1-s-u;j[11]=0;j[12]=0;j[13]=0;j[14]=0;j[15]=1;return j;};i.frustum=function(j,k,l,m,n,o,p){var q=1/(l-k),r=1/(n-m),s=1/(o-p);j[0]=(o*2)*q;j[1]=0;j[2]=0;j[3]=0;j[4]=0;j[5]=(o*2)*r;j[6]=0;j[7]=0;j[8]=(l+k)*q;j[9]=(n+m)*r;j[10]=(p+o)*s;j[11]=-1;j[12]=0;j[13]=0;j[14]=(p*o*2)*s;j[15]=0;return j;};i.perspective=function(j,k,l,m,n){var o=1/Math.tan(k/2),p=1/(m-n);j[0]=o/l;j[1]=0;j[2]=0;j[3]=0;j[4]=0;j[5]=o;j[6]=0;j[7]=0;j[8]=0;j[9]=0;j[10]=(n+m)*p;j[11]=-1;j[12]=0;j[13]=0;j[14]=(2*n*m)*p;j[15]=0;return j;};i.perspectiveFromFieldOfView=function(j,k,l,m){var n=Math.tan(k.upDegrees*Math.PI/180),o=Math.tan(k.downDegrees*Math.PI/180),p=Math.tan(k.leftDegrees*Math.PI/180),q=Math.tan(k.rightDegrees*Math.PI/180),r=2/(p+q),s=2/(n+o);j[0]=r;j[1]=0;j[2]=0;j[3]=0;j[4]=0;j[5]=s;j[6]=0;j[7]=0;j[8]=-((p-q)*r*.5);j[9]=((n-o)*s*.5);j[10]=m/(l-m);j[11]=-1;j[12]=0;j[13]=0;j[14]=(m*l)/(l-m);j[15]=0;return j;};i.ortho=function(j,k,l,m,n,o,p){var q=1/(k-l),r=1/(m-n),s=1/(o-p);j[0]=-2*q;j[1]=0;j[2]=0;j[3]=0;j[4]=0;j[5]=-2*r;j[6]=0;j[7]=0;j[8]=0;j[9]=0;j[10]=2*s;j[11]=0;j[12]=(k+l)*q;j[13]=(n+m)*r;j[14]=(p+o)*s;j[15]=1;return j;};i.lookAt=function(j,k,l,m){var n,o,p,q,r,s,t,u,v,w,x=k[0],y=k[1],z=k[2],aa=m[0],ba=m[1],ca=m[2],da=l[0],ea=l[1],fa=l[2];if(Math.abs(x-da)<h.EPSILON&&Math.abs(y-ea)<h.EPSILON&&Math.abs(z-fa)<h.EPSILON)return i.identity(j);t=x-da;u=y-ea;v=z-fa;w=1/Math.sqrt(t*t+u*u+v*v);t*=w;u*=w;v*=w;n=ba*v-ca*u;o=ca*t-aa*v;p=aa*u-ba*t;w=Math.sqrt(n*n+o*o+p*p);if(!w){n=0;o=0;p=0;}else{w=1/w;n*=w;o*=w;p*=w;}q=u*p-v*o;r=v*n-t*p;s=t*o-u*n;w=Math.sqrt(q*q+r*r+s*s);if(!w){q=0;r=0;s=0;}else{w=1/w;q*=w;r*=w;s*=w;}j[0]=n;j[1]=q;j[2]=t;j[3]=0;j[4]=o;j[5]=r;j[6]=u;j[7]=0;j[8]=p;j[9]=s;j[10]=v;j[11]=0;j[12]=-(n*x+o*y+p*z);j[13]=-(q*x+r*y+s*z);j[14]=-(t*x+u*y+v*z);j[15]=1;return j;};i.str=function(j){return 'mat4('+j[0]+', '+j[1]+', '+j[2]+', '+j[3]+', '+j[4]+', '+j[5]+', '+j[6]+', '+j[7]+', '+j[8]+', '+j[9]+', '+j[10]+', '+j[11]+', '+j[12]+', '+j[13]+', '+j[14]+', '+j[15]+')';};i.frob=function(j){return (Math.sqrt(Math.pow(j[0],2)+Math.pow(j[1],2)+Math.pow(j[2],2)+Math.pow(j[3],2)+Math.pow(j[4],2)+Math.pow(j[5],2)+Math.pow(j[6],2)+Math.pow(j[7],2)+Math.pow(j[8],2)+Math.pow(j[9],2)+Math.pow(j[10],2)+Math.pow(j[11],2)+Math.pow(j[12],2)+Math.pow(j[13],2)+Math.pow(j[14],2)+Math.pow(j[15],2)));};i.add=function(j,k,l){j[0]=k[0]+l[0];j[1]=k[1]+l[1];j[2]=k[2]+l[2];j[3]=k[3]+l[3];j[4]=k[4]+l[4];j[5]=k[5]+l[5];j[6]=k[6]+l[6];j[7]=k[7]+l[7];j[8]=k[8]+l[8];j[9]=k[9]+l[9];j[10]=k[10]+l[10];j[11]=k[11]+l[11];j[12]=k[12]+l[12];j[13]=k[13]+l[13];j[14]=k[14]+l[14];j[15]=k[15]+l[15];return j;};i.subtract=function(j,k,l){j[0]=k[0]-l[0];j[1]=k[1]-l[1];j[2]=k[2]-l[2];j[3]=k[3]-l[3];j[4]=k[4]-l[4];j[5]=k[5]-l[5];j[6]=k[6]-l[6];j[7]=k[7]-l[7];j[8]=k[8]-l[8];j[9]=k[9]-l[9];j[10]=k[10]-l[10];j[11]=k[11]-l[11];j[12]=k[12]-l[12];j[13]=k[13]-l[13];j[14]=k[14]-l[14];j[15]=k[15]-l[15];return j;};i.sub=i.subtract;i.multiplyScalar=function(j,k,l){j[0]=k[0]*l;j[1]=k[1]*l;j[2]=k[2]*l;j[3]=k[3]*l;j[4]=k[4]*l;j[5]=k[5]*l;j[6]=k[6]*l;j[7]=k[7]*l;j[8]=k[8]*l;j[9]=k[9]*l;j[10]=k[10]*l;j[11]=k[11]*l;j[12]=k[12]*l;j[13]=k[13]*l;j[14]=k[14]*l;j[15]=k[15]*l;return j;};i.multiplyScalarAndAdd=function(j,k,l,m){j[0]=k[0]+(l[0]*m);j[1]=k[1]+(l[1]*m);j[2]=k[2]+(l[2]*m);j[3]=k[3]+(l[3]*m);j[4]=k[4]+(l[4]*m);j[5]=k[5]+(l[5]*m);j[6]=k[6]+(l[6]*m);j[7]=k[7]+(l[7]*m);j[8]=k[8]+(l[8]*m);j[9]=k[9]+(l[9]*m);j[10]=k[10]+(l[10]*m);j[11]=k[11]+(l[11]*m);j[12]=k[12]+(l[12]*m);j[13]=k[13]+(l[13]*m);j[14]=k[14]+(l[14]*m);j[15]=k[15]+(l[15]*m);return j;};i.exactEquals=function(j,k){return j[0]===k[0]&&j[1]===k[1]&&j[2]===k[2]&&j[3]===k[3]&&j[4]===k[4]&&j[5]===k[5]&&j[6]===k[6]&&j[7]===k[7]&&j[8]===k[8]&&j[9]===k[9]&&j[10]===k[10]&&j[11]===k[11]&&j[12]===k[12]&&j[13]===k[13]&&j[14]===k[14]&&j[15]===k[15];};i.equals=function(j,k){var l=j[0],m=j[1],n=j[2],o=j[3],p=j[4],q=j[5],r=j[6],s=j[7],t=j[8],u=j[9],v=j[10],w=j[11],x=j[12],y=j[13],z=j[14],aa=j[15],ba=k[0],ca=k[1],da=k[2],ea=k[3],fa=k[4],ga=k[5],ha=k[6],ia=k[7],ja=k[8],ka=k[9],la=k[10],ma=k[11],na=k[12],oa=k[13],pa=k[14],qa=k[15];return (Math.abs(l-ba)<=h.EPSILON*Math.max(1,Math.abs(l),Math.abs(ba))&&Math.abs(m-ca)<=h.EPSILON*Math.max(1,Math.abs(m),Math.abs(ca))&&Math.abs(n-da)<=h.EPSILON*Math.max(1,Math.abs(n),Math.abs(da))&&Math.abs(o-ea)<=h.EPSILON*Math.max(1,Math.abs(o),Math.abs(ea))&&Math.abs(p-fa)<=h.EPSILON*Math.max(1,Math.abs(p),Math.abs(fa))&&Math.abs(q-ga)<=h.EPSILON*Math.max(1,Math.abs(q),Math.abs(ga))&&Math.abs(r-ha)<=h.EPSILON*Math.max(1,Math.abs(r),Math.abs(ha))&&Math.abs(s-ia)<=h.EPSILON*Math.max(1,Math.abs(s),Math.abs(ia))&&Math.abs(t-ja)<=h.EPSILON*Math.max(1,Math.abs(t),Math.abs(ja))&&Math.abs(u-ka)<=h.EPSILON*Math.max(1,Math.abs(u),Math.abs(ka))&&Math.abs(v-la)<=h.EPSILON*Math.max(1,Math.abs(v),Math.abs(la))&&Math.abs(w-ma)<=h.EPSILON*Math.max(1,Math.abs(w),Math.abs(ma))&&Math.abs(x-na)<=h.EPSILON*Math.max(1,Math.abs(x),Math.abs(na))&&Math.abs(y-oa)<=h.EPSILON*Math.max(1,Math.abs(y),Math.abs(oa))&&Math.abs(z-pa)<=h.EPSILON*Math.max(1,Math.abs(z),Math.abs(pa))&&Math.abs(aa-qa)<=h.EPSILON*Math.max(1,Math.abs(aa),Math.abs(qa)));};f.exports=i;}),null);
__d("gl-matrix-vec3",["gl-matrix-common"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c("gl-matrix-common"),i={};i.create=function(){var j=new h.ARRAY_TYPE(3);j[0]=0;j[1]=0;j[2]=0;return j;};i.clone=function(j){var k=new h.ARRAY_TYPE(3);k[0]=j[0];k[1]=j[1];k[2]=j[2];return k;};i.fromValues=function(j,k,l){var m=new h.ARRAY_TYPE(3);m[0]=j;m[1]=k;m[2]=l;return m;};i.copy=function(j,k){j[0]=k[0];j[1]=k[1];j[2]=k[2];return j;};i.set=function(j,k,l,m){j[0]=k;j[1]=l;j[2]=m;return j;};i.add=function(j,k,l){j[0]=k[0]+l[0];j[1]=k[1]+l[1];j[2]=k[2]+l[2];return j;};i.subtract=function(j,k,l){j[0]=k[0]-l[0];j[1]=k[1]-l[1];j[2]=k[2]-l[2];return j;};i.sub=i.subtract;i.multiply=function(j,k,l){j[0]=k[0]*l[0];j[1]=k[1]*l[1];j[2]=k[2]*l[2];return j;};i.mul=i.multiply;i.divide=function(j,k,l){j[0]=k[0]/l[0];j[1]=k[1]/l[1];j[2]=k[2]/l[2];return j;};i.div=i.divide;i.ceil=function(j,k){j[0]=Math.ceil(k[0]);j[1]=Math.ceil(k[1]);j[2]=Math.ceil(k[2]);return j;};i.floor=function(j,k){j[0]=Math.floor(k[0]);j[1]=Math.floor(k[1]);j[2]=Math.floor(k[2]);return j;};i.min=function(j,k,l){j[0]=Math.min(k[0],l[0]);j[1]=Math.min(k[1],l[1]);j[2]=Math.min(k[2],l[2]);return j;};i.max=function(j,k,l){j[0]=Math.max(k[0],l[0]);j[1]=Math.max(k[1],l[1]);j[2]=Math.max(k[2],l[2]);return j;};i.round=function(j,k){j[0]=Math.round(k[0]);j[1]=Math.round(k[1]);j[2]=Math.round(k[2]);return j;};i.scale=function(j,k,l){j[0]=k[0]*l;j[1]=k[1]*l;j[2]=k[2]*l;return j;};i.scaleAndAdd=function(j,k,l,m){j[0]=k[0]+(l[0]*m);j[1]=k[1]+(l[1]*m);j[2]=k[2]+(l[2]*m);return j;};i.distance=function(j,k){var l=k[0]-j[0],m=k[1]-j[1],n=k[2]-j[2];return Math.sqrt(l*l+m*m+n*n);};i.dist=i.distance;i.squaredDistance=function(j,k){var l=k[0]-j[0],m=k[1]-j[1],n=k[2]-j[2];return l*l+m*m+n*n;};i.sqrDist=i.squaredDistance;i.length=function(j){var k=j[0],l=j[1],m=j[2];return Math.sqrt(k*k+l*l+m*m);};i.len=i.length;i.squaredLength=function(j){var k=j[0],l=j[1],m=j[2];return k*k+l*l+m*m;};i.sqrLen=i.squaredLength;i.negate=function(j,k){j[0]=-k[0];j[1]=-k[1];j[2]=-k[2];return j;};i.inverse=function(j,k){j[0]=1/k[0];j[1]=1/k[1];j[2]=1/k[2];return j;};i.normalize=function(j,k){var l=k[0],m=k[1],n=k[2],o=l*l+m*m+n*n;if(o>0){o=1/Math.sqrt(o);j[0]=k[0]*o;j[1]=k[1]*o;j[2]=k[2]*o;}return j;};i.dot=function(j,k){return j[0]*k[0]+j[1]*k[1]+j[2]*k[2];};i.cross=function(j,k,l){var m=k[0],n=k[1],o=k[2],p=l[0],q=l[1],r=l[2];j[0]=n*r-o*q;j[1]=o*p-m*r;j[2]=m*q-n*p;return j;};i.lerp=function(j,k,l,m){var n=k[0],o=k[1],p=k[2];j[0]=n+m*(l[0]-n);j[1]=o+m*(l[1]-o);j[2]=p+m*(l[2]-p);return j;};i.hermite=function(j,k,l,m,n,o){var p=o*o,q=p*(2*o-3)+1,r=p*(o-2)+o,s=p*(o-1),t=p*(3-2*o);j[0]=k[0]*q+l[0]*r+m[0]*s+n[0]*t;j[1]=k[1]*q+l[1]*r+m[1]*s+n[1]*t;j[2]=k[2]*q+l[2]*r+m[2]*s+n[2]*t;return j;};i.bezier=function(j,k,l,m,n,o){var p=1-o,q=p*p,r=o*o,s=q*p,t=3*o*q,u=3*r*p,v=r*o;j[0]=k[0]*s+l[0]*t+m[0]*u+n[0]*v;j[1]=k[1]*s+l[1]*t+m[1]*u+n[1]*v;j[2]=k[2]*s+l[2]*t+m[2]*u+n[2]*v;return j;};i.random=function(j,k){k=k||1;var l=h.RANDOM()*2*Math.PI,m=(h.RANDOM()*2)-1,n=Math.sqrt(1-m*m)*k;j[0]=Math.cos(l)*n;j[1]=Math.sin(l)*n;j[2]=m*k;return j;};i.transformMat4=function(j,k,l){var m=k[0],n=k[1],o=k[2],p=l[3]*m+l[7]*n+l[11]*o+l[15];p=p||1;j[0]=(l[0]*m+l[4]*n+l[8]*o+l[12])/p;j[1]=(l[1]*m+l[5]*n+l[9]*o+l[13])/p;j[2]=(l[2]*m+l[6]*n+l[10]*o+l[14])/p;return j;};i.transformMat3=function(j,k,l){var m=k[0],n=k[1],o=k[2];j[0]=m*l[0]+n*l[3]+o*l[6];j[1]=m*l[1]+n*l[4]+o*l[7];j[2]=m*l[2]+n*l[5]+o*l[8];return j;};i.transformQuat=function(j,k,l){var m=k[0],n=k[1],o=k[2],p=l[0],q=l[1],r=l[2],s=l[3],t=s*m+q*o-r*n,u=s*n+r*m-p*o,v=s*o+p*n-q*m,w=-p*m-q*n-r*o;j[0]=t*s+w*-p+u*-r-v*-q;j[1]=u*s+w*-q+v*-p-t*-r;j[2]=v*s+w*-r+t*-q-u*-p;return j;};i.rotateX=function(j,k,l,m){var n=[],o=[];n[0]=k[0]-l[0];n[1]=k[1]-l[1];n[2]=k[2]-l[2];o[0]=n[0];o[1]=n[1]*Math.cos(m)-n[2]*Math.sin(m);o[2]=n[1]*Math.sin(m)+n[2]*Math.cos(m);j[0]=o[0]+l[0];j[1]=o[1]+l[1];j[2]=o[2]+l[2];return j;};i.rotateY=function(j,k,l,m){var n=[],o=[];n[0]=k[0]-l[0];n[1]=k[1]-l[1];n[2]=k[2]-l[2];o[0]=n[2]*Math.sin(m)+n[0]*Math.cos(m);o[1]=n[1];o[2]=n[2]*Math.cos(m)-n[0]*Math.sin(m);j[0]=o[0]+l[0];j[1]=o[1]+l[1];j[2]=o[2]+l[2];return j;};i.rotateZ=function(j,k,l,m){var n=[],o=[];n[0]=k[0]-l[0];n[1]=k[1]-l[1];n[2]=k[2]-l[2];o[0]=n[0]*Math.cos(m)-n[1]*Math.sin(m);o[1]=n[0]*Math.sin(m)+n[1]*Math.cos(m);o[2]=n[2];j[0]=o[0]+l[0];j[1]=o[1]+l[1];j[2]=o[2]+l[2];return j;};i.forEach=(function(){var j=i.create();return function(k,l,m,n,o,p){var q,r;if(!l)l=3;if(!m)m=0;if(n){r=Math.min((n*l)+m,k.length);}else r=k.length;for(q=m;q<r;q+=l){j[0]=k[q];j[1]=k[q+1];j[2]=k[q+2];o(j,j,p);k[q]=j[0];k[q+1]=j[1];k[q+2]=j[2];}return k;};})();i.angle=function(j,k){var l=i.fromValues(j[0],j[1],j[2]),m=i.fromValues(k[0],k[1],k[2]);i.normalize(l,l);i.normalize(m,m);var n=i.dot(l,m);if(n>1){return 0;}else return Math.acos(n);};i.str=function(j){return 'vec3('+j[0]+', '+j[1]+', '+j[2]+')';};i.exactEquals=function(j,k){return j[0]===k[0]&&j[1]===k[1]&&j[2]===k[2];};i.equals=function(j,k){var l=j[0],m=j[1],n=j[2],o=k[0],p=k[1],q=k[2];return (Math.abs(l-o)<=h.EPSILON*Math.max(1,Math.abs(l),Math.abs(o))&&Math.abs(m-p)<=h.EPSILON*Math.max(1,Math.abs(m),Math.abs(p))&&Math.abs(n-q)<=h.EPSILON*Math.max(1,Math.abs(n),Math.abs(q)));};f.exports=i;}),null);
__d("GLMatrix",["gl-matrix-common","gl-matrix-mat4","gl-matrix-vec3"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();g.glMatrix=c("gl-matrix-common");g.mat4=c("gl-matrix-mat4");g.vec3=c("gl-matrix-vec3");}),null);
__d('getErrorNameFromWebGLErrorCode',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={'0':'NO_ERROR','1280':'INVALID_ENUM','1281':'INVALID_VALUE','1282':'INVALID_OPERATION','1285':'OUT_OF_MEMORY','1286':'INVALID_FRAMEBUFFER_OPERATION','37442':'CONTEXT_LOST_WEBGL'};function i(j){if(!(j in h))return 'UNKNOWN_ERROR';return h[j];}f.exports=i;}),null);
__d('SphericalRenderer',['DOM','EventEmitter','EventListener','VideoProjection','GLMatrix','getErrorNameFromWebGLErrorCode'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('GLMatrix').glMatrix,k=c('GLMatrix').mat4,l=c('GLMatrix').vec3,m=window.devicePixelRatio||1;h=babelHelpers.inherits(n,c('EventEmitter'));i=h&&h.prototype;function n(o,p,q){'use strict';i.constructor.call(this);this.$SphericalRenderer2=q;this.$SphericalRenderer21=q.fieldOfView;this.$SphericalRenderer16=true;this.$SphericalRenderer15=o;this.$SphericalRenderer1=p;this.$SphericalRenderer9=k.create();this.$SphericalRenderer10=k.create();this.$SphericalRenderer3=false;this.$SphericalRenderer18=[];this.$SphericalRenderer20=null;this.$SphericalRenderer19=null;this.$SphericalRenderer17=q.projectionType===c('VideoProjection').UNPADDED_CUBESTRIP;this.$SphericalRenderer7=q.projectionType===c('VideoProjection').ROTATED_CUBEMAP;this.$SphericalRenderer11=null;this.$SphericalRenderer12=null;this.$SphericalRenderer8=null;this.$SphericalRenderer4=this.$SphericalRenderer22.bind(this);this.$SphericalRenderer5=this.$SphericalRenderer23.bind(this);this.$SphericalRenderer1.addEventListener('webglcontextlost',this.$SphericalRenderer4);this.$SphericalRenderer1.addEventListener('webglcontextrestored',this.$SphericalRenderer5);this.$SphericalRenderer24();}n.prototype.destroy=function(){'use strict';this.removeAllListeners();this.$SphericalRenderer1.removeEventListener('webglcontextlost',this.$SphericalRenderer4);this.$SphericalRenderer1.removeEventListener('webglcontextrestored',this.$SphericalRenderer5);};n.prototype.reconfigure=function(o,p){'use strict';this.$SphericalRenderer21=p.fieldOfView;this.$SphericalRenderer15=o;this.$SphericalRenderer2=p;this.$SphericalRenderer17=p.projectionType===c('VideoProjection').UNPADDED_CUBESTRIP;this.$SphericalRenderer7=p.projectionType===c('VideoProjection').ROTATED_CUBEMAP;this.$SphericalRenderer24();};n.prototype.hasRenderingContext=function(){'use strict';return !this.$SphericalRenderer3;};n.prototype.$SphericalRenderer22=function(o){'use strict';o.preventDefault();this.emit('renderingContextLost');this.$SphericalRenderer3=true;};n.prototype.$SphericalRenderer23=function(o){'use strict';this.$SphericalRenderer3=false;this.$SphericalRenderer24();this.emit('renderingContextRestore');};n.prototype.setAutoUpdateTexture=function(o){'use strict';this.$SphericalRenderer16=o;};n.prototype.updateFieldOfView=function(o){'use strict';this.$SphericalRenderer21=o;this.$SphericalRenderer25();};n.prototype.updateViewportDimensions=function(o,p){'use strict';this.$SphericalRenderer1.width=o*m;this.$SphericalRenderer1.height=p*m;this.$SphericalRenderer25();};n.prototype.$SphericalRenderer25=function(){'use strict';k.perspective(this.$SphericalRenderer9,j.toRadian(this.$SphericalRenderer21),this.$SphericalRenderer1.width/this.$SphericalRenderer1.height,.1,100);this.$SphericalRenderer6.viewport(0,0,this.$SphericalRenderer6.drawingBufferWidth,this.$SphericalRenderer6.drawingBufferHeight);};n.prototype.$SphericalRenderer24=function(){'use strict';this.$SphericalRenderer26();this.updateViewportDimensions(this.$SphericalRenderer1.clientWidth,this.$SphericalRenderer1.clientHeight);if(!this.$SphericalRenderer27())throw new Error('Failed to intialize shaders: '+c('getErrorNameFromWebGLErrorCode')(this.$SphericalRenderer6.getError()));this.$SphericalRenderer28();this.$SphericalRenderer6.clearColor(0,0,0,1);this.$SphericalRenderer15.setAttribute('crossorigin','anonymous');if(this.$SphericalRenderer2.projectionType===c('VideoProjection').ROTATED_CUBEMAP)this.$SphericalRenderer29();};n.prototype.getScreenshotDataURL=function(o,p,q,r){'use strict';if(!this.$SphericalRenderer6||this.$SphericalRenderer3)return '';this.render(o,p);return this.$SphericalRenderer1.toDataURL(q,r);};n.prototype.$SphericalRenderer26=function(){'use strict';if(this.$SphericalRenderer6&&!this.$SphericalRenderer3)return;if(!b.WebGLRenderingContext)throw new Error('WebGLRenderingContext not available.');var o=['webgl','experimental-webgl','webkit-3d','moz-webgl'],p=null,q=null,r=c('EventListener').listen(this.$SphericalRenderer1,'webglcontextcreationerror',function(u){return q=u.statusMessage;});for(var s=0;s<o.length;s++){try{p=this.$SphericalRenderer1.getContext(o[s]);}catch(t){}if(p)break;}r.remove();if(!p){if(!q)q='Unknown error.';throw new Error('Failed to acquire 3D rendering context: '+q);}this.$SphericalRenderer6=p;this.$SphericalRenderer3=false;};n.prototype.$SphericalRenderer27=function(){'use strict';var o=this.$SphericalRenderer30();if(!o)return false;var p=this.$SphericalRenderer31();if(!p)return false;this.$SphericalRenderer14=this.$SphericalRenderer6.createProgram();this.$SphericalRenderer6.attachShader(this.$SphericalRenderer14,o);this.$SphericalRenderer6.attachShader(this.$SphericalRenderer14,p);this.$SphericalRenderer6.linkProgram(this.$SphericalRenderer14);if(!this.$SphericalRenderer6.getProgramParameter(this.$SphericalRenderer14,this.$SphericalRenderer6.LINK_STATUS))return false;this.$SphericalRenderer6.useProgram(this.$SphericalRenderer14);this.$SphericalRenderer14.vertexPositionAttribute=this.$SphericalRenderer6.getAttribLocation(this.$SphericalRenderer14,'aVertexPosition');this.$SphericalRenderer6.enableVertexAttribArray(this.$SphericalRenderer14.vertexPositionAttribute);this.$SphericalRenderer14.pMatrixUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer14,'uPMatrix');this.$SphericalRenderer14.mvMatrixUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer14,'uMVMatrix');this.$SphericalRenderer14.samplerUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer14,'uSampler');if(!this.$SphericalRenderer17){this.$SphericalRenderer14.textureCoordAttribute=this.$SphericalRenderer6.getAttribLocation(this.$SphericalRenderer14,'aTextureCoord');this.$SphericalRenderer6.enableVertexAttribArray(this.$SphericalRenderer14.textureCoordAttribute);}return true;};n.prototype.$SphericalRenderer28=function(){'use strict';this.$SphericalRenderer13=this.$SphericalRenderer6.createTexture();this.$SphericalRenderer13.image=this.$SphericalRenderer15;var o=this.$SphericalRenderer17?this.$SphericalRenderer6.TEXTURE_CUBE_MAP:this.$SphericalRenderer6.TEXTURE_2D;this.$SphericalRenderer6.bindTexture(o,this.$SphericalRenderer13);this.$SphericalRenderer6.texParameteri(o,this.$SphericalRenderer6.TEXTURE_MAG_FILTER,this.$SphericalRenderer6.LINEAR);this.$SphericalRenderer6.texParameteri(o,this.$SphericalRenderer6.TEXTURE_MIN_FILTER,this.$SphericalRenderer6.LINEAR);this.$SphericalRenderer6.texParameteri(o,this.$SphericalRenderer6.TEXTURE_WRAP_S,this.$SphericalRenderer6.CLAMP_TO_EDGE);this.$SphericalRenderer6.texParameteri(o,this.$SphericalRenderer6.TEXTURE_WRAP_T,this.$SphericalRenderer6.CLAMP_TO_EDGE);this.$SphericalRenderer6.bindTexture(o,null);};n.prototype.$SphericalRenderer32=function(o){'use strict';var p=30,q=30,r=2,s=[],t=[],u,v;for(u=0;u<=p;u++){var w=(u/p-.5)*Math.PI,x=Math.sin(w),y=Math.cos(w);for(v=0;v<=q;v++){var z=(v/q-.5)*2*Math.PI,aa=Math.sin(z),ba=Math.cos(z),ca=ba*y,da=x,ea=aa*y,fa=v/q,ga=u/p;t.push(fa);t.push(ga);s.push(r*ca);s.push(r*da);s.push(r*ea);}}var ha=[];for(u=0;u<p;u++)for(v=0;v<q;v++){var ia=u*(q+1)+v,ja=ia+q+1;ha.push(ia);ha.push(ja);ha.push(ia+1);ha.push(ja);ha.push(ja+1);ha.push(ia+1);}this.$SphericalRenderer18[o]=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer18[o]);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(t),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer18[o].itemSize=2;this.$SphericalRenderer18[o].numItems=t.length/2;this.$SphericalRenderer20=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(s),this.$SphericalRenderer6.STATIC_DRAW);if(this.$SphericalRenderer20){this.$SphericalRenderer20.itemSize=3;this.$SphericalRenderer20.numItems=s.length/3;}this.$SphericalRenderer19=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer19);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,new Uint16Array(ha),this.$SphericalRenderer6.STATIC_DRAW);if(this.$SphericalRenderer19){this.$SphericalRenderer19.itemSize=1;this.$SphericalRenderer19.numItems=ha.length;}};n.prototype.$SphericalRenderer33=function(o,p,q){'use strict';var r=[5,1,3,7,0,4,6,2,6,7,3,2,0,1,5,4,4,5,7,6,1,0,2,3],s=[];for(var t=0;t<r.length;t++){var u=r[t]>>2&1,v=r[t]>>1&1,w=r[t]>>0&1;s.push(u*2-1);s.push(v*2-1);s.push(w*2-1);}this.$SphericalRenderer20=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(s),this.$SphericalRenderer6.STATIC_DRAW);if(this.$SphericalRenderer20){this.$SphericalRenderer20.itemSize=3;this.$SphericalRenderer20.numItems=s.length/3;}if(!this.$SphericalRenderer17){var x,y,z,aa,ba,ca=[];if(this.$SphericalRenderer7){var da=this.$SphericalRenderer13.image.videoWidth/2;p=da/(Math.floor(da/32)*32);z=(p-1)/2;x=3;y=2;aa=1/y;ba=1/x;ca.push((0+z)*aa);ca.push((1-z)*ba);ca.push((0+z)*aa);ca.push((0+z)*ba);ca.push((1-z)*aa);ca.push((0+z)*ba);ca.push((1-z)*aa);ca.push((1-z)*ba);ca.push((0+z)*aa);ca.push((3-z)*ba);ca.push((0+z)*aa);ca.push((2+z)*ba);ca.push((1-z)*aa);ca.push((2+z)*ba);ca.push((1-z)*aa);ca.push((3-z)*ba);ca.push((2-z)*aa);ca.push((3-z)*ba);ca.push((1+z)*aa);ca.push((3-z)*ba);ca.push((1+z)*aa);ca.push((2+z)*ba);ca.push((2-z)*aa);ca.push((2+z)*ba);ca.push((2-z)*aa);ca.push((1-z)*ba);ca.push((1+z)*aa);ca.push((1-z)*ba);ca.push((1+z)*aa);ca.push((0+z)*ba);ca.push((2-z)*aa);ca.push((0+z)*ba);ca.push((0+z)*aa);ca.push((2-z)*ba);ca.push((0+z)*aa);ca.push((1+z)*ba);ca.push((1-z)*aa);ca.push((1+z)*ba);ca.push((1-z)*aa);ca.push((2-z)*ba);ca.push((1+z)*aa);ca.push((1+z)*ba);ca.push((2-z)*aa);ca.push((1+z)*ba);ca.push((2-z)*aa);ca.push((2-z)*ba);ca.push((1+z)*aa);ca.push((2-z)*ba);}else{z=(p-1)/2;x=2;y=3;aa=1/y;ba=1/x;for(var ea=0;ea<x;++ea)for(var fa=0;fa<y;++fa){var ga=x-1-ea,ha=fa;ca.push((ha+z)*aa);ca.push((ga+z)*ba);ca.push((ha+1-z)*aa);ca.push((ga+z)*ba);ca.push((ha+1-z)*aa);ca.push((ga+1-z)*ba);ca.push((ha+z)*aa);ca.push((ga+1-z)*ba);}}this.$SphericalRenderer18[q]=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer18[q]);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(ca),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer18[q].itemSize=2;this.$SphericalRenderer18[q].numItems=ca.length/2;}var ia=[];for(var ja=0;ja<r.length;ja+=4){ia.push(ja);ia.push(ja+2);ia.push(ja+1);ia.push(ja);ia.push(ja+3);ia.push(ja+2);}this.$SphericalRenderer19=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer19);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,new Uint16Array(ia),this.$SphericalRenderer6.STATIC_DRAW);if(this.$SphericalRenderer19){this.$SphericalRenderer19.itemSize=1;this.$SphericalRenderer19.numItems=ia.length;}};n.prototype.$SphericalRenderer29=function(){'use strict';this.$SphericalRenderer11=l.fromValues(1,1,-1);this.$SphericalRenderer12=l.fromValues(-1,1,0);var o=k.create();k.rotate(o,o,j.toRadian(15),this.$SphericalRenderer12);l.transformMat4(this.$SphericalRenderer11,this.$SphericalRenderer11,o);this.$SphericalRenderer8=k.create();k.lookAt(this.$SphericalRenderer8,l.fromValues(0,0,0),l.fromValues(1,1,1),this.$SphericalRenderer12);};n.prototype.$SphericalRenderer30=function(){'use strict';var o=this.$SphericalRenderer6.createShader(this.$SphericalRenderer6.VERTEX_SHADER),p='\n      attribute vec3 aVertexPosition;\n\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n\n      varying highp vec3 vVertexDirectionVector;\n\n      void main(void) {\n        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n        vVertexDirectionVector = aVertexPosition;\n      }\n    ',q='\n      attribute vec3 aVertexPosition;\n      attribute vec2 aTextureCoord;\n\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n\n      varying highp vec2 vTextureCoord;\n\n      void main(void) {\n        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n        vTextureCoord = aTextureCoord;\n      }\n    ',r=this.$SphericalRenderer17?p:q;this.$SphericalRenderer6.shaderSource(o,r);this.$SphericalRenderer6.compileShader(o);if(!this.$SphericalRenderer6.getShaderParameter(o,this.$SphericalRenderer6.COMPILE_STATUS))return null;return o;};n.prototype.$SphericalRenderer31=function(){'use strict';var o=this.$SphericalRenderer6.createShader(this.$SphericalRenderer6.FRAGMENT_SHADER),p='\n      varying highp vec3 vVertexDirectionVector;\n      uniform samplerCube uSampler;\n\n      void main(void) {\n        gl_FragColor = textureCube(uSampler, vVertexDirectionVector);\n      }\n    ',q='\n      varying highp vec2 vTextureCoord;\n\n      uniform sampler2D uSampler;\n\n      void main(void) {\n        gl_FragColor = texture2D(\n          uSampler,\n          vec2(vTextureCoord.s, vTextureCoord.t)\n        );\n      }\n    ',r=this.$SphericalRenderer17?p:q;this.$SphericalRenderer6.shaderSource(o,r);this.$SphericalRenderer6.compileShader(o);if(!this.$SphericalRenderer6.getShaderParameter(o,this.$SphericalRenderer6.COMPILE_STATUS))return null;return o;};n.prototype.$SphericalRenderer34=function(){'use strict';if(this.$SphericalRenderer17){this.$SphericalRenderer35();}else{this.$SphericalRenderer6.bindTexture(this.$SphericalRenderer6.TEXTURE_2D,this.$SphericalRenderer13);this.$SphericalRenderer6.pixelStorei(this.$SphericalRenderer6.UNPACK_FLIP_Y_WEBGL,true);try{this.$SphericalRenderer6.texImage2D(this.$SphericalRenderer6.TEXTURE_2D,0,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.UNSIGNED_BYTE,this.$SphericalRenderer13.image);}catch(o){this.emit('renderingError',o);}this.$SphericalRenderer6.bindTexture(this.$SphericalRenderer6.TEXTURE_2D,null);}};n.prototype.renderWithRotationMatrix=function(o){'use strict';if(this.$SphericalRenderer3)return;if(this.$SphericalRenderer16)this.$SphericalRenderer34();this.$SphericalRenderer10=o;this.$SphericalRenderer36();};n.prototype.render=function(o,p){'use strict';if(this.$SphericalRenderer3)return;if(this.$SphericalRenderer16)this.$SphericalRenderer34();if(this.$SphericalRenderer7){k.copy(this.$SphericalRenderer10,this.$SphericalRenderer8);k.rotate(this.$SphericalRenderer10,this.$SphericalRenderer10,j.toRadian(p),this.$SphericalRenderer11);k.rotate(this.$SphericalRenderer10,this.$SphericalRenderer10,j.toRadian(o-80),this.$SphericalRenderer12);}else{k.identity(this.$SphericalRenderer10);k.rotateX(this.$SphericalRenderer10,this.$SphericalRenderer10,-j.toRadian(p));k.rotateY(this.$SphericalRenderer10,this.$SphericalRenderer10,j.toRadian(o));}this.$SphericalRenderer36();};n.prototype.$SphericalRenderer36=function(){'use strict';this.$SphericalRenderer6.clear(this.$SphericalRenderer6.COLOR_BUFFER_BIT|this.$SphericalRenderer6.DEPTH_BUFFER_BIT);this.$SphericalRenderer6.activeTexture(this.$SphericalRenderer6.TEXTURE0);if(this.$SphericalRenderer17){this.$SphericalRenderer6.bindTexture(this.$SphericalRenderer6.TEXTURE_CUBE_MAP,this.$SphericalRenderer13);if(this.$SphericalRenderer20===null)this.$SphericalRenderer33(this.$SphericalRenderer2.projectionType,this.$SphericalRenderer2.expansionCoef||0,0);}else{this.$SphericalRenderer6.bindTexture(this.$SphericalRenderer6.TEXTURE_2D,this.$SphericalRenderer13);var o=this.$SphericalRenderer13.image.videoWidth;if(this.$SphericalRenderer2.projectionType===c('VideoProjection').CUBEMAP||this.$SphericalRenderer2.projectionType===c('VideoProjection').ROTATED_CUBEMAP){if(!(o in this.$SphericalRenderer18))this.$SphericalRenderer33(this.$SphericalRenderer2.projectionType,this.$SphericalRenderer2.expansionCoef||0,o);}else if(!(o in this.$SphericalRenderer18))this.$SphericalRenderer32(o);this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer18[o]);this.$SphericalRenderer6.vertexAttribPointer(this.$SphericalRenderer14.textureCoordAttribute,this.$SphericalRenderer18[o].itemSize,this.$SphericalRenderer6.FLOAT,false,0,0);}this.$SphericalRenderer6.uniform1i(this.$SphericalRenderer14.samplerUniform,0);this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20);if(this.$SphericalRenderer20)this.$SphericalRenderer6.vertexAttribPointer(this.$SphericalRenderer14.vertexPositionAttribute,this.$SphericalRenderer20.itemSize,this.$SphericalRenderer6.FLOAT,false,0,0);this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer19);this.$SphericalRenderer6.uniformMatrix4fv(this.$SphericalRenderer14.pMatrixUniform,false,this.$SphericalRenderer9);this.$SphericalRenderer6.uniformMatrix4fv(this.$SphericalRenderer14.mvMatrixUniform,false,this.$SphericalRenderer10);if(this.$SphericalRenderer19)this.$SphericalRenderer6.drawElements(this.$SphericalRenderer6.TRIANGLES,this.$SphericalRenderer19.numItems,this.$SphericalRenderer6.UNSIGNED_SHORT,0);this.$SphericalRenderer6.bindTexture(this.$SphericalRenderer6.TEXTURE_2D,null);};n.prototype.$SphericalRenderer37=function(){'use strict';var o=this.$SphericalRenderer6.getParameter(this.$SphericalRenderer6.MAX_CUBE_MAP_TEXTURE_SIZE),p=this.$SphericalRenderer13.image.width;return Math.min(o,p);};n.prototype.$SphericalRenderer35=function(){'use strict';var o=this.$SphericalRenderer37(),p=this.$SphericalRenderer13.image.width,q=c('DOM').create('canvas',{width:o,height:o}),r=q.getContext('2d');this.$SphericalRenderer6.pixelStorei(this.$SphericalRenderer6.UNPACK_FLIP_Y_WEBGL,false);this.$SphericalRenderer6.bindTexture(this.$SphericalRenderer6.TEXTURE_CUBE_MAP,this.$SphericalRenderer13);for(var s=0;s<6;s++){r.drawImage(this.$SphericalRenderer13.image,0,s*p,p,p,0,0,o,o);var t=new Uint8Array(r.getImageData(0,0,o,o).data);this.$SphericalRenderer6.texImage2D(this.$SphericalRenderer6.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,this.$SphericalRenderer6.RGBA,o,o,0,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.UNSIGNED_BYTE,t);}this.$SphericalRenderer6.bindTexture(this.$SphericalRenderer6.TEXTURE_CUBE_MAP,null);};f.exports=n;}),null);
__d("degToRad",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){return i*Math.PI/180;}f.exports=h;}),null);
__d("radToDeg",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){return i*180/Math.PI;}f.exports=h;}),null);
__d('SphericalViewportControl',['cx','CSS','DOMQuery','Event','EventEmitter','Keys','SubscriptionsHandler','UserAgent','VelocityTracker','debounce','getElementRect','performanceNow','requestAnimationFrame','throttle','degToRad','radToDeg','queryThenMutateDOM'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('DOMQuery').scry(window.document.body,'#globalContainer')[0]||window.document.body,l=20,m=110,n=.01,o=1000,p=['W','A','S','D'].reduce(function(s,t){s[t]=t.charCodeAt(0);return s;},{}),q={Up:"__tu",Down:"__tz",Left:"_2a6u",Right:"_2a6v",UpLeft:"__t-",UpRight:"__u0",DownLeft:"__u1",DownRight:"__u3"};i=babelHelpers.inherits(r,c('EventEmitter'));j=i&&i.prototype;function r(s,t){var u=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];'use strict';j.constructor.call(this);this.$SphericalViewportControl90=function(){var v=c('performanceNow')(),w=(v-this.$SphericalViewportControl44)/1000;this.$SphericalViewportControl44=v;this.$SphericalViewportControl91();c('queryThenMutateDOM')(this.$SphericalViewportControl59.bind(this),function(){return null;});var x=this.$SphericalViewportControl85(),y=false;if(this.$SphericalViewportControl30&&this.$SphericalViewportControl39&&this.$SphericalViewportControl35&&!this.$SphericalViewportControl11&&!this.$SphericalViewportControl12){var z=this.$SphericalViewportControl92()*w;x.x+=z;var aa=this.$SphericalViewportControl93()*w;x.y+=aa;if(z||aa)y=true;}x.x+=this.$SphericalViewportControl2.getVelocityX()*w;x.y+=this.$SphericalViewportControl2.getVelocityY()*w;x.x+=this.$SphericalViewportControl3.getVelocityX()*w;x.y+=this.$SphericalViewportControl3.getVelocityY()*w;this.$SphericalViewportControl94(x.x,x.y);var ba=this.$SphericalViewportControl2.getSpeed()>0||this.$SphericalViewportControl3.getSpeed()>0;if(this.$SphericalViewportControl11||this.$SphericalViewportControl10||this.$SphericalViewportControl12||this.$SphericalViewportControl42||this.$SphericalViewportControl33||ba||y){c('requestAnimationFrame')(this.$SphericalViewportControl90);}else{this.$SphericalViewportControl7=false;this.emit('updateViewportEnd',this.$SphericalViewportControl18.x,this.$SphericalViewportControl18.y);}}.bind(this);this.$SphericalViewportControl2=new (c('VelocityTracker'))(300);this.$SphericalViewportControl3=new (c('VelocityTracker'))(300);this.$SphericalViewportControl5=new (c('SubscriptionsHandler'))();this.$SphericalViewportControl22=s;this.$SphericalViewportControl45(t);this.$SphericalViewportControl13={x:0,y:0};this.$SphericalViewportControl44=0;this.$SphericalViewportControl9={left:0,right:0,up:0,down:0};this.$SphericalViewportControl15={x:0,y:0};this.$SphericalViewportControl16={x:0,y:0};this.$SphericalViewportControl17=new (c('VelocityTracker'))();this.$SphericalViewportControl21=new (c('SubscriptionsHandler'))();this.$SphericalViewportControl28=false;this.$SphericalViewportControl14=false;this.$SphericalViewportControl31=u.enableGyro||false;this.$SphericalViewportControl32=u.slipFactor||0;this.$SphericalViewportControl35=u.springFactor||0;this.$SphericalViewportControl36=u.maxSpringDegrees||15;this.$SphericalViewportControl37=u.maxStretchXDegrees||20;this.$SphericalViewportControl38=u.maxStretchYDegrees||20;this.$SphericalViewportControl40=u.rubberBandConstant||0;this.$SphericalViewportControl39=u.enableRubberBanding||false;this.$SphericalViewportControl42=false;this.$SphericalViewportControl43=0;this.$SphericalViewportControl41=c('debounce')(function(){return this.emit('zoomStart');}.bind(this),o);this.$SphericalViewportControl27=this.$SphericalViewportControl46();this.$SphericalViewportControl21.addSubscriptions(c('Event').listen(s,'mousedown',function(v){return this.$SphericalViewportControl47(v);}.bind(this)),c('Event').listen(s,'mouseenter',function(v){return this.$SphericalViewportControl48(v);}.bind(this)),c('Event').listen(s,'mouseleave',function(v){return this.$SphericalViewportControl49(v);}.bind(this)),c('Event').listen(s,'click',function(v){return this.$SphericalViewportControl50(v);}.bind(this)),c('Event').listen(s,'wheel',function(v){return this.$SphericalViewportControl51(v);}.bind(this)),c('Event').listen(s,'keydown',function(v){return this.$SphericalViewportControl52(v);}.bind(this)),c('Event').listen(s,'keyup',function(v){return this.$SphericalViewportControl53(v);}.bind(this)),c('Event').listen(s,'blur',function(v){return this.$SphericalViewportControl54(v);}.bind(this)),c('Event').listen(s,'touchstart',function(v){return this.$SphericalViewportControl55(v);}.bind(this)),c('Event').listen(s,'touchmove',function(v){return this.$SphericalViewportControl56(v);}.bind(this)),c('Event').listen(s,'touchend',function(v){return this.$SphericalViewportControl57(v);}.bind(this)),c('Event').listen(s,'touchcancel',function(v){return this.$SphericalViewportControl57(v);}.bind(this)));if(this.$SphericalViewportControl31)this.$SphericalViewportControl21.addSubscriptions(c('Event').listen(s,'mousemove',function(v){return this.$SphericalViewportControl58(v);}.bind(this)));}r.prototype.destroy=function(){'use strict';this.removeAllListeners();this.getSubscriptions().remove();};r.prototype.$SphericalViewportControl45=function(s){'use strict';this.$SphericalViewportControl59();this.$SphericalViewportControl1=this.$SphericalViewportControl24/this.$SphericalViewportControl25;this.$SphericalViewportControl4=s.fieldOfView;this.$SphericalViewportControl34=Boolean(s.enableZoom);this.$SphericalViewportControl20=(s.panningVelocityFactor||0)/15*80||80;this.$SphericalViewportControl8=(s.keyboardVelocityFactor||0)*1000||80;if(s.partialLimits){this.$SphericalViewportControl29={left:s.partialLimits.partialLeftDegrees,right:s.partialLimits.partialRightDegrees,up:s.partialLimits.partialTopDegrees,down:s.partialLimits.partialBottomDegrees};this.$SphericalViewportControl30=true;}else{this.$SphericalViewportControl30=false;this.$SphericalViewportControl29={up:null,down:null,left:null,right:null};}this.$SphericalViewportControl19={x:s.initialHeading,y:s.initialPitch};if((this.$SphericalViewportControl29.up||this.$SphericalViewportControl29.up===0)&&(this.$SphericalViewportControl29.down||this.$SphericalViewportControl29.down===0)){var t=this.$SphericalViewportControl29.up+this.$SphericalViewportControl29.down;if(this.$SphericalViewportControl4>t){this.$SphericalViewportControl4=t;this.$SphericalViewportControl19.y=(this.$SphericalViewportControl29.up-this.$SphericalViewportControl29.down)/2;}}this.$SphericalViewportControl18={x:this.$SphericalViewportControl19.x,y:this.$SphericalViewportControl19.y};};r.prototype.reconfigure=function(s){'use strict';this.$SphericalViewportControl45(s);};r.prototype.setEnableGyro=function(s){'use strict';this.$SphericalViewportControl31=s;};r.prototype.$SphericalViewportControl47=function(s){'use strict';if(this.$SphericalViewportControl12)this.$SphericalViewportControl60();this.$SphericalViewportControl11=true;this.$SphericalViewportControl61(s);};r.prototype.$SphericalViewportControl55=function(s){'use strict';if(this.$SphericalViewportControl11)this.$SphericalViewportControl60();if(this.$SphericalViewportControl12){this.$SphericalViewportControl62(s);this.$SphericalViewportControl12=false;this.$SphericalViewportControl60();}else this.$SphericalViewportControl12=true;this.$SphericalViewportControl61(s);};r.prototype.$SphericalViewportControl62=function(s){'use strict';if(s.touches.length===2&&this.$SphericalViewportControl34){this.$SphericalViewportControl42=true;this.$SphericalViewportControl43=this.$SphericalViewportControl63(s);}};r.prototype.$SphericalViewportControl56=function(s){'use strict';if(this.$SphericalViewportControl42){this.$SphericalViewportControl64(s);if(this.$SphericalViewportControl34)c('Event').kill(s);}};r.prototype.$SphericalViewportControl64=function(s){'use strict';var t=this.$SphericalViewportControl63(s),u=this.$SphericalViewportControl4*(this.$SphericalViewportControl43/t),v=u-this.$SphericalViewportControl4;this.$SphericalViewportControl65(v);this.$SphericalViewportControl43=t;};r.prototype.$SphericalViewportControl63=function(s){'use strict';var t=s.touches[0].pageX-s.touches[1].pageX,u=s.touches[0].pageY-s.touches[1].pageY;return Math.sqrt(Math.pow(t,2)+Math.pow(u,2));};r.prototype.$SphericalViewportControl57=function(s){'use strict';if(this.$SphericalViewportControl42){this.$SphericalViewportControl42=false;}else if(this.$SphericalViewportControl12)this.$SphericalViewportControl49(s);};r.prototype.$SphericalViewportControl61=function(s){'use strict';this.$SphericalViewportControl66();this.$SphericalViewportControl67(s);this.$SphericalViewportControl68(s);this.$SphericalViewportControl69();s.preventDefault();};r.prototype.$SphericalViewportControl49=function(s){'use strict';if(this.$SphericalViewportControl12||this.$SphericalViewportControl11){var t=this.$SphericalViewportControl70();this.$SphericalViewportControl3=new (c('VelocityTracker'))(300,t);}if(this.$SphericalViewportControl33){this.$SphericalViewportControl71();this.$SphericalViewportControl33=false;}this.$SphericalViewportControl60();};r.prototype.$SphericalViewportControl72=function(s){'use strict';if(this.$SphericalViewportControl12||this.$SphericalViewportControl11)this.$SphericalViewportControl60();};r.prototype.$SphericalViewportControl73=function(s){'use strict';this.$SphericalViewportControl68(s);this.$SphericalViewportControl6=true;this.emit('updateViewportMove');};r.prototype.$SphericalViewportControl58=function(s){'use strict';if(this.$SphericalViewportControl33){this.$SphericalViewportControl74(s);this.emit('updateViewportMove');}};r.prototype.$SphericalViewportControl66=function(){'use strict';this.$SphericalViewportControl33=false;this.$SphericalViewportControl31=false;};r.prototype.$SphericalViewportControl75=function(s){'use strict';this.$SphericalViewportControl68(s);this.$SphericalViewportControl60();this.$SphericalViewportControl71();s.preventDefault();};r.prototype.$SphericalViewportControl60=function(s){'use strict';c('queryThenMutateDOM')(function(){},function(){return this.$SphericalViewportControl22.style.cursor='';}.bind(this));this.$SphericalViewportControl12=false;this.$SphericalViewportControl11=false;this.$SphericalViewportControl5.release();if(this.$SphericalViewportControl26){c('CSS').removeClass(k,this.$SphericalViewportControl26);this.$SphericalViewportControl26='';}};r.prototype.$SphericalViewportControl76=function(s){'use strict';if(this.$SphericalViewportControl12&&s.changedTouches){return s.changedTouches[0];}else if(this.$SphericalViewportControl11){return s;}else if(this.$SphericalViewportControl33)return s;return null;};r.prototype.$SphericalViewportControl77=function(s){'use strict';var t=this.$SphericalViewportControl76(s);if(!t)return this.$SphericalViewportControl15;return {x:t.screenX,y:t.screenY};};r.prototype.$SphericalViewportControl78=function(s){'use strict';var t=this.$SphericalViewportControl76(s);if(!t)return this.$SphericalViewportControl16;return {x:t.clientX,y:t.clientY};};r.prototype.$SphericalViewportControl67=function(s){'use strict';this.$SphericalViewportControl15=this.$SphericalViewportControl77(s);this.$SphericalViewportControl13={x:0,y:0};this.$SphericalViewportControl17=new (c('VelocityTracker'))();this.$SphericalViewportControl3=new (c('VelocityTracker'))(300);c('queryThenMutateDOM')(function(){},function(){return this.$SphericalViewportControl22.style.cursor=this.$SphericalViewportControl27;}.bind(this));this.$SphericalViewportControl5.engage();var t=b.document.body;if(this.$SphericalViewportControl12){this.$SphericalViewportControl5.addSubscriptions(c('Event').listen(t,'touchmove',function(u){return this.$SphericalViewportControl73(u);}.bind(this)),c('Event').listen(t,'touchend',function(u){return this.$SphericalViewportControl75(u);}.bind(this)),c('Event').listen(t,'touchcancel',function(u){return this.$SphericalViewportControl72(u);}.bind(this)));}else this.$SphericalViewportControl5.addSubscriptions(c('Event').listen(t,'mousemove',function(u){return this.$SphericalViewportControl73(u);}.bind(this)),c('Event').listen(t,'mouseup',function(u){return this.$SphericalViewportControl75(u);}.bind(this)),c('Event').listen(t,'mouseleave',function(u){return this.$SphericalViewportControl72(u);}.bind(this)));};r.prototype.$SphericalViewportControl74=function(s){'use strict';this.$SphericalViewportControl79(s,this.$SphericalViewportControl32);};r.prototype.$SphericalViewportControl68=function(s){'use strict';this.$SphericalViewportControl79(s,1);};r.prototype.$SphericalViewportControl79=function(s,t){'use strict';var u=this.$SphericalViewportControl77(s),v=this.$SphericalViewportControl14?{x:0,y:0}:this.$SphericalViewportControl13;this.$SphericalViewportControl13={x:t*(u.x-this.$SphericalViewportControl15.x)+v.x,y:t*(u.y-this.$SphericalViewportControl15.y)+v.y};this.$SphericalViewportControl14=false;this.$SphericalViewportControl15=u;this.$SphericalViewportControl17.update(u.x,u.y);this.$SphericalViewportControl16=this.$SphericalViewportControl78(s);};r.prototype.$SphericalViewportControl70=function(){'use strict';var s=this.$SphericalViewportControl80(),t=-this.$SphericalViewportControl17.getVelocityX()*s,u=this.$SphericalViewportControl17.getVelocityY()*s,v=this.$SphericalViewportControl33?this.$SphericalViewportControl32:1;if(this.$SphericalViewportControl81())t=-t;return {x:t*v,y:u*v};};r.prototype.$SphericalViewportControl82=function(s,t){'use strict';return c('radToDeg')(Math.atan(s/t));};r.prototype.$SphericalViewportControl83=function(s,t,u){'use strict';return {x:this.$SphericalViewportControl82(s.x-this.$SphericalViewportControl24/2,u),y:-this.$SphericalViewportControl82(s.y-this.$SphericalViewportControl25/2,t)};};r.prototype.$SphericalViewportControl84=function(s,t){'use strict';var u={x:s.x-t.x,y:s.y-t.y},v=this.$SphericalViewportControl25/(2*Math.tan(c('degToRad')(this.getVerticalFieldOfView()/2))),w=v*Math.cos(c('degToRad')(this.$SphericalViewportControl18.y)),x=w-(this.$SphericalViewportControl25/2-s.y)*Math.sin(c('degToRad')(this.$SphericalViewportControl18.y));if(this.$SphericalViewportControl18.y==-90&&t.y<0||this.$SphericalViewportControl18.y==90&&t.y>0){var y=this.$SphericalViewportControl82(u.y-this.$SphericalViewportControl25/2,u.x-this.$SphericalViewportControl24/2),z=this.$SphericalViewportControl82(s.y-this.$SphericalViewportControl25/2,s.x-this.$SphericalViewportControl24/2),aa=z-y;if(aa>90){aa=180-aa;}else if(aa<-90)aa=180+aa;return {x:aa*Math.sign(this.$SphericalViewportControl18.y),y:0};}else{var ba=this.$SphericalViewportControl83(u,v,x),ca=this.$SphericalViewportControl83(s,v,x);return {x:ba.x-ca.x,y:ba.y-ca.y};}};r.prototype.$SphericalViewportControl81=function(){'use strict';var s=this.$SphericalViewportControl23?this.$SphericalViewportControl23.top:c('getElementRect')(this.$SphericalViewportControl22).top,t=this.$SphericalViewportControl16.y-s,u=this.$SphericalViewportControl25/(2*Math.tan(c('degToRad')(this.getVerticalFieldOfView()/2))),v=-u/Math.tan(c('degToRad')(this.$SphericalViewportControl18.y))+this.$SphericalViewportControl25/2,w=t>v&&this.$SphericalViewportControl18.y<0||t<v&&this.$SphericalViewportControl18.y>0;return w;};r.prototype.$SphericalViewportControl85=function(){'use strict';var s=0,t=0,u={x:0,y:0};if(!this.$SphericalViewportControl14){this.$SphericalViewportControl14=true;var v=this.$SphericalViewportControl23,w=this.$SphericalViewportControl16.x<v.left,x=this.$SphericalViewportControl16.x>v.right,y=this.$SphericalViewportControl16.y<v.top,z=this.$SphericalViewportControl16.y>v.bottom;this.$SphericalViewportControl86(w,x,y,z);var aa={x:this.$SphericalViewportControl16.x-v.left,y:this.$SphericalViewportControl16.y-v.top};if(!w&&!x){u.x=this.$SphericalViewportControl84(aa,this.$SphericalViewportControl13).x;this.$SphericalViewportControl13.x=0;}else{var ba=this.$SphericalViewportControl81();if(w&&!ba||x&&ba){s+=this.$SphericalViewportControl20;}else s-=this.$SphericalViewportControl20;}if(!y&&!z){u.y=this.$SphericalViewportControl84(aa,this.$SphericalViewportControl13).y;this.$SphericalViewportControl13.y=0;}else{if(y)t-=this.$SphericalViewportControl20;if(z)t+=this.$SphericalViewportControl20;}}this.$SphericalViewportControl3.updateVelocity(s,t);return this.$SphericalViewportControl87(u);};r.prototype.$SphericalViewportControl87=function(s){'use strict';if(!this.$SphericalViewportControl39)return s;if(!this.$SphericalViewportControl30)return s;var t=this.$SphericalViewportControl18,u=t.x,v=t.y,w=s.x,x=s.y,y=u+w,z=v+x,aa=this.$SphericalViewportControl29,ba=aa.left,ca=aa.right,da=aa.up,ea=aa.down,fa=this.getVerticalFieldOfView(),ga=this.getHorizontalFieldOfView(),ha=ba!=null?y>360-ba+ga/2:true,ia=ca!=null?y<ca-ga/2:true,ja=da!=null?z<da-fa/2:true,ka=ea!=null?z>-ea+fa/2:true;if(!ha&&!ia)w*=this.$SphericalViewportControl40;if(!ja||!ka)x*=this.$SphericalViewportControl40;return {x:w,y:x};};r.prototype.$SphericalViewportControl48=function(s){'use strict';this.emit('mouseEnter');if(this.$SphericalViewportControl11){this.$SphericalViewportControl3=new (c('VelocityTracker'))(300);}else if(this.$SphericalViewportControl31&&this.$SphericalViewportControl32){this.$SphericalViewportControl3=new (c('VelocityTracker'))(300);this.$SphericalViewportControl33=true;this.$SphericalViewportControl15=this.$SphericalViewportControl77(s);this.$SphericalViewportControl13={x:0,y:0};this.$SphericalViewportControl69();}};r.prototype.$SphericalViewportControl50=function(s){'use strict';this.$SphericalViewportControl22.focus();if(!this.$SphericalViewportControl6)this.emit('DOM/click',s);this.$SphericalViewportControl6=false;return false;};r.prototype.$SphericalViewportControl51=function(s){'use strict';if(this.$SphericalViewportControl28)s.preventDefault();c('throttle')(this.$SphericalViewportControl88,100,this)(s);if(this.$SphericalViewportControl34)c('Event').kill(s);};r.prototype.$SphericalViewportControl88=function(s){'use strict';this.emit('wheelScroll',s);if(!this.$SphericalViewportControl34)return;var t=(s.deltaX||0)+(s.deltaY||0)+(s.deltaZ||0),u=t/120*45/10;this.$SphericalViewportControl65(u);};r.prototype.$SphericalViewportControl65=function(s){'use strict';var t=this.setFieldOfView(this.$SphericalViewportControl4+s);if(t)this.$SphericalViewportControl41();};r.prototype.$SphericalViewportControl52=function(s){'use strict';var t=this.$SphericalViewportControl89(s);if(t){this.$SphericalViewportControl9[t]=1;if(!this.$SphericalViewportControl10){this.$SphericalViewportControl10=true;this.$SphericalViewportControl66();this.$SphericalViewportControl69();this.emit('updateViewportMove');}return false;}return true;};r.prototype.$SphericalViewportControl53=function(s){'use strict';var t=this.$SphericalViewportControl89(s);if(t){this.$SphericalViewportControl9[t]=0;var u=false;for(var v in this.$SphericalViewportControl9)if(this.$SphericalViewportControl9.hasOwnProperty(v)&&this.$SphericalViewportControl9[v]>0){u=true;break;}this.$SphericalViewportControl10=u;return false;}return true;};r.prototype.$SphericalViewportControl71=function(){'use strict';var s=this.$SphericalViewportControl70();this.$SphericalViewportControl3=new (c('VelocityTracker'))(300,s);};r.prototype.$SphericalViewportControl69=function(){var s,t=this;'use strict';if(!this.$SphericalViewportControl7)(function(){t.$SphericalViewportControl7=true;t.$SphericalViewportControl2.updateVelocity(0,0);t.emit('updateViewportBegin');var u=t.once('updateViewportMove',function(){return this.emit('updateViewportMoveStart',this.$SphericalViewportControl33);}.bind(t));t.once('updateViewportEnd',function(){return u.remove();});t.$SphericalViewportControl44=c('performanceNow')();c('requestAnimationFrame')(t.$SphericalViewportControl90);})();};r.prototype.$SphericalViewportControl59=function(){'use strict';this.$SphericalViewportControl23=c('getElementRect')(this.$SphericalViewportControl22);this.$SphericalViewportControl24=this.$SphericalViewportControl22.clientWidth||1;this.$SphericalViewportControl25=this.$SphericalViewportControl22.clientHeight||1;};r.prototype.$SphericalViewportControl92=function(){'use strict';var s=180,t=0,u=this.$SphericalViewportControl29,v=u.left,w=u.right,x=this.getHorizontalFieldOfView();if(v!=null&&w!=null)s=(w-v)/2+180;if(v!=null&&this.$SphericalViewportControl18.x>=s){var y=360-v+x/2-this.$SphericalViewportControl18.x;if(y>0)t=Math.min(y,this.$SphericalViewportControl36)*this.$SphericalViewportControl35;}if(w!=null&&this.$SphericalViewportControl18.x<=s){var z=w-x/2-this.$SphericalViewportControl18.x;if(z<0)t=Math.max(z,-this.$SphericalViewportControl36)*this.$SphericalViewportControl35;}return Math.abs(t)<n?0:t;};r.prototype.$SphericalViewportControl93=function(){'use strict';var s=0,t=this.$SphericalViewportControl29,u=t.up,v=t.down,w=this.getVerticalFieldOfView();if(u!=null){var x=u-w/2-this.$SphericalViewportControl18.y;if(x<0)s=Math.max(x,-this.$SphericalViewportControl36)*this.$SphericalViewportControl35;}if(v!=null){var y=-v+w/2-this.$SphericalViewportControl18.y;if(y>0)s=Math.min(y,this.$SphericalViewportControl36)*this.$SphericalViewportControl35;}return Math.abs(s)<n?0:s;};r.prototype.$SphericalViewportControl86=function(s,t,u,v){'use strict';var w='';if(s||t||u||v){var x=s?'Left':t?'Right':'',y=u?'Up':v?'Down':'';w=q[y+x];}if(this.$SphericalViewportControl26!=w){if(this.$SphericalViewportControl26){c('CSS').removeClass(k,this.$SphericalViewportControl26);this.$SphericalViewportControl26='';}if(w){this.$SphericalViewportControl26=w;c('CSS').addClass(k,w);}}};r.prototype.getSubscriptions=function(){'use strict';return {remove:function(){this.$SphericalViewportControl21.release();this.$SphericalViewportControl5.release();}.bind(this)};};r.prototype.$SphericalViewportControl54=function(s){'use strict';for(var t in this.$SphericalViewportControl9)this.$SphericalViewportControl9[t]=0;this.$SphericalViewportControl10=false;};r.prototype.getOrientation=function(){'use strict';return this.$SphericalViewportControl18;};r.prototype.$SphericalViewportControl95=function(s,t){'use strict';var u=(s+360)%360,v=Math.max(-90,Math.min(90,t));if(!this.$SphericalViewportControl30)return {x:u,y:v};var w=this.$SphericalViewportControl29,x=w.left,y=w.right,z=w.up,aa=w.down,ba=this.getVerticalFieldOfView(),ca=this.getHorizontalFieldOfView(),da=0,ea=0;if(this.$SphericalViewportControl39){da=this.$SphericalViewportControl37;ea=this.$SphericalViewportControl38;}if(x!=null)u=u<=180?u:Math.max(u,360-x+ca/2-da);if(y!=null)u=u>=180?u:Math.min(u,y-ca/2+da);if(z!=null)v=Math.min(v,z-ba/2+ea);if(aa!=null)v=Math.max(v,-aa+ba/2-ea);return {x:u,y:v};};r.prototype.setSphericalOrientation=function(s,t){'use strict';var u=this.$SphericalViewportControl95(s,t),v=u.x,w=u.y,x=v!==this.$SphericalViewportControl18.x||w!==this.$SphericalViewportControl18.y;if(x){this.$SphericalViewportControl18={x:v,y:w};this.emit('viewportChange',v,w,this.$SphericalViewportControl4);}};r.prototype.setRelativeSphericalOrientation=function(s,t){'use strict';this.setSphericalOrientation(s+this.$SphericalViewportControl19.x,t+this.$SphericalViewportControl19.y);};r.prototype.$SphericalViewportControl94=function(s,t){'use strict';this.setSphericalOrientation(this.$SphericalViewportControl18.x+s,this.$SphericalViewportControl18.y+t);};r.prototype.setFieldOfView=function(s){'use strict';var t=this.$SphericalViewportControl4,u=m,v=this.$SphericalViewportControl29.up||this.$SphericalViewportControl29.up===0,w=this.$SphericalViewportControl29.up||0,x=this.$SphericalViewportControl29.down||this.$SphericalViewportControl29.down===0,y=this.$SphericalViewportControl29.down||0,z=this.$SphericalViewportControl29.left||this.$SphericalViewportControl29.right,aa=this.$SphericalViewportControl29.left||0,ba=this.$SphericalViewportControl29.right||0;if(v&&x)u=Math.min(u,(v?w:180)+(x?y:180));var ca=Math.min(u,Math.max(l,s)),da=ca*this.getAspectRatio(),ea=false,fa=this.$SphericalViewportControl18.x,ga=this.$SphericalViewportControl18.y;if(x&&ca/2-ga>y){ga=ca/2-y;ea=true;}if(v&&ga+ca/2>w){ga=w-ca/2;ea=true;}if(z){var ha=((ba-aa)/2+180)%360;if(fa>ha&&da/2+360-fa>aa){fa=360+da/2-aa;ea=true;}if(fa<ha&&fa+da/2>ba){fa=ba-da/2;ea=true;}}if(ea)this.$SphericalViewportControl18={x:fa,y:ga};if(t!==ca||ea){this.$SphericalViewportControl4=ca;this.emit('viewportChange',this.$SphericalViewportControl18.x,this.$SphericalViewportControl18.y,ca);return true;}return false;};r.prototype.getVerticalFieldOfView=function(){'use strict';return this.$SphericalViewportControl4;};r.prototype.getAspectRatio=function(){'use strict';if(this.$SphericalViewportControl22&&this.$SphericalViewportControl24&&this.$SphericalViewportControl25)return this.$SphericalViewportControl24/this.$SphericalViewportControl25;return this.$SphericalViewportControl1;};r.prototype.getHorizontalFieldOfView=function(){'use strict';return this.$SphericalViewportControl4*this.getAspectRatio();};r.prototype.setPreventScrollDefaultAction=function(s){'use strict';this.$SphericalViewportControl28=s;};r.prototype.updateViewport=function(s,t,u){'use strict';this.$SphericalViewportControl18={x:s,y:t};this.$SphericalViewportControl4=u;};r.prototype.isUpdating=function(){'use strict';return this.$SphericalViewportControl7;};r.prototype.$SphericalViewportControl91=function(){'use strict';var s=this.$SphericalViewportControl8*(this.$SphericalViewportControl9.right-this.$SphericalViewportControl9.left),t=this.$SphericalViewportControl8*(this.$SphericalViewportControl9.up-this.$SphericalViewportControl9.down);this.$SphericalViewportControl2.updateVelocity(s,t);};r.prototype.$SphericalViewportControl89=function(s){'use strict';var t=c('Event').getKeyCode(s),u=null;switch(t){case c('Keys').LEFT:case p.A:u='left';break;case c('Keys').UP:case p.W:u='up';break;case c('Keys').RIGHT:case p.D:u='right';break;case c('Keys').DOWN:case p.S:u='down';break;}return u;};r.prototype.$SphericalViewportControl80=function(){'use strict';return this.$SphericalViewportControl4/this.$SphericalViewportControl25;};r.prototype.$SphericalViewportControl46=function(){'use strict';var s='grabbing';if(c('UserAgent').isEngine('WebKit')){s='-webkit-'+s;}else if(c('UserAgent').isEngine('Gecko'))s='-moz-'+s;return s;};f.exports=r;}),null);
__d('TiledSphericalRenderer',['GLMatrix','EventEmitter','EventListener','CubemapImageTileInfo','getErrorNameFromWebGLErrorCode','SphericalMediaConstants','Map'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('GLMatrix').glMatrix,k=c('GLMatrix').mat4,l=c('GLMatrix').vec3,m=c('SphericalMediaConstants').TILED_CUBE_FACES,n=window.devicePixelRatio||1,o=40;h=babelHelpers.inherits(p,c('EventEmitter'));i=h&&h.prototype;function p(q,r,s){'use strict';i.constructor.call(this);this.$TiledSphericalRenderer1=q;this.$TiledSphericalRenderer5=r;this.$TiledSphericalRenderer2=false;this.$TiledSphericalRenderer6=s;this.$TiledSphericalRenderer8=k.create();this.$TiledSphericalRenderer9=k.create();this.$TiledSphericalRenderer18=1;this.$TiledSphericalRenderer19=new (c('Map'))();this.$TiledSphericalRenderer20();this.$TiledSphericalRenderer3=this.$TiledSphericalRenderer21.bind(this);this.$TiledSphericalRenderer4=this.$TiledSphericalRenderer22.bind(this);this.$TiledSphericalRenderer1.addEventListener('webglcontextlost',this.$TiledSphericalRenderer3);this.$TiledSphericalRenderer1.addEventListener('webglcontextrestored',this.$TiledSphericalRenderer4);this.$TiledSphericalRenderer23();}p.prototype.updateFieldOfView=function(q){'use strict';this.$TiledSphericalRenderer6=q;this.$TiledSphericalRenderer24();};p.prototype.updateViewportDimensions=function(q,r){'use strict';this.$TiledSphericalRenderer1.width=q*n;this.$TiledSphericalRenderer1.height=r*n;this.$TiledSphericalRenderer24();};p.prototype.setAutoUpdateTexture=function(q){'use strict';};p.prototype.reconfigure=function(q,r){'use strict';};p.prototype.hasRenderingContext=function(){'use strict';return !this.$TiledSphericalRenderer2;};p.prototype.render=function(q,r){'use strict';k.identity(this.$TiledSphericalRenderer9);k.rotateX(this.$TiledSphericalRenderer9,this.$TiledSphericalRenderer9,-j.toRadian(r));k.rotateY(this.$TiledSphericalRenderer9,this.$TiledSphericalRenderer9,j.toRadian(q));this.$TiledSphericalRenderer7.uniformMatrix4fv(this.$TiledSphericalRenderer16,false,this.$TiledSphericalRenderer9);this.$TiledSphericalRenderer7.uniformMatrix4fv(this.$TiledSphericalRenderer17,false,this.$TiledSphericalRenderer8);var s=this.$TiledSphericalRenderer25(q,r);s.forEach(this.$TiledSphericalRenderer26,this);};p.prototype.$TiledSphericalRenderer21=function(q){'use strict';q.preventDefault();this.emit('renderingContextLost');this.$TiledSphericalRenderer2=true;};p.prototype.$TiledSphericalRenderer22=function(q){'use strict';this.$TiledSphericalRenderer2=false;this.$TiledSphericalRenderer23();this.emit('renderingContextRestore');};p.prototype.$TiledSphericalRenderer25=function(){'use strict';var q=this.$TiledSphericalRenderer27(),r=this.$TiledSphericalRenderer28(),s=Math.pow(2,q),t=2*this.$TiledSphericalRenderer18/s,u=[];for(var v=0;v<r.length;v++){var w=r[v];if(w){var x=Math.floor(w.minX/t),y=Math.min(Math.floor(w.maxX/t),s-1),z=Math.floor(w.minY/t),aa=Math.min(Math.floor(w.maxY/t),s-1);for(var ba=x;ba<=y;ba++)for(var ca=z;ca<=aa;ca++)u.push(new (c('CubemapImageTileInfo'))(q,v,ba,ca));}}return u;};p.prototype.$TiledSphericalRenderer27=function(){'use strict';var q=this.$TiledSphericalRenderer1.height/this.$TiledSphericalRenderer6,r=this.$TiledSphericalRenderer5.getTileSize()/q,s=0,t=90;while(t>r){s++;t/=2;}return Math.min(s,this.$TiledSphericalRenderer5.getMaxTileLevel());};p.prototype.$TiledSphericalRenderer28=function(){'use strict';var q=j.toRadian(this.$TiledSphericalRenderer6),r=this.$TiledSphericalRenderer1.width/this.$TiledSphericalRenderer1.height*q,s=1,t=Math.tan(r/2)/s,u=Math.tan(q/2)/s,v=[l.fromValues(-t,u,-s),l.fromValues(t,u,-s),l.fromValues(t,-u,-s),l.fromValues(-t,-u,-s)],w=k.create();k.invert(w,this.$TiledSphericalRenderer9);this.$TiledSphericalRenderer29(w,v);var x=[];for(var y=0;y<6;y++){var z=this.$TiledSphericalRenderer11[y],aa=[];for(var ba=0;ba<z.length;ba++)aa.push(l.clone(z[ba]));var ca=this.$TiledSphericalRenderer30(aa,v);if(ca.length>0){var da=k.create();k.invert(da,this.$TiledSphericalRenderer10[y]);this.$TiledSphericalRenderer29(da,ca);var ea=ca[0],fa=ea[0],ga=ea[0],ha=ea[1],ia=ea[1];for(var ja=1;ja<ca.length;ja++){ea=ca[ja];fa=Math.min(fa,ea[0]);ga=Math.max(ga,ea[0]);ha=Math.min(ha,ea[1]);ia=Math.max(ia,ea[1]);}x[y]={minX:this.$TiledSphericalRenderer18+fa,maxX:this.$TiledSphericalRenderer18+ga,minY:this.$TiledSphericalRenderer18-ia,maxY:this.$TiledSphericalRenderer18-ha};}}return x;};p.prototype.$TiledSphericalRenderer29=function(q,r){'use strict';for(var s=0;s<r.length;s++)l.transformMat4(r[s],r[s],q);};p.prototype.$TiledSphericalRenderer30=function(q,r){'use strict';var s=r[r.length-1];for(var t=0;t<r.length;t++){var u=r[t],v=[],w=l.create();l.cross(w,s,u);var x=q[q.length-1],y=l.dot(w,x),z=y>=0;for(var aa=0;aa<q.length;aa++){var ba=q[aa],ca=l.dot(w,ba),da=ca>=0;if(da!==z){var ea=this.$TiledSphericalRenderer31(x,y,ba,ca);if(!l.exactEquals(x,ea)&&!l.exactEquals(ba,ea))v.push(ea);}if(da)v.push(ba);x=ba;y=ca;z=da;}q=v;if(q.length===0)break;s=u;}return q;};p.prototype.$TiledSphericalRenderer31=function(q,r,s,t){'use strict';var u=-r/(t-r),v=l.create();l.subtract(v,s,q);l.scale(v,v,u);l.add(v,v,q);return v;};p.prototype.$TiledSphericalRenderer26=function(q){'use strict';var r=2*this.$TiledSphericalRenderer18,s=this.$TiledSphericalRenderer18,t=Math.pow(2,q.level),u=r/t,v=q.col*u,w=q.row*u,x=-s+v,y=x+u,z=s-w,aa=z-u,ba=[[x,z,-s],[y,z,-s],[x,aa,-s],[y,aa,-s]],ca=this.$TiledSphericalRenderer10[q.face],da=[];for(var ea=0;ea<ba.length;ea++){l.transformMat4(ba[ea],ba[ea],ca);da.push(ba[ea][0]);da.push(ba[ea][1]);da.push(ba[ea][2]);}var fa=this.$TiledSphericalRenderer7.createBuffer();this.$TiledSphericalRenderer7.bindBuffer(this.$TiledSphericalRenderer7.ARRAY_BUFFER,fa);this.$TiledSphericalRenderer7.bufferData(this.$TiledSphericalRenderer7.ARRAY_BUFFER,new Float32Array(da),this.$TiledSphericalRenderer7.STATIC_DRAW);this.$TiledSphericalRenderer7.vertexAttribPointer(this.$TiledSphericalRenderer13,3,this.$TiledSphericalRenderer7.FLOAT,false,0,0);this.$TiledSphericalRenderer7.uniform1i(this.$TiledSphericalRenderer12.samplerUniform,0);this.$TiledSphericalRenderer7.activeTexture(this.$TiledSphericalRenderer7.TEXTURE0);var ga=this.$TiledSphericalRenderer5.getClosestCoveringTile(q);this.$TiledSphericalRenderer32(ga);var ha=this.$TiledSphericalRenderer33(q,ga.getInfo()),ia=this.$TiledSphericalRenderer7.createBuffer();this.$TiledSphericalRenderer7.bindBuffer(this.$TiledSphericalRenderer7.ARRAY_BUFFER,ia);this.$TiledSphericalRenderer7.bufferData(this.$TiledSphericalRenderer7.ARRAY_BUFFER,new Float32Array(ha),this.$TiledSphericalRenderer7.STATIC_DRAW);this.$TiledSphericalRenderer7.vertexAttribPointer(this.$TiledSphericalRenderer14,2,this.$TiledSphericalRenderer7.FLOAT,false,0,0);this.$TiledSphericalRenderer7.drawArrays(this.$TiledSphericalRenderer7.TRIANGLE_STRIP,0,da.length/3);this.$TiledSphericalRenderer7.bindTexture(this.$TiledSphericalRenderer7.TEXTURE_2D,null);};p.prototype.$TiledSphericalRenderer33=function(q,r){'use strict';if(r.level<q.level){var s=2*this.$TiledSphericalRenderer18,t=Math.pow(2,r.level),u=Math.pow(2,q.level),v=s/t,w=s/u,x=w/v,y=r.col*v,z=q.col*w,aa=z-y,ba=aa/v,ca=r.row*v,da=q.row*w,ea=da-ca,fa=ea/v;return [ba,fa,ba+x,fa,ba,fa+x,ba+x,fa+x];}else return [0,0,1,0,0,1,1,1];};p.prototype.$TiledSphericalRenderer32=function(q){var r,s=this;'use strict';var t=q.getInfo().getKey(),u=Date.now(),v=this.$TiledSphericalRenderer19.get(t);if(v){this.$TiledSphericalRenderer7.bindTexture(this.$TiledSphericalRenderer7.TEXTURE_2D,v.texture);v.lastUsedTime=u;}else{var w=this.$TiledSphericalRenderer34(q.getImg());v={texture:w,lastUsedTime:u};this.$TiledSphericalRenderer19.set(t,v);this.$TiledSphericalRenderer7.bindTexture(this.$TiledSphericalRenderer7.TEXTURE_2D,w);if(this.$TiledSphericalRenderer19.size>o)(function(){var x=t,y=v;s.$TiledSphericalRenderer19.forEach(function(z,aa){if(z.lastUsedTime<y.lastUsedTime){x=aa;y=z;}});s.$TiledSphericalRenderer7.deleteTexture(y.texture);s.$TiledSphericalRenderer19['delete'](x);})();}};p.prototype.$TiledSphericalRenderer34=function(q){'use strict';var r=this.$TiledSphericalRenderer35();this.$TiledSphericalRenderer7.bindTexture(this.$TiledSphericalRenderer7.TEXTURE_2D,r);this.$TiledSphericalRenderer7.pixelStorei(this.$TiledSphericalRenderer7.UNPACK_FLIP_Y_WEBGL,false);try{this.$TiledSphericalRenderer7.texImage2D(this.$TiledSphericalRenderer7.TEXTURE_2D,0,this.$TiledSphericalRenderer7.RGBA,this.$TiledSphericalRenderer7.RGBA,this.$TiledSphericalRenderer7.UNSIGNED_BYTE,q);}catch(s){this.emit('renderingError',s);}return r;};p.prototype.$TiledSphericalRenderer23=function(){'use strict';this.$TiledSphericalRenderer36();this.$TiledSphericalRenderer7.clearColor(0,0,0,1);this.updateViewportDimensions(this.$TiledSphericalRenderer1.clientWidth,this.$TiledSphericalRenderer1.clientHeight);if(!this.$TiledSphericalRenderer37())throw new Error('Failed to intialize shaders: '+c('getErrorNameFromWebGLErrorCode')(this.$TiledSphericalRenderer7.getError()));};p.prototype.$TiledSphericalRenderer20=function(){'use strict';this.$TiledSphericalRenderer10=[];var q=k.create();k.identity(q);k.rotateY(q,q,j.toRadian(-90));this.$TiledSphericalRenderer10[m.PLUS_X]=q;var r=k.create();k.identity(r);k.rotateY(r,r,j.toRadian(90));this.$TiledSphericalRenderer10[m.MINUS_X]=r;var s=k.create();k.identity(s);k.rotateZ(s,s,j.toRadian(180));k.rotateX(s,s,j.toRadian(-90));this.$TiledSphericalRenderer10[m.PLUS_Y]=s;var t=k.create();k.identity(t);k.rotateZ(t,t,j.toRadian(180));k.rotateX(t,t,j.toRadian(90));this.$TiledSphericalRenderer10[m.MINUS_Y]=t;var u=k.create();k.identity(u);k.rotateY(u,u,j.toRadian(180));this.$TiledSphericalRenderer10[m.PLUS_Z]=u;var v=k.create();k.identity(v);this.$TiledSphericalRenderer10[m.MINUS_Z]=v;this.$TiledSphericalRenderer11=[];var w=this.$TiledSphericalRenderer18,x=[l.fromValues(-w,w,-w),l.fromValues(w,w,-w),l.fromValues(w,-w,-w),l.fromValues(-w,-w,-w)];for(var y=0;y<6;y++){var z=this.$TiledSphericalRenderer10[y],aa=[];for(var ba=0;ba<x.length;ba++){var ca=l.create();l.transformMat4(ca,x[ba],z);aa.push(ca);}this.$TiledSphericalRenderer11[y]=aa;}};p.prototype.$TiledSphericalRenderer36=function(){'use strict';if(this.$TiledSphericalRenderer7&&!this.$TiledSphericalRenderer2)return;if(!b.WebGLRenderingContext)throw new Error('WebGLRenderingContext not available.');var q=['webgl','experimental-webgl','webkit-3d','moz-webgl'],r=null,s=null,t=c('EventListener').listen(this.$TiledSphericalRenderer1,'webglcontextcreationerror',function(w){return s=w.statusMessage;});for(var u=0;u<q.length;u++){try{r=this.$TiledSphericalRenderer1.getContext(q[u]);}catch(v){}if(r)break;}t.remove();if(!r){if(!s)s='Unknown error.';throw new Error('Failed to acquire 3D rendering context: '+s);}this.$TiledSphericalRenderer7=r;this.$TiledSphericalRenderer2=false;};p.prototype.$TiledSphericalRenderer37=function(){'use strict';var q=this.$TiledSphericalRenderer38();if(!q)return false;var r=this.$TiledSphericalRenderer39();if(!r)return false;this.$TiledSphericalRenderer12=this.$TiledSphericalRenderer7.createProgram();this.$TiledSphericalRenderer7.attachShader(this.$TiledSphericalRenderer12,q);this.$TiledSphericalRenderer7.attachShader(this.$TiledSphericalRenderer12,r);this.$TiledSphericalRenderer7.linkProgram(this.$TiledSphericalRenderer12);if(!this.$TiledSphericalRenderer7.getProgramParameter(this.$TiledSphericalRenderer12,this.$TiledSphericalRenderer7.LINK_STATUS))return false;this.$TiledSphericalRenderer7.useProgram(this.$TiledSphericalRenderer12);this.$TiledSphericalRenderer13=this.$TiledSphericalRenderer7.getAttribLocation(this.$TiledSphericalRenderer12,'aVertexPosition');this.$TiledSphericalRenderer7.enableVertexAttribArray(this.$TiledSphericalRenderer13);this.$TiledSphericalRenderer14=this.$TiledSphericalRenderer7.getAttribLocation(this.$TiledSphericalRenderer12,'aTextureCoord');this.$TiledSphericalRenderer7.enableVertexAttribArray(this.$TiledSphericalRenderer14);this.$TiledSphericalRenderer15=this.$TiledSphericalRenderer7.getUniformLocation(this.$TiledSphericalRenderer12,'uSampler');this.$TiledSphericalRenderer17=this.$TiledSphericalRenderer7.getUniformLocation(this.$TiledSphericalRenderer12,'uPMatrix');this.$TiledSphericalRenderer16=this.$TiledSphericalRenderer7.getUniformLocation(this.$TiledSphericalRenderer12,'uRotationMatrix');return true;};p.prototype.$TiledSphericalRenderer38=function(){'use strict';var q=this.$TiledSphericalRenderer7.createShader(this.$TiledSphericalRenderer7.VERTEX_SHADER),r='\n      attribute vec3 aVertexPosition;\n      attribute vec2 aTextureCoord;\n\n      uniform mat4 uRotationMatrix;\n      uniform mat4 uPMatrix;\n\n      varying highp vec2 vTextureCoord;\n\n      void main(void) {\n        gl_Position = uPMatrix * uRotationMatrix * vec4(aVertexPosition, 1.0);\n        vTextureCoord = aTextureCoord;\n      }\n    ';this.$TiledSphericalRenderer7.shaderSource(q,r);this.$TiledSphericalRenderer7.compileShader(q);if(!this.$TiledSphericalRenderer7.getShaderParameter(q,this.$TiledSphericalRenderer7.COMPILE_STATUS))return null;return q;};p.prototype.$TiledSphericalRenderer39=function(){'use strict';var q=this.$TiledSphericalRenderer7.createShader(this.$TiledSphericalRenderer7.FRAGMENT_SHADER),r='\n      varying highp vec2 vTextureCoord;\n\n      uniform sampler2D uSampler;\n\n      void main(void) {\n        gl_FragColor =  texture2D(\n          uSampler,\n          vec2(vTextureCoord.s, vTextureCoord.t)\n        );\n      }\n    ';this.$TiledSphericalRenderer7.shaderSource(q,r);this.$TiledSphericalRenderer7.compileShader(q);if(!this.$TiledSphericalRenderer7.getShaderParameter(q,this.$TiledSphericalRenderer7.COMPILE_STATUS))return null;return q;};p.prototype.$TiledSphericalRenderer24=function(){'use strict';k.perspective(this.$TiledSphericalRenderer8,j.toRadian(this.$TiledSphericalRenderer6),this.$TiledSphericalRenderer1.width/this.$TiledSphericalRenderer1.height,.1,100);this.$TiledSphericalRenderer7.viewport(0,0,this.$TiledSphericalRenderer7.drawingBufferWidth,this.$TiledSphericalRenderer7.drawingBufferHeight);};p.prototype.$TiledSphericalRenderer35=function(){'use strict';var q=this.$TiledSphericalRenderer7.createTexture(),r=this.$TiledSphericalRenderer7.TEXTURE_2D;this.$TiledSphericalRenderer7.bindTexture(r,q);this.$TiledSphericalRenderer7.texParameteri(r,this.$TiledSphericalRenderer7.TEXTURE_MAG_FILTER,this.$TiledSphericalRenderer7.LINEAR);this.$TiledSphericalRenderer7.texParameteri(r,this.$TiledSphericalRenderer7.TEXTURE_MIN_FILTER,this.$TiledSphericalRenderer7.LINEAR);this.$TiledSphericalRenderer7.texParameteri(r,this.$TiledSphericalRenderer7.TEXTURE_WRAP_S,this.$TiledSphericalRenderer7.CLAMP_TO_EDGE);this.$TiledSphericalRenderer7.texParameteri(r,this.$TiledSphericalRenderer7.TEXTURE_WRAP_T,this.$TiledSphericalRenderer7.CLAMP_TO_EDGE);this.$TiledSphericalRenderer7.bindTexture(r,null);return q;};f.exports=p;}),null);
__d('SphericalImageRenderer',['cx','CSS','DOM','CubemapImageTileProvider','EventEmitter','EntPhotoCubemapTileUriProvider','SphericalViewportControl','SphericalRenderer','TiledSphericalRenderer','Vector','SphericalPhotoConfig','SphericalPhotoViewerLoggerUtil','SphericalMediaConstants'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('SphericalPhotoViewerLoggerUtil').logDragStart,l=c('SphericalPhotoViewerLoggerUtil').logMouseOverStart,m=c('SphericalPhotoViewerLoggerUtil').logWWWGyroStart,n=c('SphericalPhotoViewerLoggerUtil').logZoomStart,o=c('SphericalPhotoViewerLoggerUtil').logSignificantMovement,p=c('SphericalMediaConstants').LOGGER_SIGNIFICANT_MOVEMENT_DEGREE,q=c('SphericalMediaConstants').GYRO_SLIP_FACTOR,r=c('SphericalMediaConstants').RB_FRICTION,s=c('SphericalMediaConstants').RB_SPRING_FACTOR,t=c('SphericalMediaConstants').RB_MAX_SPRING_DEGREE,u=c('SphericalMediaConstants').RB_MAX_STRETCH_X_DEGREE,v=c('SphericalMediaConstants').RB_MAX_STRETCH_Y_DEGREE,w=window.devicePixelRatio||1;i=babelHelpers.inherits(x,c('EventEmitter'));j=i&&i.prototype;function x(y,z,aa,ba,ca,da,ea){'use strict';j.constructor.call(this);this.$SphericalImageRenderer5=y;this.$SphericalImageRenderer1=ea;this.$SphericalImageRenderer7=z;this.$SphericalImageRenderer4=aa;this.$SphericalImageRenderer8={pitch:z.initialPitch,yaw:z.initialHeading};this.$SphericalImageRenderer6=c('DOM').create('canvas',{width:ca*w,height:da*w,className:"_5nxw",tabIndex:0});var fa,ga;if(aa){var ha=new (c('CubemapImageTileProvider'))(new (c('EntPhotoCubemapTileUriProvider'))(ea,ba));fa=new (c('TiledSphericalRenderer'))(this.$SphericalImageRenderer6,ha,z.fieldOfView);ga=function(){return ha.addBaseLevelReadyCallback(this.$SphericalImageRenderer9.bind(this));}.bind(this);}else{fa=new (c('SphericalRenderer'))(y,this.$SphericalImageRenderer6,z);ga=function(){if(this.$SphericalImageRenderer5.complete){setTimeout(function(){return this.$SphericalImageRenderer9();}.bind(this),0);}else this.$SphericalImageRenderer5.onload=function(){return this.$SphericalImageRenderer9();}.bind(this);}.bind(this);}fa.addListener('renderingError',this.$SphericalImageRenderer10.bind(this));var ia={enableGyro:c('SphericalPhotoConfig').www_spherical_photo_slip_panning,slipFactor:q,springFactor:s,maxSpringDegrees:t,maxStretchXDegrees:u,maxStretchYDegrees:v,rubberBandConstant:r,enableRubberBanding:c('SphericalPhotoConfig').www_spherical_photo_rubberbanding},ja=new (c('SphericalViewportControl'))(this.$SphericalImageRenderer6,z,ia);ja.addListener('viewportChange',function(ka,la,ma){return this.emit('viewportChange',ka,la,ma);}.bind(this));ja.addListener('viewportChange',function(ka,la,ma){return this.$SphericalImageRenderer11(ka,la,ma);}.bind(this));ja.addListener('updateViewportBegin',function(){return this.emit('updateViewportBegin');}.bind(this));ja.addListener('updateViewportEnd',function(ka,la){this.$SphericalImageRenderer12(ka,la);this.emit('updateViewportEnd');}.bind(this));ja.addListener('DOM/click',function(ka){return this.emit('DOM/click',ka);}.bind(this));ja.addListener('updateViewportMoveStart',function(ka){return ka?m({photoID:this.$SphericalImageRenderer1}):k({photoID:this.$SphericalImageRenderer1});}.bind(this));ja.addListener('mouseEnter',function(){return l({photoID:this.$SphericalImageRenderer1});}.bind(this));ja.addListener('zoomStart',function(){return n({photoID:this.$SphericalImageRenderer1});}.bind(this));c('CSS').hide(y);this.$SphericalImageRenderer2=ja;this.$SphericalImageRenderer3=fa;fa.updateViewportDimensions(ca,da);ga();}x.prototype.attachTo=function(y){'use strict';this.detach();y.appendChild(this.$SphericalImageRenderer6);};x.prototype.detach=function(){'use strict';if(this.$SphericalImageRenderer6.parentElement)this.$SphericalImageRenderer6.parentElement.removeChild(this.$SphericalImageRenderer6);c('CSS').hide(this.$SphericalImageRenderer6);};x.prototype.reconfigure=function(y,z,aa,ba,ca,da,ea){'use strict';this.$SphericalImageRenderer5=y;this.$SphericalImageRenderer1=ea;this.$SphericalImageRenderer7=z;this.$SphericalImageRenderer3.setAutoUpdateTexture(true);this.$SphericalImageRenderer3.reconfigure(y,z);this.$SphericalImageRenderer3.updateViewportDimensions(ca,da);this.$SphericalImageRenderer2.reconfigure(z);if(c('SphericalPhotoConfig').www_spherical_photo_slip_panning)this.$SphericalImageRenderer2.setEnableGyro(true);if(this.$SphericalImageRenderer5.complete){setTimeout(function(){return this.$SphericalImageRenderer9();}.bind(this),0);}else this.$SphericalImageRenderer5.onload=function(){return this.$SphericalImageRenderer9();}.bind(this);};x.prototype.isUsingTiles=function(){'use strict';return this.$SphericalImageRenderer4;};x.prototype.isHealthy=function(){'use strict';return this.$SphericalImageRenderer3.hasRenderingContext();};x.prototype.getDimensions=function(){'use strict';return new (c('Vector'))(this.$SphericalImageRenderer6.width/w,this.$SphericalImageRenderer6.height/w);};x.prototype.setDimensions=function(y){'use strict';this.$SphericalImageRenderer3.updateViewportDimensions(y.x,y.y);var z=this.$SphericalImageRenderer2.getOrientation();this.$SphericalImageRenderer13(z.x,z.y);};x.prototype.getSphericalConfig=function(){'use strict';return this.$SphericalImageRenderer7;};x.prototype.$SphericalImageRenderer12=function(y,z){'use strict';var aa=y-this.$SphericalImageRenderer8.yaw,ba=z-this.$SphericalImageRenderer8.pitch,ca=Math.sqrt(Math.pow(aa,2)+Math.pow(ba,2));if(p<ca)o({photoID:this.$SphericalImageRenderer1});this.$SphericalImageRenderer8={yaw:y,pitch:z};};x.prototype.$SphericalImageRenderer9=function(){'use strict';this.emit('imageLoaded');var y=this.$SphericalImageRenderer2.getOrientation();this.$SphericalImageRenderer13(y.x,y.y);this.$SphericalImageRenderer3.setAutoUpdateTexture(false);c('CSS').show(this.$SphericalImageRenderer6);};x.prototype.$SphericalImageRenderer11=function(y,z,aa){'use strict';if(aa!==this.$SphericalImageRenderer14)this.$SphericalImageRenderer3.updateFieldOfView(aa);this.$SphericalImageRenderer13(y,z);};x.prototype.$SphericalImageRenderer10=function(y){'use strict';this.emit('error',{error:'SPHERICAL_IMAGE_RENDER_ERROR',message:y.message});};x.prototype.$SphericalImageRenderer13=function(y,z){'use strict';this.$SphericalImageRenderer3.render(y,z);};x.prototype.setFieldOfView=function(y){'use strict';this.$SphericalImageRenderer3.updateFieldOfView(y);this.$SphericalImageRenderer2.setFieldOfView(y);};x.prototype.setSphericalOrientation=function(y,z){'use strict';this.$SphericalImageRenderer2.setSphericalOrientation(y,z);};x.prototype.getSnapshot=function(y,z,aa){'use strict';this.$SphericalImageRenderer13(y,z);return this.$SphericalImageRenderer6?this.$SphericalImageRenderer6.toDataURL(aa):null;};f.exports=x;}),null);
__d('SphericalImageRendererPool',['SphericalImageRenderer'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.$SphericalImageRendererPool1=[];}h.prototype.get=function(i,j,k,l,m,n,o,p){if(!this.$SphericalImageRendererPool1.length||k){return new (c('SphericalImageRenderer'))(i,j,k,l,m,n,o);}else{var q=this.$SphericalImageRendererPool1.pop();q.reconfigure(i,j,k,l,m,n,o);return q;}};h.prototype['return']=function(i){if(!i.isHealthy()||i.isUsingTiles())return;i.detach();i.removeAllListeners();this.$SphericalImageRendererPool1.push(i);};f.exports=new h();}),null);
__d('SphericalImageViewer',['DOM','CSS','EventEmitter','Bootloader','SphericalImageRendererPool','Vector','VisibilityObserver'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(k,l,m,n,o,p,q,r,s,t){'use strict';i.constructor.call(this);this.$SphericalImageViewer1=k;this.$SphericalImageViewer10=r;this.$SphericalImageViewer11=s;this.$SphericalImageViewer12=n;this.$SphericalImageViewer9=r/s;this.$SphericalImageViewer7=m;this.$SphericalImageViewer2=q;this.$SphericalImageViewer3=l;this.$SphericalImageViewer4=o;this.$SphericalImageViewer5=p;this.$SphericalImageViewer6=null;this.$SphericalImageViewer8=q.fieldOfView;this.$SphericalImageViewer14=t;this.imageLoaded=false;this.$SphericalImageViewer13=c('Vector').from(q.initialHeading,q.initialPitch);c('VisibilityObserver').instance.addListener(this.$SphericalImageViewer1,c('VisibilityObserver').VISIBILITY_CHANGE.visiblestart,function(){return this.$SphericalImageViewer15();}.bind(this));c('VisibilityObserver').instance.addListener(this.$SphericalImageViewer1,c('VisibilityObserver').VISIBILITY_CHANGE.visibleend,function(){return this.$SphericalImageViewer16();}.bind(this));if(c('VisibilityObserver').instance.getCurrentState(this.$SphericalImageViewer1)===c('VisibilityObserver').VISIBILITY.visible)setTimeout(function(){return this.$SphericalImageViewer15();}.bind(this),0);}j.prototype.getFBID=function(){'use strict';return this.$SphericalImageViewer14;};j.prototype.reconfigure=function(k){'use strict';this.$SphericalImageViewer2=k;if(this.$SphericalImageViewer6)this.$SphericalImageViewer6.reconfigure(this.$SphericalImageViewer3,this.$SphericalImageViewer2,this.$SphericalImageViewer4,this.$SphericalImageViewer5,this.$SphericalImageViewer10,this.$SphericalImageViewer11,this.$SphericalImageViewer14);};j.prototype.destroy=function(){'use strict';this.$SphericalImageViewer1=c('DOM').create('div');this.$SphericalImageViewer7=c('DOM').create('div');this.$SphericalImageViewer3=c('DOM').create('div');if(this.$SphericalImageViewer6){c('SphericalImageRendererPool')['return'](this.$SphericalImageViewer6);this.$SphericalImageViewer6=null;}};j.prototype.suspend=function(){'use strict';this.$SphericalImageViewer16();};j.prototype.resume=function(){'use strict';this.$SphericalImageViewer15();};j.prototype.$SphericalImageViewer15=function(){'use strict';if(this.$SphericalImageViewer6!==null)return;var k=c('SphericalImageRendererPool').get(this.$SphericalImageViewer3,this.$SphericalImageViewer2,this.$SphericalImageViewer4,this.$SphericalImageViewer5,this.$SphericalImageViewer10,this.$SphericalImageViewer11,this.$SphericalImageViewer14);this.$SphericalImageViewer6=k;['viewportChange','updateViewportBegin','updateViewportEnd','imageLoaded','DOM/click','error'].forEach(function(l){return (k.addListener(l,this.emit.bind(this,l)));}.bind(this));k.addListener('imageLoaded',function(){this.imageLoaded=true;c('CSS').hide(this.$SphericalImageViewer7);}.bind(this));k.addListener('viewportChange',function(l,m,n){this.$SphericalImageViewer13.x=l;this.$SphericalImageViewer13.y=m;this.$SphericalImageViewer8=n;}.bind(this));k.addListener('DOM/click',function(l){return this.$SphericalImageViewer17(l);}.bind(this));k.attachTo(this.$SphericalImageViewer1);};j.prototype.$SphericalImageViewer16=function(){'use strict';c('CSS').show(this.$SphericalImageViewer7);if(this.$SphericalImageViewer6){c('SphericalImageRendererPool')['return'](this.$SphericalImageViewer6);this.$SphericalImageViewer6=null;}};j.prototype.$SphericalImageViewer17=function(k){'use strict';this.emit('DOM/click',k);if(k.button==0)this.$SphericalImageViewer18();};j.prototype.$SphericalImageViewer18=function(){'use strict';if(this.$SphericalImageViewer12)c('Bootloader').loadModules(["PhotoSnowlift"],function(k){return k.bootstrap(this.$SphericalImageViewer12);}.bind(this),'SphericalImageViewer');};j.prototype.getOrientation=function(){'use strict';return this.$SphericalImageViewer13;};j.prototype.getDimensions=function(){'use strict';return {x:this.$SphericalImageViewer10,y:this.$SphericalImageViewer11};};j.prototype.setDimensions=function(k){'use strict';if(this.$SphericalImageViewer6)this.$SphericalImageViewer6.setDimensions(k);this.$SphericalImageViewer10=k.x;this.$SphericalImageViewer11=k.y;this.$SphericalImageViewer9=k.x/k.y;};j.prototype.getInitialViewElement=function(){'use strict';return this.$SphericalImageViewer7;};j.prototype.getRootNode=function(){'use strict';return this.$SphericalImageViewer1;};j.prototype.getAspectRatio=function(){'use strict';return this.$SphericalImageViewer9;};j.prototype.getVerticalFieldOfView=function(){'use strict';return this.$SphericalImageViewer8;};j.prototype.getHorizontalFieldOfView=function(){'use strict';return this.$SphericalImageViewer8*this.getAspectRatio();};j.prototype.setSphericalOrientation=function(k,l){'use strict';if(this.$SphericalImageViewer6)this.$SphericalImageViewer6.setSphericalOrientation(k,l);this.$SphericalImageViewer13.x=k;this.$SphericalImageViewer13.y=l;};j.prototype.setFieldOfView=function(k){'use strict';if(this.$SphericalImageViewer6)this.$SphericalImageViewer6.setFieldOfView(k);this.$SphericalImageViewer8=k;};j.prototype.getSnapshot=function(k){'use strict';return this.$SphericalImageViewer6?this.$SphericalImageViewer6.getSnapshot(this.$SphericalImageViewer13.x,this.$SphericalImageViewer13.y,k):null;};f.exports=j;}),null);
__d('SphericalPhotoCastingComponent',['regeneratorRuntime','SubscriptionsHandler','CastingExperienceManager','SphericalImageViewer'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('SphericalImageViewer'));i=h&&h.prototype;function j(k,l,m,n,o,p,q,r,s,t,u,v){'use strict';i.constructor.call(this,k,l,m,n,o,p,q,r.WWW,s.WWW,t);this.$SphericalPhotoCastingComponent1='360Photo';this.$SphericalPhotoCastingComponent2=c('CastingExperienceManager').getInstance();this.$SphericalPhotoCastingComponent3=false;this.$SphericalPhotoCastingComponent4=false;this.$SphericalPhotoCastingComponent6=t;this.$SphericalPhotoCastingComponent7=this.$SphericalPhotoCastingComponent2.hasFoundReceiver();this.$SphericalPhotoCastingComponent5={photo_uri:v,cubemap_uri:u,permalink_uri:n,sphericalConfig:q,width:r.TV,height:s.TV,fbid:t};this.$SphericalPhotoCastingComponent8=new (c('SubscriptionsHandler'))();this.$SphericalPhotoCastingComponent8.addSubscriptions(this.$SphericalPhotoCastingComponent2.addListener(c('CastingExperienceManager').RECEIVER_STATUS_CHANGED,function(w){return (this.$SphericalPhotoCastingComponent10(w));}.bind(this)),this.$SphericalPhotoCastingComponent2.addListener(c('CastingExperienceManager').RECEIVER_DISCONNECTED,function(){return this.$SphericalPhotoCastingComponent11();}.bind(this)),this.$SphericalPhotoCastingComponent2.addListener(c('CastingExperienceManager').SESSION_DISCONNECTED,function(){return this.$SphericalPhotoCastingComponent11();}.bind(this)),this.$SphericalPhotoCastingComponent2.addListener(c('CastingExperienceManager').EXPERIENCE_ENDED,function(){return this.$SphericalPhotoCastingComponent11();}.bind(this)),this.$SphericalPhotoCastingComponent2.addListener(c('CastingExperienceManager').SESSION_MESSAGE,function(w){return this.$SphericalPhotoCastingComponent12(w);}.bind(this)),this.$SphericalPhotoCastingComponent2.addListener(c('CastingExperienceManager').ERROR,function(w){return this.$SphericalPhotoCastingComponent13(w);}.bind(this)),this.$SphericalPhotoCastingComponent2.addListener(c('CastingExperienceManager').STOP_VIEW,function(){return this.$SphericalPhotoCastingComponent14();}.bind(this)),this.addListener('photoCasting/startCasting',function(w){return this.$SphericalPhotoCastingComponent15(w);}.bind(this)),this.addListener('photoCasting/stopCasting',function(w){return this.$SphericalPhotoCastingComponent15(w);}.bind(this)),this.addListener('viewportChange',function(w,x,y){if(this.$SphericalPhotoCastingComponent3){var z={x:w,y:x};this.$SphericalPhotoCastingComponent2.sendCommand('image_orientation_changed',z);}}.bind(this)),this.addListener('updateViewportEnd',function(){if(this.$SphericalPhotoCastingComponent3)this.$SphericalPhotoCastingComponent2.sendCommand('image_orientation_change_stopped');}.bind(this)),this.addListener('photoCasting/buttonLoaded',function(){return (this.emit('photoCasting/receiverStateChange',this.$SphericalPhotoCastingComponent7));}.bind(this)));}j.prototype.destroy=function(){'use strict';this.$SphericalPhotoCastingComponent8.release();};j.prototype.$SphericalPhotoCastingComponent15=function k(l){return c('regeneratorRuntime').async(function m(n){while(1)switch(n.prev=n.next){case 0:'use strict';if(!l){n.next=13;break;}this.$SphericalPhotoCastingComponent3=true;n.prev=3;n.next=6;return c('regeneratorRuntime').awrap(this.$SphericalPhotoCastingComponent16());case 6:n.next=11;break;case 8:n.prev=8;n.t0=n['catch'](3);this.$SphericalPhotoCastingComponent3=false;case 11:n.next=15;break;case 13:n.next=15;return c('regeneratorRuntime').awrap(this.$SphericalPhotoCastingComponent17());case 15:case 'end':return n.stop();}},null,this,[[3,8]]);};j.prototype.$SphericalPhotoCastingComponent16=function k(){var l,m,n,o,p;return c('regeneratorRuntime').async(function q(r){while(1)switch(r.prev=r.next){case 0:'use strict';if(this.$SphericalPhotoCastingComponent2.isCasting(this.$SphericalPhotoCastingComponent1)){r.next=4;break;}r.next=4;return c('regeneratorRuntime').awrap(this.$SphericalPhotoCastingComponent2.startCasting(this.$SphericalPhotoCastingComponent1));case 4:r.next=6;return c('regeneratorRuntime').awrap(this.$SphericalPhotoCastingComponent18());case 6:l=r.sent;m=!!l.photo_id;n=this.$SphericalPhotoCastingComponent6&&l.photo_id===this.$SphericalPhotoCastingComponent6;if(!(m&&!n)){r.next=15;break;}r.next=12;return c('regeneratorRuntime').awrap(this.$SphericalPhotoCastingComponent2.sendCommand('stop_showing_photo',this.$SphericalPhotoCastingComponent5));case 12:o=r.sent;this.$SphericalPhotoCastingComponent6=o.reference_id;this.$SphericalPhotoCastingComponent4=true;case 15:if(this.$SphericalPhotoCastingComponent4){r.next=21;break;}r.next=18;return c('regeneratorRuntime').awrap(this.$SphericalPhotoCastingComponent2.sendCommand('show_photo',this.$SphericalPhotoCastingComponent5));case 18:p=r.sent;this.$SphericalPhotoCastingComponent6=p.reference_id;this.$SphericalPhotoCastingComponent4=true;case 21:case 'end':return r.stop();}},null,this);};j.prototype.$SphericalPhotoCastingComponent17=function k(){return c('regeneratorRuntime').async(function l(m){while(1)switch(m.prev=m.next){case 0:'use strict';if(!this.$SphericalPhotoCastingComponent3){m.next=5;break;}m.next=4;return c('regeneratorRuntime').awrap(this.$SphericalPhotoCastingComponent2.sendCommand('stop_casting'));case 4:this.$SphericalPhotoCastingComponent3=false;case 5:this.$SphericalPhotoCastingComponent19();case 6:case 'end':return m.stop();}},null,this);};j.prototype.$SphericalPhotoCastingComponent19=function(){'use strict';if(this.$SphericalPhotoCastingComponent4)this.$SphericalPhotoCastingComponent4=false;if(this.$SphericalPhotoCastingComponent3)this.$SphericalPhotoCastingComponent3=false;};j.prototype.$SphericalPhotoCastingComponent12=function(k){'use strict';if(this.$SphericalPhotoCastingComponent3)if(k.type==='status_update')this.$SphericalPhotoCastingComponent20(k.data);};j.prototype.$SphericalPhotoCastingComponent20=function(k){'use strict';if(this.$SphericalPhotoCastingComponent6&&this.$SphericalPhotoCastingComponent6!==k.reference_id){this.$SphericalPhotoCastingComponent19();return;}var l=k.state==='play';if(l!==this.$SphericalPhotoCastingComponent4)this.$SphericalPhotoCastingComponent4=l;};j.prototype.$SphericalPhotoCastingComponent10=function(k){'use strict';this.$SphericalPhotoCastingComponent7=k;this.emit('photoCasting/receiverStateChange',k);};j.prototype.$SphericalPhotoCastingComponent11=function(){'use strict';this.$SphericalPhotoCastingComponent19();};j.prototype.$SphericalPhotoCastingComponent14=function(){'use strict';if(this.$SphericalPhotoCastingComponent4){this.emit('photoCasting/castingStateChange',this.getFBID());this.$SphericalPhotoCastingComponent19();}};j.prototype.$SphericalPhotoCastingComponent18=function k(){var l;return c('regeneratorRuntime').async(function m(n){while(1)switch(n.prev=n.next){case 0:'use strict';n.next=3;return c('regeneratorRuntime').awrap(this.$SphericalPhotoCastingComponent2.getExperienceState());case 3:l=n.sent;return n.abrupt('return',l.experience_specific_state);case 5:case 'end':return n.stop();}},null,this);};j.prototype.$SphericalPhotoCastingComponent13=function(k){'use strict';this.$SphericalPhotoCastingComponent9=k;};f.exports=j;}),null);
__d('SphericalMediaGyroOverlay.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=function m(n,o,p){return {gyroRoot:(n?"_2dz7":'')+(o?' '+"_4z8s":'')+(p?' '+"_4z8p":''),gyroOuter:"_4z8q",gyroInner:"_4z8r",gyroMeridian:"_4z8t",gyroEquator:"_4z8u",gyroTextShell:"_4z8v",gyroText:"_4z8w"};};i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=this.props,n=m.className,o=m.isActive,p=m.isInfinite,q=m.isPaused,r=k(o,p,q);return (c('React').createElement('div',{className:c('joinClasses')(n,r.gyroRoot)},c('React').createElement('div',{className:r.gyroOuter},c('React').createElement('div',{className:r.gyroInner},c('React').createElement('div',{className:r.gyroMeridian}),c('React').createElement('div',{className:r.gyroEquator})),c('React').createElement('div',{className:r.gyroTextShell},c('React').createElement('span',{className:r.gyroText},'360')))));};function l(){'use strict';i.apply(this,arguments);}f.exports=l;}),null);
__d('PhotoSnowliftViewable',['cx','CSS','DOM','EncryptedImg','Event','EventEmitter','ImageUtils','PhotoSnowliftViewableSphericalPhoto','React','ReactDOM','SphericalPhotoConfig','SphericalMediaGyroOverlay.react','Vector'],(function a(b,c,d,e,f,g,h){var i,j,k,l,m,n;if(c.__markCompiled)c.__markCompiled();var o=2000,p=60,q=0,r=0;function s(aa,ba){var ca;if(aa.src&&aa.complete){setTimeout(ba,0);}else (function(){var da=c('Event').listen(aa,'load',function(){da.remove();ba();});})();}function t(aa,ba){if(c('EncryptedImg').isEncrypted(ba)){c('EncryptedImg').insertIntoDOM(ba,aa);}else aa.src=ba;}i=babelHelpers.inherits(u,c('EventEmitter'));j=i&&i.prototype;function u(){var aa=arguments.length<=0||arguments[0]===undefined?o:arguments[0],ba=arguments.length<=1||arguments[1]===undefined?1:arguments[1];'use strict';j.constructor.call(this);this.$PhotoSnowliftViewable5=c('DOM').create('div',{className:"_2-sx"});this.$PhotoSnowliftViewable4=aa;this.$PhotoSnowliftViewable3=ba;this.$PhotoSnowliftViewable1=null;this.$PhotoSnowliftViewable2=0;this.$PhotoSnowliftViewable6();setTimeout(function(){return this.whenReady(function(){return this.$PhotoSnowliftViewable7();}.bind(this));}.bind(this),0);}u.prototype.$PhotoSnowliftViewable6=function(){'use strict';this.$PhotoSnowliftViewable1=setTimeout(function(){return this.$PhotoSnowliftViewable8();}.bind(this),this.$PhotoSnowliftViewable4);};u.prototype.$PhotoSnowliftViewable8=function(){'use strict';if(this.isReady())return;if(this.$PhotoSnowliftViewable2<this.$PhotoSnowliftViewable3){this.reload();this.$PhotoSnowliftViewable2++;this.$PhotoSnowliftViewable6();}else this.emit('loadingfailed');};u.prototype.reload=function(){'use strict';};u.prototype.$PhotoSnowliftViewable7=function(){'use strict';if(this.$PhotoSnowliftViewable1!==null){clearTimeout(this.$PhotoSnowliftViewable1);this.$PhotoSnowliftViewable1=null;}};u.prototype.getElement=function(){'use strict';return this.$PhotoSnowliftViewable5;};u.prototype.show=function(){'use strict';c('CSS').show(this.getElement());};u.prototype.hide=function(){'use strict';c('CSS').hide(this.getElement());};u.prototype.suspend=function(){'use strict';};u.prototype.resume=function(){'use strict';};u.prototype.onToggleIntoFullScreen=function(){'use strict';};u.prototype.onToggleOutOfFullScreen=function(){'use strict';};u.prototype.onEnterFullScreen=function(){'use strict';};u.prototype.onExitFullScreen=function(){'use strict';};u.prototype.getNaturalDimensions=function(){'use strict';return this.getDimensions();};u.prototype.getDimensions=function(){'use strict';return c('Vector').getElementDimensions(this.getElement());};u.prototype.setDimensions=function(aa){'use strict';var ba=this.getElement();ba.style.width=aa.x+'px';ba.style.height=aa.y+'px';};u.prototype.isReady=function(){'use strict';throw new Error('Viewable has no concept of readiness - should be calling a subclass');};u.prototype.whenReady=function(aa){'use strict';if(this.isReady()){setTimeout(aa,0);}else this.once('ready',aa);};k=babelHelpers.inherits(v,u);l=k&&k.prototype;function v(aa,ba){var ca=arguments.length<=2||arguments[2]===undefined?false:arguments[2],da=arguments[3];'use strict';l.constructor.call(this);this.$PhotoSnowliftViewablePhoto1=da;this.$PhotoSnowliftViewablePhoto6=aa;this.$PhotoSnowliftViewablePhoto5=ba;this.$PhotoSnowliftViewablePhoto2=ca;this.addListener('imageloaded',function(ea){return this.$PhotoSnowliftViewablePhoto7(ea);}.bind(this));this.$PhotoSnowliftViewablePhoto8();}v.prototype.$PhotoSnowliftViewablePhoto8=function(){'use strict';if(this.$PhotoSnowliftViewablePhoto3&&this.$PhotoSnowliftViewablePhoto3.parentElement)this.$PhotoSnowliftViewablePhoto3.parentElement.removeChild(this.$PhotoSnowliftViewablePhoto3);var aa=c('DOM').create('img',{className:'spotlight',alt:''});this.$PhotoSnowliftViewablePhoto3=aa;this.$PhotoSnowliftViewablePhoto3.setAttribute('aria-describedby','fbPhotosSnowliftCaption');this.$PhotoSnowliftViewablePhoto3.setAttribute('aria-busy','true');this.getElement().appendChild(this.$PhotoSnowliftViewablePhoto3);this.$PhotoSnowliftViewablePhoto9(this.$PhotoSnowliftViewablePhoto10());s(this.$PhotoSnowliftViewablePhoto3,function(){return this.emit('imageloaded',aa);}.bind(this));this.whenReady(function(){return this.$PhotoSnowliftViewablePhoto11();}.bind(this));};v.prototype.$PhotoSnowliftViewablePhoto9=function(aa){'use strict';this.$PhotoSnowliftViewablePhoto4=aa;t(this.$PhotoSnowliftViewablePhoto3,this.$PhotoSnowliftViewablePhoto4);};v.prototype.$PhotoSnowliftViewablePhoto7=function(aa){'use strict';if(this.$PhotoSnowliftViewablePhoto3!==aa)return;this.emit('ready');};v.prototype.reload=function(){'use strict';this.$PhotoSnowliftViewablePhoto8();};v.prototype.$PhotoSnowliftViewablePhoto10=function(){'use strict';if(this.$PhotoSnowliftViewablePhoto2)return this.$PhotoSnowliftViewablePhoto6;return this.$PhotoSnowliftViewablePhoto5||this.$PhotoSnowliftViewablePhoto6;};v.prototype.$PhotoSnowliftViewablePhoto11=function(){'use strict';this.$PhotoSnowliftViewablePhoto3.setAttribute('aria-busy','false');};v.prototype.isReady=function(){'use strict';return this.$PhotoSnowliftViewablePhoto3.src&&c('ImageUtils').hasLoaded(this.$PhotoSnowliftViewablePhoto3);};v.prototype.getNaturalDimensions=function(){'use strict';if(this.$PhotoSnowliftViewablePhoto1)return this.$PhotoSnowliftViewablePhoto1;if(this.$PhotoSnowliftViewablePhoto3&&this.$PhotoSnowliftViewablePhoto3.naturalWidth&&this.$PhotoSnowliftViewablePhoto3.naturalHeight)return c('Vector').from(this.$PhotoSnowliftViewablePhoto3.naturalWidth,this.$PhotoSnowliftViewablePhoto3.naturalHeight);return l.getNaturalDimensions.call(this);};v.prototype.$PhotoSnowliftViewablePhoto12=function(){'use strict';return this.$PhotoSnowliftViewablePhoto4===this.$PhotoSnowliftViewablePhoto6;};v.prototype.onToggleIntoFullScreen=function(){'use strict';if(!this.$PhotoSnowliftViewablePhoto12())if(this.$PhotoSnowliftViewablePhoto4!==this.$PhotoSnowliftViewablePhoto6)t(new Image(),this.$PhotoSnowliftViewablePhoto6);};v.prototype.onEnterFullScreen=function(){'use strict';if(!this.$PhotoSnowliftViewablePhoto12())this.$PhotoSnowliftViewablePhoto9(this.$PhotoSnowliftViewablePhoto6);};m=babelHelpers.inherits(w,u);n=m&&m.prototype;function w(aa){'use strict';n.constructor.call(this);this.$PhotoSnowliftViewableImageWrapper1=aa;this.getElement().appendChild(aa);if(this.$PhotoSnowliftViewableImageWrapper1.complete){this.$PhotoSnowliftViewableImageWrapper2();}else c('Event').listen(this.$PhotoSnowliftViewableImageWrapper1,'load',function(){return this.$PhotoSnowliftViewableImageWrapper2();}.bind(this));}w.prototype.$PhotoSnowliftViewableImageWrapper2=function(){'use strict';(function(){return this.emit('ready');}).bind(this);};w.prototype.isReady=function(){'use strict';return c('ImageUtils').hasLoaded(this.$PhotoSnowliftViewableImageWrapper1);};w.prototype.getNaturalDimensions=function(){'use strict';if(this.$PhotoSnowliftViewableImageWrapper1&&this.$PhotoSnowliftViewableImageWrapper1.naturalWidth&&this.$PhotoSnowliftViewableImageWrapper1.naturalHeight)return c('Vector').from(this.$PhotoSnowliftViewableImageWrapper1.naturalWidth,this.$PhotoSnowliftViewableImageWrapper1.naturalHeight);return n.getNaturalDimensions.call(this);};function x(aa){var ba=arguments.length<=1||arguments[1]===undefined?false:arguments[1];if(c('SphericalPhotoConfig').spherical_photo_render_www&&aa.spherical){return new (c('PhotoSnowliftViewableSphericalPhoto'))(aa.url,aa.smallurl,aa.spherical.cubestripuri,aa.spherical.usetiledrenderer,aa.spherical.initialtileuris,aa.spherical.initialviewverticalfov||p,aa.spherical.initialpitch||q,aa.spherical.initialheading||r,ba,aa.dimensions,aa.spherical.partialLimits,String(aa.info.fbid));}else return new v(aa.url,aa.smallurl,ba,aa.dimensions);}function y(){var aa=c('DOM').create('div',{className:"_4yca _5nxw"});c('ReactDOM').render(c('React').createElement(c('SphericalMediaGyroOverlay.react'),{isActive:true,isInfinite:true}),aa);return aa;}function z(aa,ba){var ca=aa.parentElement,da=new w(aa);if(ca)ca.appendChild(da.getElement());if(c('SphericalPhotoConfig').www_spherical_photo_viewer_refactor&&ba)da.getElement().appendChild(y());return da;}f.exports.Viewable=u;f.exports.Photo=v;f.exports.SphericalPhoto=c('PhotoSnowliftViewableSphericalPhoto');f.exports.fromStreamData=x;f.exports.fromImageElement=z;}),null);
__d('SphericalCastingButton',['cx','XUIOverlayButton.react','Image.react','React','Event','ReactDOM','SphericalImageViewer'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k,l){'use strict';this.onClick=function(m){c('Event').kill(m);if(!this.$SphericalCastingButton3){this.$SphericalCastingButton3=true;this.$SphericalCastingButton1.emit('photoCasting/startCasting',this.$SphericalCastingButton3);}else{this.$SphericalCastingButton3=false;this.$SphericalCastingButton1.emit('photoCasting/stopCasting',this.$SphericalCastingButton3);}this.render();}.bind(this);this.isNotCasting=function(m){if(m===this.$SphericalCastingButton1.getFBID()){this.$SphericalCastingButton3=false;this.render();}}.bind(this);this.render=function(){var m=this.$SphericalCastingButton3?'/images/video/player/embedded_controls/icons/cast-connected.png':'/images/video/player/embedded_controls/icons/cast.png',n=c('React').createElement(c('Image.react'),{src:m}),o=this.$SphericalCastingButton4?"_3wh8":"_56-d";c('ReactDOM').render(c('React').createElement('div',{className:o},c('React').createElement(c('XUIOverlayButton.react'),{image:n})),this.$SphericalCastingButton2);}.bind(this);this.$SphericalCastingButton1=j;this.$SphericalCastingButton2=k;this.$SphericalCastingButton3=false;this.$SphericalCastingButton4=l;this.$SphericalCastingButton1.addListener('photoCasting/receiverStateChange',function(m){return this.$SphericalCastingButton5(m);}.bind(this));this.$SphericalCastingButton1.addListener('photoCasting/castingStateChange',function(m){return this.isNotCasting(m);}.bind(this));c('Event').listen(this.$SphericalCastingButton2,'click',function(m){return this.onClick(m);}.bind(this));this.$SphericalCastingButton1.emit('photoCasting/buttonLoaded');}i.prototype.$SphericalCastingButton5=function(j){'use strict';if(this.$SphericalCastingButton3&&!j)this.$SphericalCastingButton3=false;if(j){this.render();}else c('ReactDOM').unmountComponentAtNode(this.$SphericalCastingButton2);};f.exports=i;}),null);
__d("d3/behavior/behavior",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};f.exports=h;}),null);
__d("d3/core/dispatch",["d3/core/map"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/map")._Map,i=function l(){var m=new j(),n=-1,o=arguments.length;while(++n<o)m[arguments[n]]=k(m);return m;};function j(){}j.prototype.on=function(l,m){var n=l.indexOf("."),o="";if(n>0){o=l.substring(n+1);l=l.substring(0,n);}return arguments.length<2?this[l].on(o):this[l].on(o,m);};function k(l){var m=[],n=new h();function event(){var o=m,p=-1,q=o.length,r;while(++p<q)if(r=o[p].on)r.apply(this,arguments);return l;}event.on=function(o,p){var q=n.get(o),r;if(arguments.length<2)return q&&q.on;if(q){q.on=null;m=m.slice(0,r=m.indexOf(q)).concat(m.slice(r+1));n.remove(o);}if(p)m.push(n.set(o,{on:p}));return l;};return event;}i._dispatch=j;i._event=k;f.exports=i;}),null);
__d("d3/core/event",["d3/core/dispatch","d3/core/core"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/dispatch")._dispatch,i=c("d3/core/dispatch")._event;c("d3/core/core").event=null;function j(){c("d3/core/core").event.stopPropagation();c("d3/core/core").event.preventDefault();}function k(){var m=c("d3/core/core").event,n;while(n=m.sourceEvent)m=n;return m;}function l(m){var n=new h(),o=0,p=arguments.length;while(++o<p)n[arguments[o]]=i(n);n.of=function(q,r){return function(s){try{var t=s.sourceEvent=c("d3/core/core").event;s.target=m;c("d3/core/core").event=s;n[s.type].apply(q,r);}finally{c("d3/core/core").event=t;}};};return n;}g._eventCancel=j;g._eventSource=k;g._eventDispatch=l;}),null);
__d("d3/core/array",["d3/core/core"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._document,i=k;function j(n){var o=-1,p=n.length,q=[];while(++o<p)q.push(n[o]);return q;}function k(n){return Array.prototype.slice.call(n);}try{i(h.documentElement.childNodes)[0].nodeType;}catch(l){i=j;}var m=[].__proto__?function(n,o){n.__proto__=o;}:function(n,o){for(var p in o)n[p]=o[p];};g._array=i;g._arraySubclass=m;}),null);
__d("d3/core/selection-root",["d3/core/core","d3/core/array","d3/core/selection"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._document,i=c("d3\/core\/array")._array,j=c("d3\/core\/selection")._selection([[h]]);j[0].parentNode=c("d3\/core\/selection")._selectRoot;var k=function l(m){return typeof m==="string"?j.select(m):c("d3\/core\/selection")._selection([[m]]);};k.all=function(l){return typeof l==="string"?j.selectAll(l):c("d3\/core\/selection")._selection([i(l)]);};k._selectionRoot=j;f.exports=k;}),null);
__d("d3/core/selection",["d3/core/array","d3/core/core","d3/core/selection-root"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/array")._arraySubclass,i=c("d3\/core\/core")._document;function j(r){h(r,p);return r;}var k=function r(s,t){return t.querySelector(s);},l=function r(s,t){return t.querySelectorAll(s);},m=i.documentElement,n=m.matchesSelector||m.webkitMatchesSelector||m.mozMatchesSelector||m.msMatchesSelector||m.oMatchesSelector,o=function r(s,t){return n.call(s,t);};if(typeof Sizzle==="function"){k=function r(s,t){return Sizzle(s,t)[0]||null;};l=function r(s,t){return Sizzle.uniqueSort(Sizzle(s,t));};o=Sizzle.matchesSelector;}var p=[],q=function r(){return c("d3\/core\/selection-root")._selectionRoot;};q.prototype=p;q._selectionPrototype=p;q._select=k;q._selectAll=l;q._selectRoot=m;q._selectMatches=o;q._selection=j;f.exports=q;}),null);
__d("d3/core/mouse",["d3/core/core","d3/core/event","d3/core/selection-root"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/event")._eventSource,i=c("d3/core/core")._window,j=c("d3/core/core")._document,k=function n(o){return m(o,h());},l=/WebKit/.test(i.navigator.userAgent)?-1:0;function m(n,o){var p=n.ownerSVGElement||n;if(p.createSVGPoint){var q=p.createSVGPoint();if(l<0&&(i.scrollX||i.scrollY)){p=c("d3/core/selection-root")(j.body).append("svg").style("position","absolute").style("top",0).style("left",0);var r=p[0][0].getScreenCTM();l=!(r.f||r.e);p.remove();}if(l){q.x=o.pageX;q.y=o.pageY;}else{q.x=o.clientX;q.y=o.clientY;}q=q.matrixTransform(n.getScreenCTM().inverse());return [q.x,q.y];}var s=n.getBoundingClientRect();return [o.clientX-s.left-n.clientLeft,o.clientY-s.top-n.clientTop];}k._mousePoint=m;f.exports=k;}),null);
__d("d3/core/touches",["d3/core/event","d3/core/array","d3/core/mouse"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/event")._eventSource,i=c("d3\/core\/array")._array,j=c("d3\/core\/mouse")._mousePoint,k=function l(m,n){if(arguments.length<2)n=h().touches;return n?i(n).map(function(o){var p=j(m,o);p.identifier=o.identifier;return p;}):[];};f.exports=k;}),null);
__d("d3/behavior/drag",["d3/core/event","d3/core/core","d3/core/selection-root","d3/core/touches","d3/core/mouse","d3/core/rebind"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/event")._eventDispatch,i=c("d3/core/core")._window,j=c("d3/core/event")._eventCancel,k=function l(){var event=h(n,"drag","dragstart","dragend"),m=null;function n(){this.on("mousedown.drag",o).on("touchstart.drag",o);}function o(){var p=this,q=event.of(p,arguments),r=c("d3/core/core").event.target,s=c("d3/core/core").event.touches?c("d3/core/core").event.changedTouches[0].identifier:null,t,u=x(),v=0,w=c("d3/core/selection-root")(i).on(s!=null?"touchmove.drag-"+s:"mousemove.drag",y).on(s!=null?"touchend.drag-"+s:"mouseup.drag",z,true);if(m){t=m.apply(p,arguments);t=[t.x-u[0],t.y-u[1]];}else t=[0,0];if(s==null)j();q({type:"dragstart"});function x(){var ba=p.parentNode;return s!=null?c("d3/core/touches")(ba).filter(function(ca){return ca.identifier===s;})[0]:c("d3/core/mouse")(ba);}function y(){if(!p.parentNode)return z();var ba=x(),ca=ba[0]-u[0],da=ba[1]-u[1];v|=ca|da;u=ba;j();q({type:"drag",x:ba[0]+t[0],y:ba[1]+t[1],dx:ca,dy:da});}function z(){q({type:"dragend"});if(v){j();if(c("d3/core/core").event.target===r)w.on("click.drag",aa,true);}w.on(s!=null?"touchmove.drag-"+s:"mousemove.drag",null).on(s!=null?"touchend.drag-"+s:"mouseup.drag",null);}function aa(){j();w.on("click.drag",null);}}n.origin=function(p){if(!arguments.length)return m;m=p;return n;};return c("d3/core/rebind")(n,event,"on");};f.exports=k;}),null);
__d("d3/behavior/zoom",["d3/core/event","d3/core/core","d3/core/selection-root","d3/core/mouse","d3/core/touches","d3/core/rebind"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/event")._eventDispatch,i=c("d3/core/core")._window,j=c("d3/core/event")._eventCancel,k=function o(){var p=[0,0],q,r=1,s,t=l,event=h(z,"zoom"),u,v,w,x,y;function z(){this.on("mousedown.zoom",ga).on("mousemove.zoom",ia).on(n+".zoom",ha).on("dblclick.zoom",ja).on("touchstart.zoom",ka).on("touchmove.zoom",la).on("touchend.zoom",ka);}z.translate=function(ma){if(!arguments.length)return p;p=ma.map(Number);ea();return z;};z.scale=function(ma){if(!arguments.length)return r;r=+ma;ea();return z;};z.scaleExtent=function(ma){if(!arguments.length)return t;t=ma==null?l:ma.map(Number);return z;};z.x=function(ma){if(!arguments.length)return v;v=ma;u=ma.copy();p=[0,0];r=1;return z;};z.y=function(ma){if(!arguments.length)return x;x=ma;w=ma.copy();p=[0,0];r=1;return z;};function aa(ma){return [(ma[0]-p[0])/r,(ma[1]-p[1])/r];}function ba(ma){return [ma[0]*r+p[0],ma[1]*r+p[1]];}function ca(ma){r=Math.max(t[0],Math.min(t[1],ma));}function da(ma,na){na=ba(na);p[0]+=ma[0]-na[0];p[1]+=ma[1]-na[1];}function ea(){if(v)v.domain(u.range().map(function(ma){return (ma-p[0])/r;}).map(u.invert));if(x)x.domain(w.range().map(function(ma){return (ma-p[1])/r;}).map(w.invert));}function fa(event){ea();c("d3/core/core").event.preventDefault();event({type:"zoom",scale:r,translate:p});}function ga(){var ma=this,na=event.of(ma,arguments),oa=c("d3/core/core").event.target,pa=0,qa=c("d3/core/selection-root")(i).on("mousemove.zoom",sa).on("mouseup.zoom",ta),ra=aa(c("d3/core/mouse")(ma));i.focus();j();function sa(){pa=1;da(c("d3/core/mouse")(ma),ra);fa(na);}function ta(){if(pa)j();qa.on("mousemove.zoom",null).on("mouseup.zoom",null);if(pa&&c("d3/core/core").event.target===oa)qa.on("click.zoom",ua,true);}function ua(){j();qa.on("click.zoom",null);}}function ha(){if(!q)q=aa(c("d3/core/mouse")(this));ca(Math.pow(2,m()*.002)*r);da(c("d3/core/mouse")(this),q);fa(event.of(this,arguments));}function ia(){q=null;}function ja(){var ma=c("d3/core/mouse")(this),na=aa(ma),oa=Math.log(r)/Math.LN2;ca(Math.pow(2,c("d3/core/core").event.shiftKey?Math.ceil(oa)-1:Math.floor(oa)+1));da(ma,na);fa(event.of(this,arguments));}function ka(){var ma=c("d3/core/touches")(this),na=Date.now();s=r;q={};ma.forEach(function(qa){q[qa.identifier]=aa(qa);});j();if(ma.length===1){if(na-y<500){var oa=ma[0],pa=aa(ma[0]);ca(r*2);da(oa,pa);fa(event.of(this,arguments));}y=na;}}function la(){var ma=c("d3/core/touches")(this),na=ma[0],oa=q[na.identifier];if(pa=ma[1]){var pa,qa=q[pa.identifier];na=[(na[0]+pa[0])/2,(na[1]+pa[1])/2];oa=[(oa[0]+qa[0])/2,(oa[1]+qa[1])/2];ca(c("d3/core/core").event.scale*s);}da(na,oa);y=null;fa(event.of(this,arguments));}return c("d3/core/rebind")(z,event,"on");},l=[0,Infinity],m,n="onwheel" in document?(m=function o(){return -c("d3/core/core").event.deltaY*(c("d3/core/core").event.deltaMode?120:1);},"wheel"):"onmousewheel" in document?(m=function o(){return c("d3/core/core").event.wheelDelta;},"mousewheel"):(m=function o(){return -c("d3/core/core").event.detail;},"MozMousePixelScroll");f.exports=k;}),null);
__d("d3/d3.behavior",["d3/behavior/behavior","d3/behavior/drag","d3/behavior/zoom"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c("d3/behavior/behavior").drag=c("d3\/behavior\/drag");c("d3/behavior/behavior").zoom=c("d3\/behavior\/zoom");f.exports=c("d3/behavior/behavior");}),null);
__d("d3/compat/date",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();if(!Date.now)Date.now=function(){return +new Date();};}),null);
__d("d3/compat/style",["d3/core/core"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/core")._document,i=c("d3/core/core")._window;try{h.createElement("div").style.setProperty("opacity",0,"");}catch(j){var k=i.CSSStyleDeclaration.prototype,l=k.setProperty;k.setProperty=function(m,n,o){l.call(this,m,n+"",o);};}}),null);
__d("d3/core/ascending",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function i(j,k){return j<k?-1:j>k?1:j>=k?0:NaN;};f.exports=h;}),null);
__d("d3/core/descending",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function i(j,k){return k<j?-1:k>j?1:k>=j?0:NaN;};f.exports=h;}),null);
__d("d3/core/ease",["d3/core/identity","d3/core/core","d3/core/map"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/identity")._identity,i=c("d3\/core\/core")._u03c0,j=function aa(){return h;},k=c("d3/core/map")({linear:j,poly:t,quad:function aa(){return q;},cubic:function aa(){return r;},sin:function aa(){return u;},exp:function aa(){return v;},circle:function aa(){return w;},elastic:x,back:y,bounce:function aa(){return z;}}),l=c("d3/core/map")({"in":h,out:o,"in-out":p,"out-in":function aa(ba){return p(o(ba));}}),m=function aa(ba){var ca=ba.indexOf("-"),da=ca>=0?ba.substring(0,ca):ba,ea=ca>=0?ba.substring(ca+1):"in";da=k.get(da)||j;ea=l.get(ea)||h;return n(ea(da.apply(null,Array.prototype.slice.call(arguments,1))));};function n(aa){return function(ba){return ba<=0?0:ba>=1?1:aa(ba);};}function o(aa){return function(ba){return 1-aa(1-ba);};}function p(aa){return function(ba){return .5*(ba<.5?aa(2*ba):2-aa(2-2*ba));};}function q(aa){return aa*aa;}function r(aa){return aa*aa*aa;}function s(aa){if(aa<=0)return 0;if(aa>=1)return 1;var ba=aa*aa,ca=ba*aa;return 4*(aa<.5?ca:3*(aa-ba)+ca-.75);}function t(aa){return function(ba){return Math.pow(ba,aa);};}function u(aa){return 1-Math.cos(aa*i/2);}function v(aa){return Math.pow(2,10*(aa-1));}function w(aa){return 1-Math.sqrt(1-aa*aa);}function x(aa,ba){var ca;if(arguments.length<2)ba=.45;if(arguments.length){ca=ba/(2*i)*Math.asin(1/aa);}else aa=1,ca=ba/4;return function(da){return 1+aa*Math.pow(2,10*-da)*Math.sin((da-ca)*2*i/ba);};}function y(aa){if(!aa)aa=1.70158;return function(ba){return ba*ba*((aa+1)*ba-aa);};}function z(aa){return aa<1/2.75?7.5625*aa*aa:aa<2/2.75?7.5625*(aa-=1.5/2.75)*aa+.75:aa<2.5/2.75?7.5625*(aa-=2.25/2.75)*aa+.9375:7.5625*(aa-=2.625/2.75)*aa+.984375;}m._cubicInOut=s;f.exports=m;}),null);
__d("d3/core/entries",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function i(j){var k=[];for(var l in j)k.push({key:l,value:j[l]});return k;};f.exports=h;}),null);
__d("d3/core/extent",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function i(j,k){var l=-1,m=j.length,n,o,p;if(arguments.length===1){while(++l<m&&((n=p=j[l])==null||n!=n))n=p=undefined;while(++l<m)if((o=j[l])!=null){if(n>o)n=o;if(p<o)p=o;}}else{while(++l<m&&((n=p=k.call(j,j[l],l))==null||n!=n))n=undefined;while(++l<m)if((o=k.call(j,j[l],l))!=null){if(n>o)n=o;if(p<o)p=o;}}return [n,p];};f.exports=h;}),null);
__d("d3/core/functor",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j){return typeof j==="function"?j:function(){return j;};}var i=h;i._functor=h;f.exports=i;}),null);
__d("d3/core/xhr",["d3/core/core","d3/core/identity","d3/core/array","d3/core/dispatch","d3/core/rebind"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/identity")._identity,i=c("d3/core/core")._window,j=c("d3\/core\/array")._array,k=function m(n,o,p){var q={},r=c("d3/core/dispatch")("progress","load","error"),s={},t=h,u=new (i.XDomainRequest&&/^(http(s)?:)?\/\//.test(n)?XDomainRequest:XMLHttpRequest)();"onload" in u?u.onload=u.onerror=v:u.onreadystatechange=function(){u.readyState>3&&v();};function v(){var w=u.status;!w&&u.responseText||w>=200&&w<300||w===304?r.load.call(q,t.call(q,u)):r.error.call(q,u);}u.onprogress=function(event){var w=c("d3/core/core").event;c("d3/core/core").event=event;try{r.progress.call(q,u);}finally{c("d3/core/core").event=w;}};q.header=function(w,x){w=(w+"").toLowerCase();if(arguments.length<2)return s[w];if(x==null){delete s[w];}else s[w]=x+"";return q;};q.mimeType=function(w){if(!arguments.length)return o;o=w==null?null:w+"";return q;};q.response=function(w){t=w;return q;};["get","post"].forEach(function(w){q[w]=function(){return q.send.apply(q,[w].concat(j(arguments)));};});q.send=function(w,x,y){if(arguments.length===2&&typeof x==="function")y=x,x=null;u.open(w,n,true);if(o!=null&&!("accept" in s))s.accept=o+",*/*";if(u.setRequestHeader)for(var z in s)u.setRequestHeader(z,s[z]);if(o!=null&&u.overrideMimeType)u.overrideMimeType(o);if(y!=null)q.on("error",y).on("load",function(aa){y(null,aa);});u.send(x==null?null:x);return q;};q.abort=function(){u.abort();return q;};c("d3/core/rebind")(q,r,"on");if(arguments.length===2&&typeof o==="function")p=o,o=null;return p==null?q:q.get(l(p));};function l(m){return m.length===1?function(n,o){m(n==null?o:null);}:m;}f.exports=k;}),null);
__d("d3/core/html",["d3/core/core","d3/core/xhr"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._document,i=function k(l,m){return c("d3/core/xhr")(l,"text/html",m).response(j);};function j(k){var l=h.createRange();l.selectNode(h.body);return l.createContextualFragment(k.responseText);}f.exports=i;}),null);
__d("d3/core/json",["d3/core/xhr"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function j(k,l){return c("d3/core/xhr")(k,"application/json",l).response(i);};function i(j){return JSON.parse(j.responseText);}f.exports=h;}),null);
__d("d3/core/keys",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function i(j){var k=[];for(var l in j)k.push(l);return k;};f.exports=h;}),null);
__d("d3/core/max",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function i(j,k){var l=-1,m=j.length,n,o;if(arguments.length===1){while(++l<m&&((n=j[l])==null||n!=n))n=undefined;while(++l<m)if((o=j[l])!=null&&o>n)n=o;}else{while(++l<m&&((n=k.call(j,j[l],l))==null||n!=n))n=undefined;while(++l<m)if((o=k.call(j,j[l],l))!=null&&o>n)n=o;}return n;};f.exports=h;}),null);
__d("d3/core/number",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){return i!=null&&!isNaN(i);}g._number=h;}),null);
__d("d3/core/mean",["d3/core/number"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/number")._number,i=function j(k,l){var m=k.length,n,o=0,p=-1,q=0;if(arguments.length===1){while(++p<m)if(h(n=k[p]))o+=(n-o)/++q;}else while(++p<m)if(h(n=l.call(k,k[p],p)))o+=(n-o)/++q;return q?o:undefined;};f.exports=i;}),null);
__d("d3/core/quantile",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function i(j,k){var l=(j.length-1)*k+1,m=Math.floor(l),n=+j[m-1],o=l-m;return o?n+o*(j[m]-n):n;};f.exports=h;}),null);
__d("d3/core/median",["d3/core/number","d3/core/quantile","d3/core/ascending"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/number")._number,i=function j(k,l){if(arguments.length>1)k=k.map(l);k=k.filter(h);return k.length?c("d3/core/quantile")(k.sort(c("d3/core/ascending")),.5):undefined;};f.exports=i;}),null);
__d("d3/core/merge",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function i(j){return Array.prototype.concat.apply([],j);};f.exports=h;}),null);
__d("d3/core/min",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function i(j,k){var l=-1,m=j.length,n,o;if(arguments.length===1){while(++l<m&&((n=j[l])==null||n!=n))n=undefined;while(++l<m)if((o=j[l])!=null&&n>o)n=o;}else{while(++l<m&&((n=k.call(j,j[l],l))==null||n!=n))n=undefined;while(++l<m)if((o=k.call(j,j[l],l))!=null&&n>o)n=o;}return n;};f.exports=h;}),null);
__d("d3/core/nest",["d3/core/map"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/map")._Map,i=function j(){var k={},l=[],m=[],n,o;function p(r,s){if(s>=l.length)return o?o.call(k,r):n?r.sort(n):r;var t=-1,u=r.length,v=l[s++],w,x,y=new h(),z,aa={};while(++t<u)if(z=y.get(w=v(x=r[t]))){z.push(x);}else y.set(w,[x]);y.forEach(function(ba,ca){aa[ba]=p(ca,s);});return aa;}function q(r,s){if(s>=l.length)return r;var t=[],u=m[s++],v;for(v in r)t.push({key:v,values:q(r[v],s)});if(u)t.sort(function(w,x){return u(w.key,x.key);});return t;}k.map=function(r){return p(r,0);};k.entries=function(r){return q(p(r,0),0);};k.key=function(r){l.push(r);return k;};k.sortKeys=function(r){m[l.length-1]=r;return k;};k.sortValues=function(r){n=r;return k;};k.rollup=function(r){o=r;return k;};return k;};f.exports=i;}),null);
__d("d3/core/permute",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function i(j,k){var l=[],m=-1,n=k.length;while(++m<n)l[m]=j[k[m]];return l;};f.exports=h;}),null);
__d("d3/core/random",["d3/core/core"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={normal:function i(j,k){var l=arguments.length;if(l<2)k=1;if(l<1)j=0;return function(){var m,n,o;do{m=Math.random()*2-1;n=Math.random()*2-1;o=m*m+n*n;}while(!o||o>1);return j+k*m*Math.sqrt(-2*Math.log(o)/o);};},logNormal:function i(){var j=h.normal.apply(c("d3/core/core"),arguments);return function(){return Math.exp(j());};},irwinHall:function i(j){return function(){for(var k=0,l=0;l<j;l++)k+=Math.random();return k/j;};}};f.exports=h;}),null);
__d("d3/core/selection-append",["d3/core/selection","d3/core/core","d3/core/ns"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype,i=c("d3\/core\/core")._document;h.append=function(j){j=c("d3/core/ns").qualify(j);function k(){return this.appendChild(i.createElementNS(this.namespaceURI,j));}function l(){return this.appendChild(i.createElementNS(j.space,j.local));}return this.select(j.local?l:k);};}),null);
__d("d3/core/selection-attr",["d3/core/selection","d3/core/ns"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype;h.attr=function(j,k){if(arguments.length<2){if(typeof j==="string"){var l=this.node();j=c("d3/core/ns").qualify(j);return j.local?l.getAttributeNS(j.space,j.local):l.getAttribute(j);}for(k in j)this.each(i(k,j[k]));return this;}return this.each(i(j,k));};function i(j,k){j=c("d3/core/ns").qualify(j);function l(){this.removeAttribute(j);}function m(){this.removeAttributeNS(j.space,j.local);}function n(){this.setAttribute(j,k);}function o(){this.setAttributeNS(j.space,j.local,k);}function p(){var r=k.apply(this,arguments);if(r==null){this.removeAttribute(j);}else this.setAttribute(j,r);}function q(){var r=k.apply(this,arguments);if(r==null){this.removeAttributeNS(j.space,j.local);}else this.setAttributeNS(j.space,j.local,r);}return k==null?j.local?m:l:typeof k==="function"?j.local?q:p:j.local?o:n;}}),null);
__d("d3/core/selection-call",["d3/core/selection","d3/core/array"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype,i=c("d3\/core\/array")._array;h.call=function(j){var k=i(arguments);j.apply(k[0]=this,k);return this;};}),null);
__d("d3/core/collapse",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){return i.trim().replace(/\s+/g," ");}g._collapse=h;}),null);
__d("d3/core/selection-classed",["d3/core/selection","d3/core/collapse","d3/core/requote"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype,i=c("d3\/core\/collapse")._collapse;h.classed=function(m,n){if(arguments.length<2){if(typeof m==="string"){var o=this.node(),p=(m=m.trim().split(/^|\s+/g)).length,q=-1;if(n=o.classList){while(++q<p)if(!n.contains(m[q]))return false;}else{n=o.className;if(n.baseVal!=null)n=n.baseVal;while(++q<p)if(!j(m[q]).test(n))return false;}return true;}for(n in m)this.each(k(n,m[n]));return this;}return this.each(k(m,n));};function j(m){return new RegExp("(?:^|\\s+)"+c("d3/core/requote")(m)+"(?:\\s+|$)","g");}function k(m,n){m=m.trim().split(/\s+/).map(l);var o=m.length;function p(){var r=-1;while(++r<o)m[r](this,n);}function q(){var r=-1,s=n.apply(this,arguments);while(++r<o)m[r](this,s);}return typeof n==="function"?q:p;}function l(m){var n=j(m);return function(o,p){if(q=o.classList)return p?q.add(m):q.remove(m);var q=o.className,r=q.baseVal!=null,s=r?q.baseVal:q;if(p){n.lastIndex=0;if(!n.test(s)){s=i(s+" "+m);if(r){q.baseVal=s;}else o.className=s;}}else if(s){s=i(s.replace(n," "));if(r){q.baseVal=s;}else o.className=s;}};}}),null);
__d("d3/core/selection-enter",["d3/core/array","d3/core/selection"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/array")._arraySubclass,i=c("d3\/core\/selection")._selectionPrototype;function j(m){h(m,k);return m;}var k=[],l=j;l.prototype=k;k.append=i.append;k.insert=i.insert;k.empty=i.empty;k.node=i.node;l._enterPrototype=k;l._enter=j;f.exports=l;}),null);
__d("d3/core/selection-data",["d3/core/selection","d3/core/map","d3/core/selection-enter"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/selection")._selectionPrototype,i=c("d3\/core\/map")._Map,j=c("d3/core/selection")._selection;h.data=function(l,m){var n=-1,o=this.length,p,q;if(!arguments.length){l=new Array(o=(p=this[0]).length);while(++n<o)if(q=p[n])l[n]=q.__data__;return l;}function r(v,w){var x,y=v.length,z=w.length,aa=Math.min(y,z),ba=new Array(z),ca=new Array(z),da=new Array(y),ea,fa;if(m){var ga=new i(),ha=new i(),ia=[],ja;for(x=-1;++x<y;){ja=m.call(ea=v[x],ea.__data__,x);if(ga.has(ja)){da[x]=ea;}else ga.set(ja,ea);ia.push(ja);}for(x=-1;++x<z;){ja=m.call(w,fa=w[x],x);if(ea=ga.get(ja)){ba[x]=ea;ea.__data__=fa;}else if(!ha.has(ja))ca[x]=k(fa);ha.set(ja,fa);ga.remove(ja);}for(x=-1;++x<y;)if(ga.has(ia[x]))da[x]=v[x];}else{for(x=-1;++x<aa;){ea=v[x];fa=w[x];if(ea){ea.__data__=fa;ba[x]=ea;}else ca[x]=k(fa);}for(;x<z;++x)ca[x]=k(w[x]);for(;x<y;++x)da[x]=v[x];}ca.update=ba;ca.parentNode=ba.parentNode=da.parentNode=v.parentNode;s.push(ca);t.push(ba);u.push(da);}var s=c("d3\/core\/selection-enter")._enter([]),t=j([]),u=j([]);if(typeof l==="function"){while(++n<o)r(p=this[n],l.call(p,p.parentNode.__data__,n));}else while(++n<o)r(p=this[n],l);t.enter=function(){return s;};t.exit=function(){return u;};return t;};function k(l){return {__data__:l};}}),null);
__d("d3/core/selection-datum",["d3/core/selection"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype;h.datum=function(i){return arguments.length?this.property("__data__",i):this.property("__data__");};}),null);
__d("d3/core/selection-empty",["d3/core/selection"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype;h.empty=function(){return !this.node();};}),null);
__d("d3/core/selection-enter-select",["d3/core/selection","d3/core/selection-enter"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selection;c("d3\/core\/selection-enter")._enterPrototype.select=function(i){var j=[],k,l,m,n,o;for(var p=-1,q=this.length;++p<q;){m=(n=this[p]).update;j.push(k=[]);k.parentNode=n.parentNode;for(var r=-1,s=n.length;++r<s;)if(o=n[r]){k.push(m[r]=l=i.call(n.parentNode,o.__data__,r));l.__data__=o.__data__;}else k.push(null);}return h(j);};}),null);
__d("d3/core/selection-html",["d3/core/selection"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype;h.html=function(i){return arguments.length?this.each(typeof i==="function"?function(){var j=i.apply(this,arguments);this.innerHTML=j==null?"":j;}:i==null?function(){this.innerHTML="";}:function(){this.innerHTML=i;}):this.node().innerHTML;};}),null);
__d("d3/core/selection-insert",["d3/core/selection","d3/core/core","d3/core/ns"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/selection")._selectionPrototype,i=c("d3\/core\/core")._document,j=c("d3/core/selection")._select;h.insert=function(k,l){k=c("d3/core/ns").qualify(k);function m(){return this.insertBefore(i.createElementNS(this.namespaceURI,k),j(l,this));}function n(){return this.insertBefore(i.createElementNS(k.space,k.local),j(l,this));}return this.select(k.local?n:m);};}),null);
__d("d3/core/selection-node",["d3/core/selection"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype;h.node=function(){for(var i=0,j=this.length;i<j;i++)for(var k=this[i],l=0,m=k.length;l<m;l++){var n=k[l];if(n)return n;}return null;};}),null);
__d("d3/core/selection-on",["d3/core/selection","d3/core/array","d3/core/core"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype,i=c("d3\/core\/array")._array;h.on=function(k,l,m){var n=arguments.length;if(n<3){if(typeof k!=="string"){if(n<2)l=false;for(m in k)this.each(j(m,k[m],l));return this;}if(n<2)return (n=this.node()["__on"+k])&&n._;m=false;}return this.each(j(k,l,m));};function j(k,l,m){var n="__on"+k,o=k.indexOf(".");if(o>0)k=k.substring(0,o);function p(){var r=this[n];if(r){this.removeEventListener(k,r,r.$);delete this[n];}}function q(){var r=this,s=i(arguments);p.call(this);this.addEventListener(k,this[n]=t,t.$=m);t._=l;function t(u){var v=c("d3/core/core").event;c("d3/core/core").event=u;s[0]=r.__data__;try{l.apply(r,s);}finally{c("d3/core/core").event=v;}}}return l?q:p;}}),null);
__d("d3/core/selection-order",["d3/core/selection"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype;h.order=function(){for(var i=-1,j=this.length;++i<j;)for(var k=this[i],l=k.length-1,m=k[l],n;--l>=0;)if(n=k[l]){if(m&&m!==n.nextSibling)m.parentNode.insertBefore(n,m);m=n;}return this;};}),null);
__d("d3/core/selection-property",["d3/core/selection"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype;h.property=function(j,k){if(arguments.length<2){if(typeof j==="string")return this.node()[j];for(k in j)this.each(i(k,j[k]));return this;}return this.each(i(j,k));};function i(j,k){function l(){delete this[j];}function m(){this[j]=k;}function n(){var o=k.apply(this,arguments);if(o==null){delete this[j];}else this[j]=o;}return k==null?l:typeof k==="function"?n:m;}}),null);
__d("d3/core/selection-remove",["d3/core/selection"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype;h.remove=function(){return this.each(function(){var i=this.parentNode;if(i)i.removeChild(this);});};}),null);
__d("d3/core/selection-sort",["d3/core/selection","d3/core/ascending"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype;h.sort=function(j){j=i.apply(this,arguments);for(var k=-1,l=this.length;++k<l;)this[k].sort(j);return this.order();};function i(j){if(!arguments.length)j=c("d3/core/ascending");return function(k,l){return !k-!l||j(k.__data__,l.__data__);};}}),null);
__d("d3/core/selection-style",["d3/core/selection","d3/core/core"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype,i=c("d3\/core\/core")._window;h.style=function(k,l,m){var n=arguments.length;if(n<3){if(typeof k!=="string"){if(n<2)l="";for(m in k)this.each(j(m,k[m],l));return this;}if(n<2)return i.getComputedStyle(this.node(),null).getPropertyValue(k);m="";}return this.each(j(k,l,m));};function j(k,l,m){function n(){this.style.removeProperty(k);}function o(){this.style.setProperty(k,l,m);}function p(){var q=l.apply(this,arguments);if(q==null){this.style.removeProperty(k);}else this.style.setProperty(k,q,m);}return l==null?n:typeof l==="function"?p:o;}}),null);
__d("d3/core/selection-text",["d3/core/selection"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype;h.text=function(i){return arguments.length?this.each(typeof i==="function"?function(){var j=i.apply(this,arguments);this.textContent=j==null?"":j;}:i==null?function(){this.textContent="";}:function(){this.textContent=i;}):this.node().textContent;};}),null);
__d("d3/core/timer",["d3/core/core"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._window,i=0,j={},k=null,l,m,n=function r(s,t,u){if(arguments.length<3){if(arguments.length<2){t=0;}else if(!isFinite(t))return;u=Date.now();}var v=j[s.id];if(v&&v.callback===s){v.then=u;v.delay=t;}else j[s.id=++i]=k={callback:s,then:u,delay:t,next:k};if(!l){m=clearTimeout(m);l=1;q(o);}};function o(){var r,s=Date.now(),t=k;while(t){r=s-t.then;if(r>=t.delay)t.flush=t.callback(r);t=t.next;}var u=p()-s;if(u>24){if(isFinite(u)){clearTimeout(m);m=setTimeout(o,u);}l=0;}else{l=1;q(o);}}n.flush=function(){var r,s=Date.now(),t=k;while(t){r=s-t.then;if(!t.delay)t.flush=t.callback(r);t=t.next;}p();};function p(){var r=null,s=k,t=Infinity;while(s)if(s.flush){delete j[s.callback.id];s=r?r.next=s.next:k=s.next;}else{t=Math.min(t,s.then+s.delay);s=(r=s).next;}return t;}var q=h.requestAnimationFrame||h.webkitRequestAnimationFrame||h.mozRequestAnimationFrame||h.oRequestAnimationFrame||h.msRequestAnimationFrame||function(r){setTimeout(r,17);};f.exports=n;}),null);
__d("d3/core/transition",["d3/core/array","d3/core/ease","d3/core/selection","d3/core/selection-root","d3/core/map","d3/core/dispatch","d3/core/timer"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/array")._arraySubclass,i=c("d3\/core\/ease")._cubicInOut,j=c("d3\/core\/selection")._selectionPrototype,k=c("d3\/core\/selection-root")._selectionRoot,l=c("d3\/core\/map")._Map;function m(t,u){h(t,n);t.id=u;return t;}var n=[],o=0,p,q={ease:i,delay:0,duration:250};n.call=j.call;n.empty=j.empty;n.node=j.node;var r=function t(u){return arguments.length?t._transitionInheritId?u.transition():u:k.transition();};r.prototype=n;function s(t,u,v,w){var x=t.__transition__||(t.__transition__={active:0,count:0}),y=x[v];if(!y){var z=w.time;y=x[v]={tween:new l(),event:c("d3/core/dispatch")("start","end"),time:z,ease:w.ease,delay:w.delay,duration:w.duration};++x.count;c("d3/core/timer")(function(aa){var ba=t.__data__,ca=y.ease,event=y.event,da=y.delay,ea=y.duration,fa=[];return da<=aa?ga(aa):c("d3/core/timer")(ga,da,z),1;function ga(ja){if(x.active>v)return ia();x.active=v;event.start.call(t,ba,u);y.tween.forEach(function(ka,la){if(la=la.call(t,ba,u))fa.push(la);});if(!ha(ja))c("d3/core/timer")(ha,0,z);return 1;}function ha(ja){if(x.active!==v)return ia();var ka=(ja-da)/ea,la=ca(ka),ma=fa.length;while(ma>0)fa[--ma].call(t,la);if(ka>=1){ia();event.end.call(t,ba,u);return 1;}}function ia(){if(--x.count){delete x[v];}else delete t.__transition__;return 1;}},0,z);return y;}}r._transitionPrototype=n;r._transitionId=o;r._transitionInheritId=p;r._transitionInherit=q;r._transition=m;r._transitionNode=s;f.exports=r;}),null);
__d("d3/core/selection-transition",["d3/core/transition","d3/core/selection"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype,i=c("d3/core/transition")._transitionNode,j=c("d3/core/transition")._transition;h.transition=function(){var k=c("d3/core/transition")._transitionInheritId||++c("d3/core/transition")._transitionId,l=[],m,n,o=Object.create(c("d3/core/transition")._transitionInherit);o.time=Date.now();for(var p=-1,q=this.length;++p<q;){l.push(m=[]);for(var r=this[p],s=-1,t=r.length;++s<t;){if(n=r[s])i(n,s,k,o);m.push(n);}}return j(l,k);};}),null);
__d("d3/core/shuffle",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function i(j){var k=j.length,l,m;while(k){m=Math.random()*k--|0;l=j[k],j[k]=j[m],j[m]=l;}return j;};f.exports=h;}),null);
__d("d3/core/sum",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function i(j,k){var l=0,m=j.length,n,o=-1;if(arguments.length===1){while(++o<m)if(!isNaN(n=+j[o]))l+=n;}else while(++o<m)if(!isNaN(n=+k.call(j,j[o],o)))l+=n;return l;};f.exports=h;}),null);
__d("d3/core/text",["d3/core/xhr","d3/core/core"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function j(){return c("d3/core/xhr").apply(c("d3/core/core"),arguments).response(i);};function i(j){return j.responseText;}f.exports=h;}),null);
__d("d3/core/selection-each",["d3/core/selection"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype;h.each=function(j){return i(this,function(k,l,m){j.call(k,k.__data__,l,m);});};function i(j,k){for(var l=0,m=j.length;l<m;l++)for(var n=j[l],o=0,p=n.length,q;o<p;o++)if(q=n[o])k(q,o,l);return j;}g._each=i;}),null);
__d("d3/core/transition-tween",["d3/core/transition","d3/core/selection-each"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/transition")._transitionPrototype,i=c("d3\/core\/selection-each")._each;h.tween=function(k,l){var m=this.id;if(arguments.length<2)return this.node().__transition__[m].tween.get(k);return i(this,l==null?function(n){n.__transition__[m].tween.remove(k);}:function(n){n.__transition__[m].tween.set(k,l);});};function j(k,l,m,n){var o=k.id;return i(k,typeof m==="function"?function(p,q,r){p.__transition__[o].tween.set(l,n(m.call(p,p.__data__,q,r)));}:(m=n(m),function(p){p.__transition__[o].tween.set(l,m);}));}g._tween=j;}),null);
__d("d3/core/transition-attr",["d3/core/transition","d3/core/interpolate","d3/core/ns","d3/core/transition-tween"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/transition")._transitionPrototype,i=c("d3\/core\/interpolate")._interpolateByName;h.attr=function(j,k){if(arguments.length<2){for(k in j)this.attr(k,j[k]);return this;}var l=i(j),m=c("d3/core/ns").qualify(j);function n(){this.removeAttribute(m);}function o(){this.removeAttributeNS(m.space,m.local);}return c("d3\/core\/transition-tween")._tween(this,"attr."+j,k,function(p){function q(){var s=this.getAttribute(m),t;return s!==p&&(t=l(s,p),function(u){this.setAttribute(m,t(u));});}function r(){var s=this.getAttributeNS(m.space,m.local),t;return s!==p&&(t=l(s,p),function(u){this.setAttributeNS(m.space,m.local,t(u));});}return p==null?m.local?o:n:(p+="",m.local?r:q);});};h.attrTween=function(j,k){var l=c("d3/core/ns").qualify(j);function m(o,p){var q=k.call(this,o,p,this.getAttribute(l));return q&&function(r){this.setAttribute(l,q(r));};}function n(o,p){var q=k.call(this,o,p,this.getAttributeNS(l.space,l.local));return q&&function(r){this.setAttributeNS(l.space,l.local,q(r));};}return this.tween("attr."+j,l.local?n:m);};}),null);
__d("d3/core/transition-delay",["d3/core/transition","d3/core/selection-each"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/transition")._transitionPrototype,i=c("d3\/core\/selection-each")._each;h.delay=function(j){var k=this.id;return i(this,typeof j==="function"?function(l,m,n){l.__transition__[k].delay=j.call(l,l.__data__,m,n)|0;}:(j|=0,function(l){l.__transition__[k].delay=j;}));};}),null);
__d("d3/core/transition-duration",["d3/core/transition","d3/core/selection-each"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/transition")._transitionPrototype,i=c("d3\/core\/selection-each")._each;h.duration=function(j){var k=this.id;return i(this,typeof j==="function"?function(l,m,n){l.__transition__[k].duration=Math.max(1,j.call(l,l.__data__,m,n)|0);}:(j=Math.max(1,j|0),function(l){l.__transition__[k].duration=j;}));};}),null);
__d("d3/core/transition-each",["d3/core/transition","d3/core/selection-each"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/transition")._transitionPrototype,i=c("d3\/core\/selection-each")._each;h.each=function(j,k){var l=this.id;if(arguments.length<2){var m=c("d3/core/transition")._transitionInherit,n=c("d3/core/transition")._transitionInheritId;c("d3/core/transition")._transitionInheritId=l;i(this,function(o,p,q){c("d3/core/transition")._transitionInherit=o.__transition__[l];j.call(o,o.__data__,p,q);});c("d3/core/transition")._transitionInherit=m;c("d3/core/transition")._transitionInheritId=n;}else i(this,function(o){o.__transition__[l].event.on(j,k);});return this;};}),null);
__d("d3/core/transition-ease",["d3/core/transition","d3/core/selection-each","d3/core/ease","d3/core/core"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/transition")._transitionPrototype,i=c("d3\/core\/selection-each")._each;h.ease=function(j){var k=this.id;if(arguments.length<1)return this.node().__transition__[k].ease;if(typeof j!=="function")j=c("d3/core/ease").apply(c("d3/core/core"),arguments);return i(this,function(l){l.__transition__[k].ease=j;});};}),null);
__d("d3/core/selection-filter",["d3/core/selection"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/selection")._selectionPrototype,i=c("d3/core/selection")._selection,j=c("d3/core/selection")._selectMatches;h.filter=function(l){var m=[],n,o,p;if(typeof l!=="function")l=k(l);for(var q=0,r=this.length;q<r;q++){m.push(n=[]);n.parentNode=(o=this[q]).parentNode;for(var s=0,t=o.length;s<t;s++)if((p=o[s])&&l.call(p,p.__data__,s))n.push(p);}return i(m);};function k(l){return function(){return j(this,l);};}g._filter=k;}),null);
__d("d3/core/transition-filter",["d3/core/transition","d3/core/selection-filter"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/transition")._transitionPrototype,i=c("d3\/core\/selection-filter")._filter,j=c("d3/core/transition")._transition;h.filter=function(k){var l=[],m,n,o;if(typeof k!=="function")k=i(k);for(var p=0,q=this.length;p<q;p++){l.push(m=[]);for(var n=this[p],r=0,s=n.length;r<s;r++)if((o=n[r])&&k.call(o,o.__data__,r))m.push(o);}return j(l,this.id,this.time).ease(this.ease());};}),null);
__d("d3/core/transition-remove",["d3/core/transition"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/transition")._transitionPrototype;h.remove=function(){return this.each("end.transition",function(){var i;if(!this.__transition__&&(i=this.parentNode))i.removeChild(this);});};}),null);
__d("d3/core/selection-select",["d3/core/selection"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/selection")._selectionPrototype,i=c("d3/core/selection")._selection,j=c("d3/core/selection")._select;h.select=function(l){var m=[],n,o,p,q;if(typeof l!=="function")l=k(l);for(var r=-1,s=this.length;++r<s;){m.push(n=[]);n.parentNode=(p=this[r]).parentNode;for(var t=-1,u=p.length;++t<u;)if(q=p[t]){n.push(o=l.call(q,q.__data__,t));if(o&&"__data__" in q)o.__data__=q.__data__;}else n.push(null);}return i(m);};function k(l){return function(){return j(l,this);};}g._selector=k;}),null);
__d("d3/core/transition-select",["d3/core/transition","d3/core/selection-select"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/transition")._transitionPrototype,i=c("d3\/core\/selection-select")._selector,j=c("d3/core/transition")._transitionNode,k=c("d3/core/transition")._transition;h.select=function(l){var m=this.id,n=[],o,p,q;if(typeof l!=="function")l=i(l);for(var r=-1,s=this.length;++r<s;){n.push(o=[]);for(var t=this[r],u=-1,v=t.length;++u<v;)if((q=t[u])&&(p=l.call(q,q.__data__,u))){if("__data__" in q)p.__data__=q.__data__;j(p,u,m,q.__transition__[m]);o.push(p);}else o.push(null);}return k(n,m);};}),null);
__d("d3/core/selection-selectAll",["d3/core/selection","d3/core/array"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/selection")._selectionPrototype,i=c("d3\/core\/array")._array,j=c("d3/core/selection")._selection,k=c("d3/core/selection")._selectAll;h.selectAll=function(m){var n=[],o,p;if(typeof m!=="function")m=l(m);for(var q=-1,r=this.length;++q<r;)for(var s=this[q],t=-1,u=s.length;++t<u;)if(p=s[t]){n.push(o=i(m.call(p,p.__data__,t)));o.parentNode=p;}return j(n);};function l(m){return function(){return k(m,this);};}g._selectorAll=l;}),null);
__d("d3/core/transition-selectAll",["d3/core/transition","d3/core/selection-selectAll"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/transition")._transitionPrototype,i=c("d3\/core\/selection-selectAll")._selectorAll,j=c("d3/core/transition")._transitionNode,k=c("d3/core/transition")._transition;h.selectAll=function(l){var m=this.id,n=[],o,p,q,r,s;if(typeof l!=="function")l=i(l);for(var t=-1,u=this.length;++t<u;)for(var v=this[t],w=-1,x=v.length;++w<x;)if(q=v[w]){s=q.__transition__[m];p=l.call(q,q.__data__,w);n.push(o=[]);for(var y=-1,z=p.length;++y<z;){j(r=p[y],y,m,s);o.push(r);}}return k(n,m);};}),null);
__d("d3/core/transition-style",["d3/core/transition","d3/core/interpolate","d3/core/core","d3/core/transition-tween"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/transition")._transitionPrototype,i=c("d3\/core\/interpolate")._interpolateByName,j=c("d3\/core\/core")._window;h.style=function(k,l,m){var n=arguments.length;if(n<3){if(typeof k!=="string"){if(n<2)l="";for(m in k)this.style(m,k[m],l);return this;}m="";}var o=i(k);function p(){this.style.removeProperty(k);}return c("d3\/core\/transition-tween")._tween(this,"style."+k,l,function(q){function r(){var s=j.getComputedStyle(this,null).getPropertyValue(k),t;return s!==q&&(t=o(s,q),function(u){this.style.setProperty(k,t(u),m);});}return q==null?p:(q+="",r);});};h.styleTween=function(k,l,m){if(arguments.length<3)m="";return this.tween("style."+k,function(n,o){var p=l.call(this,n,o,j.getComputedStyle(this,null).getPropertyValue(k));return p&&function(q){this.style.setProperty(k,p(q),m);};});};}),null);
__d("d3/core/transition-text",["d3/core/transition","d3/core/transition-tween"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/transition")._transitionPrototype;h.text=function(j){return c("d3\/core\/transition-tween")._tween(this,"text",j,i);};function i(j){if(j==null)j="";return function(){this.textContent=j;};}}),null);
__d("d3/core/transition-transition",["d3/core/transition"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/transition")._transitionPrototype,i=c("d3/core/transition")._transitionNode,j=c("d3/core/transition")._transition;h.transition=function(){var k=this.id,l=++c("d3/core/transition")._transitionId,m=[],n,o,p,q;for(var r=0,s=this.length;r<s;r++){m.push(n=[]);for(var o=this[r],t=0,u=o.length;t<u;t++){if(p=o[t]){q=Object.create(p.__transition__[k]);q.delay+=q.duration;i(p,t,l,q);}n.push(p);}}return j(m,l);};}),null);
__d("d3/core/zip",["d3/core/min"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function j(){if(!(o=arguments.length))return [];for(var k=-1,l=c("d3/core/min")(arguments,i),m=new Array(l);++k<l;)for(var n=-1,o,p=m[k]=new Array(o);++n<o;)p[n]=arguments[n][k];return m;};function i(j){return j.length;}f.exports=h;}),null);
__d("d3/core/transpose",["d3/core/zip","d3/core/core"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function i(j){return c("d3/core/zip").apply(c("d3/core/core"),j);};f.exports=h;}),null);
__d("d3/core/values",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function i(j){var k=[];for(var l in j)if(j.hasOwnProperty(l))k.push(j[l]);return k;};f.exports=h;}),null);
__d("d3/core/xml",["d3/core/xhr","d3/core/core"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function j(){return c("d3/core/xhr").apply(c("d3/core/core"),arguments).response(i);};function i(j){return j.responseXML;}f.exports=h;}),null);
__d("d3/d3.core",["d3/compat/date","d3/compat/style","d3/core/selection-attr","d3/core/selection-classed","d3/core/selection-style","d3/core/selection-property","d3/core/selection-text","d3/core/selection-html","d3/core/selection-append","d3/core/selection-insert","d3/core/selection-remove","d3/core/selection-data","d3/core/selection-datum","d3/core/selection-order","d3/core/selection-sort","d3/core/selection-on","d3/core/selection-call","d3/core/selection-empty","d3/core/selection-node","d3/core/selection-transition","d3/core/selection-enter-select","d3/core/transition-select","d3/core/transition-selectAll","d3/core/transition-filter","d3/core/transition-attr","d3/core/transition-style","d3/core/transition-text","d3/core/transition-remove","d3/core/transition-ease","d3/core/transition-delay","d3/core/transition-duration","d3/core/transition-each","d3/core/transition-transition","d3/core/core","d3/core/map","d3/core/functor","d3/core/rebind","d3/core/ascending","d3/core/descending","d3/core/mean","d3/core/median","d3/core/min","d3/core/max","d3/core/extent","d3/core/random","d3/core/sum","d3/core/quantile","d3/core/shuffle","d3/core/transpose","d3/core/zip","d3/core/bisect","d3/core/nest","d3/core/keys","d3/core/values","d3/core/entries","d3/core/permute","d3/core/merge","d3/core/range","d3/core/requote","d3/core/round","d3/core/xhr","d3/core/text","d3/core/json","d3/core/html","d3/core/xml","d3/core/ns","d3/core/dispatch","d3/core/format","d3/core/formatPrefix","d3/core/ease","d3/core/transform","d3/core/interpolate","d3/core/rgb","d3/core/hsl","d3/core/hcl","d3/core/lab","d3/core/selection","d3/core/selection-root","d3/core/selection-enter","d3/core/transition","d3/core/timer","d3/core/mouse","d3/core/touches"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c("d3\/compat\/date");c("d3\/compat\/style");c("d3\/core\/selection-attr");c("d3\/core\/selection-classed");c("d3\/core\/selection-style");c("d3\/core\/selection-property");c("d3\/core\/selection-text");c("d3\/core\/selection-html");c("d3\/core\/selection-append");c("d3\/core\/selection-insert");c("d3\/core\/selection-remove");c("d3\/core\/selection-data");c("d3\/core\/selection-datum");c("d3\/core\/selection-order");c("d3\/core\/selection-sort");c("d3\/core\/selection-on");c("d3\/core\/selection-call");c("d3\/core\/selection-empty");c("d3\/core\/selection-node");c("d3\/core\/selection-transition");c("d3\/core\/selection-enter-select");c("d3\/core\/transition-select");c("d3\/core\/transition-selectAll");c("d3\/core\/transition-filter");c("d3\/core\/transition-attr");c("d3\/core\/transition-style");c("d3\/core\/transition-text");c("d3\/core\/transition-remove");c("d3\/core\/transition-ease");c("d3\/core\/transition-delay");c("d3\/core\/transition-duration");c("d3\/core\/transition-each");c("d3\/core\/transition-transition");c("d3/core/core").map=c("d3\/core\/map");c("d3/core/core").functor=c("d3\/core\/functor");c("d3/core/core").rebind=c("d3\/core\/rebind");c("d3/core/core").ascending=c("d3\/core\/ascending");c("d3/core/core").descending=c("d3\/core\/descending");c("d3/core/core").mean=c("d3\/core\/mean");c("d3/core/core").median=c("d3\/core\/median");c("d3/core/core").min=c("d3\/core\/min");c("d3/core/core").max=c("d3\/core\/max");c("d3/core/core").extent=c("d3\/core\/extent");c("d3/core/core").random=c("d3\/core\/random");c("d3/core/core").sum=c("d3\/core\/sum");c("d3/core/core").quantile=c("d3\/core\/quantile");c("d3/core/core").shuffle=c("d3\/core\/shuffle");c("d3/core/core").transpose=c("d3\/core\/transpose");c("d3/core/core").zip=c("d3\/core\/zip");c("d3/core/core").bisect=c("d3\/core\/bisect");c("d3/core/core").bisector=c("d3\/core\/bisect").or;c("d3/core/core").bisectLeft=c("d3\/core\/bisect").left;c("d3/core/core").bisectRight=c("d3\/core\/bisect").right;c("d3/core/core").nest=c("d3\/core\/nest");c("d3/core/core").keys=c("d3\/core\/keys");c("d3/core/core").values=c("d3\/core\/values");c("d3/core/core").entries=c("d3\/core\/entries");c("d3/core/core").permute=c("d3\/core\/permute");c("d3/core/core").merge=c("d3\/core\/merge");c("d3/core/core").range=c("d3\/core\/range");c("d3/core/core").requote=c("d3\/core\/requote");c("d3/core/core").round=c("d3\/core\/round");c("d3/core/core").xhr=c("d3\/core\/xhr");c("d3/core/core").text=c("d3\/core\/text");c("d3/core/core").json=c("d3\/core\/json");c("d3/core/core").html=c("d3\/core\/html");c("d3/core/core").xml=c("d3\/core\/xml");c("d3/core/core").ns=c("d3\/core\/ns");c("d3/core/core").dispatch=c("d3\/core\/dispatch");c("d3/core/core").format=c("d3\/core\/format");c("d3/core/core").formatPrefix=c("d3\/core\/formatPrefix");c("d3/core/core").ease=c("d3\/core\/ease");c("d3/core/core").transform=c("d3\/core\/transform");c("d3/core/core").interpolate=c("d3\/core\/interpolate");c("d3/core/core").interpolators=c("d3\/core\/interpolate").interpolators;c("d3/core/core").interpolateRgb=c("d3\/core\/interpolate").rgb;c("d3/core/core").interpolateLab=c("d3\/core\/interpolate").lab;c("d3/core/core").interpolateHcl=c("d3\/core\/interpolate").hcl;c("d3/core/core").interpolateHsl=c("d3\/core\/interpolate").hsl;c("d3/core/core").interpolateRound=c("d3\/core\/interpolate").round;c("d3/core/core").interpolateArray=c("d3\/core\/interpolate").array;c("d3/core/core").interpolateString=c("d3\/core\/interpolate").string;c("d3/core/core").interpolateNumber=c("d3\/core\/interpolate").number;c("d3/core/core").interpolateObject=c("d3\/core\/interpolate").object;c("d3/core/core").interpolateTransform=c("d3\/core\/interpolate").transform;c("d3/core/core").rgb=c("d3\/core\/rgb");c("d3/core/core").hsl=c("d3\/core\/hsl");c("d3/core/core").hcl=c("d3\/core\/hcl");c("d3/core/core").lab=c("d3\/core\/lab");c("d3/core/core").selection=c("d3\/core\/selection");c("d3/core/core").select=c("d3\/core\/selection-root");c("d3/core/core").selectAll=c("d3\/core\/selection-root").all;c("d3/core/core").selection.enter=c("d3\/core\/selection-enter");c("d3/core/core").transition=c("d3\/core\/transition");c("d3/core/core").timer=c("d3\/core\/timer");c("d3/core/core").mouse=c("d3\/core\/mouse");c("d3/core/core").touches=c("d3\/core\/touches");f.exports=c("d3/core/core");}),null);
__d("d3/dsv/dsv",["d3/core/xhr"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=new RegExp("[\""+i+"\n]"),l=i.charCodeAt(0);function m(q,r){return c("d3/core/xhr")(q,j,r).response(n);}function n(q){return m.parse(q.responseText);}m.parse=function(q){var r;return m.parseRows(q,function(s){if(r)return r(s);r=new Function("d","return {"+s.map(function(t,u){return JSON.stringify(t)+": d["+u+"]";}).join(",")+"}");});};m.parseRows=function(q,r){var s={},t={},u=[],v=q.length,w=0,x=0,y,z;function aa(){if(w>=v)return t;if(z)return z=false,s;var ca=w;if(q.charCodeAt(ca)===34){var da=ca;while(da++<v)if(q.charCodeAt(da)===34){if(q.charCodeAt(da+1)!==34)break;++da;}w=da+2;var ea=q.charCodeAt(da+1);if(ea===13){z=true;if(q.charCodeAt(da+2)===10)++w;}else if(ea===10)z=true;return q.substring(ca+1,da).replace(/""/g,"\"");}while(w<v){var ea=q.charCodeAt(w++),fa=1;if(ea===10){z=true;}else if(ea===13){z=true;if(q.charCodeAt(w)===10)++w,++fa;}else if(ea!==l)continue;return q.substring(ca,w-fa);}return q.substring(ca);}while((y=aa())!==t){var ba=[];while(y!==s&&y!==t){ba.push(y);y=aa();}if(r&&!(ba=r(ba,x++)))continue;u.push(ba);}return u;};m.format=function(q){return q.map(o).join("\n");};function o(q){return q.map(p).join(i);}function p(q){return k.test(q)?"\""+q.replace(/\"/g,"\"\"")+"\"":q;}return m;}g._dsv=h;}),null);
__d("d3/dsv/csv",["d3/dsv/dsv"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/dsv\/dsv")._dsv,i=h(",","text/csv");f.exports=i;}),null);
__d("d3/dsv/tsv",["d3/dsv/dsv"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/dsv\/dsv")._dsv,i=h("\t","text/tab-separated-values");f.exports=i;}),null);
__d("d3/d3.dsv",["d3/core/core","d3/dsv/csv","d3/dsv/tsv"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c("d3/core/core").csv=c("d3\/dsv\/csv");c("d3/core/core").tsv=c("d3\/dsv\/tsv");f.exports=c("d3/core/core");}),null);
__d("d3/geo/cartesian",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(n){var o=n[0],p=n[1],q=Math.cos(p);return [q*Math.cos(o),q*Math.sin(o),Math.sin(p)];}function i(n,o){return n[0]*o[0]+n[1]*o[1]+n[2]*o[2];}function j(n,o){return [n[1]*o[2]-n[2]*o[1],n[2]*o[0]-n[0]*o[2],n[0]*o[1]-n[1]*o[0]];}function k(n,o){n[0]+=o[0];n[1]+=o[1];n[2]+=o[2];}function l(n,o){return [n[0]*o,n[1]*o,n[2]*o];}function m(n){var o=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=o;n[1]/=o;n[2]/=o;}g._cartesian=h;g._cartesianDot=i;g._cartesianCross=j;g._cartesianAdd=k;g._cartesianScale=l;g._cartesianNormalize=m;}),null);
__d("d3/geo/spherical",["d3/core/core"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._u03b5;function i(k){return [Math.atan2(k[1],k[0]),Math.asin(Math.max(-1,Math.min(1,k[2])))];}function j(k,l){return Math.abs(k[0]-l[0])<h&&Math.abs(k[1]-l[1])<h;}g._spherical=i;g._sphericalEqual=j;}),null);
__d("d3/geo/circle",["d3/core/core","d3/geo/cartesian","d3/geo/spherical","d3/geo/rotation"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/core")._radians,i=c("d3/core/core")._degrees,j=c("d3/core/core")._u03c0,k=c("d3\/geo\/spherical")._spherical,l=c("d3/geo/cartesian")._cartesian,m=c("d3/geo/cartesian")._cartesianNormalize,n=c("d3/core/core")._u03b5,o=function r(){var s=[0,0],t,u=6,v;function w(){var x=typeof s==="function"?s.apply(this,arguments):s,y=c("d3\/geo\/rotation")._rotation(-x[0]*h,-x[1]*h,0).invert,z=[];v(null,null,1,{point:function aa(ba,ca){z.push(ba=y(ba,ca));ba[0]*=i,ba[1]*=i;}});return {type:"Polygon",coordinates:[z]};}w.origin=function(x){if(!arguments.length)return s;s=x;return w;};w.angle=function(x){if(!arguments.length)return t;v=p((t=+x)*h,u*h);return w;};w.precision=function(x){if(!arguments.length)return u;v=p(t*h,(u=+x)*h);return w;};return w.angle(90);};function p(r,s){var t=Math.cos(r),u=Math.sin(r);return function(v,w,x,y){if(v!=null){v=q(t,v);w=q(t,w);if(x>0?v<w:v>w)v+=x*2*j;}else{v=r+x*2*j;w=r;}var z;for(var aa=x*s,ba=v;x>0?ba>w:ba<w;ba-=aa)y.point((z=k([t,-u*Math.cos(ba),-u*Math.sin(ba)]))[0],z[1]);};}function q(r,s){var t=l(s);t[0]-=r;m(t);var u=Math.acos(Math.max(-1,Math.min(1,-t[1])));return ((-t[2]<0?-u:u)+2*Math.PI-n)%(2*Math.PI);}o._circleInterpolate=p;f.exports=o;}),null);
__d("d3/core/noop",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){}g._noop=h;}),null);
__d("d3/geo/clip",["d3/core/core","d3/core/noop","d3/core/merge"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/core")._u03b5,i=c("d3/core/core")._u03c0,j=c("d3\/core\/noop")._noop;function k(r,s,t){return function(u){var v=s(u),w={point:x,lineStart:z,lineEnd:aa,polygonStart:function la(){w.point=ia;w.lineStart=ja;w.lineEnd=ka;ea=false;da=ca=0;ba=[];u.polygonStart();},polygonEnd:function la(){w.point=x;w.lineStart=z;w.lineEnd=aa;ba=c("d3/core/merge")(ba);if(ba.length){l(ba,t,u);}else if(ca<-h||ea&&da<-h){u.lineStart();t(null,null,1,u);u.lineEnd();}u.polygonEnd();ba=null;},sphere:function la(){u.polygonStart();u.lineStart();t(null,null,1,u);u.lineEnd();u.polygonEnd();}};function x(la,ma){if(r(la,ma))u.point(la,ma);}function y(la,ma){v.point(la,ma);}function z(){w.point=y;v.lineStart();}function aa(){w.point=x;v.lineEnd();}var ba,ca,da,ea,fa=p(),ga=s(fa),ha;function ia(la,ma){ga.point(la,ma);ha.push([la,ma]);}function ja(){ga.lineStart();ha=[];}function ka(){ia(ha[0][0],ha[0][1]);ga.lineEnd();var la=ga.clean(),ma=fa.buffer(),na,oa=ma.length;if(!oa){ea=true;da+=q(ha,-1);ha=null;return;}ha=null;if(la&1){na=ma[0];ca+=q(na,1);var oa=na.length-1,pa=-1,qa;u.lineStart();while(++pa<oa)u.point((qa=na[pa])[0],qa[1]);u.lineEnd();return;}if(oa>1&&la&2)ma.push(ma.pop().concat(ma.shift()));ba.push(ma.filter(o));}return w;};}function l(r,s,t){var u=[],v=[];r.forEach(function(ba){var ca=ba.length;if(ca<=1)return;var da=ba[0],ea=ba[ca-1],fa={point:da,points:ba,other:null,visited:false,entry:true,subject:true},ga={point:da,points:[da],other:fa,visited:false,entry:false,subject:false};fa.other=ga;u.push(fa);v.push(ga);fa={point:ea,points:[ea],other:null,visited:false,entry:false,subject:true};ga={point:ea,points:[ea],other:fa,visited:false,entry:true,subject:false};fa.other=ga;u.push(fa);v.push(ga);});v.sort(n);m(u);m(v);if(!u.length)return;var w=u[0],x,y,z;while(1){x=w;while(x.visited)if((x=x.next)===w)return;y=x.points;t.lineStart();do{x.visited=x.other.visited=true;if(x.entry){if(x.subject){for(var aa=0;aa<y.length;aa++)t.point((z=y[aa])[0],z[1]);}else s(x.point,x.next.point,1,t);x=x.next;}else{if(x.subject){y=x.prev.points;for(var aa=y.length;--aa>=0;)t.point((z=y[aa])[0],z[1]);}else s(x.point,x.prev.point,-1,t);x=x.prev;}x=x.other;y=x.points;}while(!x.visited);t.lineEnd();}}function m(r){if(!(s=r.length))return;var s,t=0,u=r[0],v;while(++t<s){u.next=v=r[t];v.prev=u;u=v;}u.next=v=r[0];v.prev=u;}function n(r,s){return ((r=r.point)[0]<0?r[1]-i/2-h:i/2-r[1])-((s=s.point)[0]<0?s[1]-i/2-h:i/2-s[1]);}function o(r){return r.length>1;}function p(){var r=[],s;return {lineStart:function t(){r.push(s=[]);},point:function t(u,v){s.push([u,v]);},lineEnd:j,buffer:function t(){var t=r;r=[];s=null;return t;}};}function q(r,s){if(!(t=r.length))return 0;var t,u=0,v=0,w=r[0],x=w[0],y=w[1],z=Math.cos(y),aa=Math.atan2(s*Math.sin(x)*z,Math.sin(y)),ba=1-s*Math.cos(x)*z,ca=aa,da,ea;while(++u<t){w=r[u];z=Math.cos(y=w[1]);da=Math.atan2(s*Math.sin(x=w[0])*z,Math.sin(y));ea=1-s*Math.cos(x)*z;if(Math.abs(ba-2)<h&&Math.abs(ea-2)<h)continue;if(!(Math.abs(ea)<h||Math.abs(ba)<h))if(Math.abs(Math.abs(da-aa)-i)<h){if(ea+ba>2)v+=4*(da-aa);}else if(Math.abs(ba-2)<h){v+=4*(da-ca);}else v+=((3*i+da-aa)%(2*i)-i)*(ba+ea);ca=aa,aa=da,ba=ea;}return v;}g._clip=k;}),null);
__d("d3/geo/clip-circle",["d3/core/core","d3/geo/spherical","d3/geo/cartesian","d3/geo/clip","d3/geo/circle"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/core")._radians,i=c("d3\/geo\/clip")._clip,j=c("d3/geo/spherical")._sphericalEqual,k=c("d3/core/core")._u03b5,l=c("d3/geo/cartesian")._cartesian,m=c("d3/geo/cartesian")._cartesianCross,n=c("d3/geo/cartesian")._cartesianDot,o=c("d3/geo/cartesian")._cartesianScale,p=c("d3/geo/cartesian")._cartesianAdd,q=c("d3/geo/spherical")._spherical;function r(s){var t=s*h,u=Math.cos(t),v=c("d3\/geo\/circle")._circleInterpolate(t,6*h);return i(w,x,v);function w(z,aa){return Math.cos(z)*Math.cos(aa)>u;}function x(z){var aa,ba,ca,da;return {lineStart:function ea(){ca=ba=false;da=1;},point:function ea(fa,ga){var ha=[fa,ga],ia,ja=w(fa,ga);if(!aa&&(ca=ba=ja))z.lineStart();if(ja!==ba){ia=y(aa,ha);if(j(aa,ia)||j(ha,ia)){ha[0]+=k;ha[1]+=k;ja=w(ha[0],ha[1]);}}if(ja!==ba){da=0;if(ba=ja){z.lineStart();ia=y(ha,aa);z.point(ia[0],ia[1]);}else{ia=y(aa,ha);z.point(ia[0],ia[1]);z.lineEnd();}aa=ia;}if(ja&&(!aa||!j(aa,ha)))z.point(ha[0],ha[1]);aa=ha;},lineEnd:function ea(){if(ba)z.lineEnd();aa=null;},clean:function ea(){return da|(ca&&ba)<<1;}};}function y(z,aa){var ba=l(z,0),ca=l(aa,0),da=[1,0,0],ea=m(ba,ca),fa=n(ea,ea),ga=ea[0],ha=fa-ga*ga;if(!ha)return z;var ia=u*fa/ha,ja=-u*ga/ha,ka=m(da,ea),la=o(da,ia),ma=o(ea,ja);p(la,ma);var na=ka,oa=n(la,na),pa=n(na,na),qa=Math.sqrt(oa*oa-pa*(n(la,la)-1)),ra=o(na,(-oa-qa)/pa);p(ra,la);return q(ra);}}g._clipCircle=r;}),null);
__d("d3/geo/equirectangular",["d3/core/core","d3/geo/projection"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._u03c0,i;function j(k,l){return [k,l];}(i=function k(){return c("d3\/geo\/projection")._projection(j).scale(250/h);}).raw=j.invert=j;i._equirectangular=j;f.exports=i;}),null);
__d("d3/core/true",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){return true;}g._true=h;}),null);
__d("d3/geo/clip-antimeridian",["d3/core/core","d3/geo/clip","d3/core/true"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/geo\/clip")._clip,i=c("d3\/core\/true")._true,j=c("d3/core/core")._u03c0,k=c("d3/core/core")._u03b5,l=h(i,m,o);function m(p){var q=NaN,r=NaN,s=NaN,t;return {lineStart:function u(){p.lineStart();t=1;},point:function u(v,w){var x=v>0?j:-j,y=Math.abs(v-q);if(Math.abs(y-j)<k){p.point(q,r=(r+w)/2>0?j/2:-j/2);p.point(s,r);p.lineEnd();p.lineStart();p.point(x,r);p.point(v,r);t=0;}else if(s!==x&&y>=j){if(Math.abs(q-s)<k)q-=s*k;if(Math.abs(v-x)<k)v-=x*k;r=n(q,r,v,w);p.point(s,r);p.lineEnd();p.lineStart();p.point(x,r);t=0;}p.point(q=v,r=w);s=x;},lineEnd:function u(){p.lineEnd();q=r=NaN;},clean:function u(){return 2-t;}};}function n(p,q,r,s){var t,u,v=Math.sin(p-r);return Math.abs(v)>k?Math.atan((Math.sin(q)*(u=Math.cos(s))*Math.sin(r)-Math.sin(s)*(t=Math.cos(q))*Math.sin(p))/(t*u*v)):(q+s)/2;}function o(p,q,r,s){var t;if(p==null){t=r*j/2;s.point(-j,t);s.point(0,t);s.point(j,t);s.point(j,0);s.point(j,-t);s.point(0,-t);s.point(-j,-t);s.point(-j,0);s.point(-j,t);}else if(Math.abs(p[0]-q[0])>k){var u=(p[0]<q[0]?1:-1)*j;t=r*u/2;s.point(-u,t);s.point(0,t);s.point(u,t);}else s.point(q[0],q[1]);}g._clipAntimeridian=l;}),null);
__d("d3/geo/compose",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){function k(l,m){return l=i(l,m),j(l[0],l[1]);}if(i.invert&&j.invert)k.invert=function(l,m){return l=j.invert(l,m),l&&i.invert(l[0],l[1]);};return k;}g._compose=h;}),null);
__d("d3/geo/resample",["d3/geo/cartesian","d3/core/core"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/geo\/cartesian")._cartesian,i=c("d3\/core\/core")._u03b5;function j(k){var l=.5,m=16;function n(p){var q,r,s,t,u,v,w={point:x,lineStart:y,lineEnd:aa,polygonStart:function ca(){p.polygonStart();w.lineStart=ba;},polygonEnd:function ca(){p.polygonEnd();w.lineStart=y;}};function x(ca,da){ca=k(ca,da);p.point(ca[0],ca[1]);}function y(){r=NaN;w.point=z;p.lineStart();}function z(ca,da){var ea=h([ca,da]),fa=k(ca,da);o(r,s,q,t,u,v,r=fa[0],s=fa[1],q=ca,t=ea[0],u=ea[1],v=ea[2],m,p);p.point(r,s);}function aa(){w.point=x;p.lineEnd();}function ba(){var ca,da,ea,fa,ga,ha,ia;y();w.point=function(ja,ka){z(ca=ja,da=ka),ea=r,fa=s,ga=t,ha=u,ia=v;w.point=z;};w.lineEnd=function(){o(r,s,q,t,u,v,ea,fa,ca,ga,ha,ia,m,p);w.lineEnd=aa;aa();};}return w;}function o(p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){var da=v-p,ea=w-q,fa=da*da+ea*ea;if(fa>4*l&&ba--){var ga=s+y,ha=t+z,ia=u+aa,ja=Math.sqrt(ga*ga+ha*ha+ia*ia),ka=Math.asin(ia/=ja),la=Math.abs(Math.abs(ia)-1)<i?(r+x)/2:Math.atan2(ha,ga),ma=k(la,ka),na=ma[0],oa=ma[1],pa=na-p,qa=oa-q,ra=ea*pa-da*qa;if(ra*ra/fa>l||Math.abs((da*pa+ea*qa)/fa-.5)>.3){o(p,q,r,s,t,u,na,oa,la,ga/=ja,ha/=ja,ia,ba,ca);ca.point(na,oa);o(na,oa,la,ga,ha,ia,v,w,x,y,z,aa,ba,ca);}}}n.precision=function(p){if(!arguments.length)return Math.sqrt(l);m=(l=p*p)>0&&16;return n;};return n;}g._resample=j;}),null);
__d("d3/geo/projection",["d3/core/core","d3/geo/resample","d3/geo/clip-antimeridian","d3/geo/compose","d3/core/rebind","d3/geo/clip-circle","d3/geo/rotation"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/geo\/resample")._resample,i=c("d3\/geo\/clip-antimeridian")._clipAntimeridian,j=c("d3/core/core")._radians,k=c("d3/core/core")._degrees,l=c("d3\/geo\/compose")._compose,m=c("d3/core/core")._u03c0,n=o;n.mutator=p;function o(r){return p(function(){return r;})();}function p(r){var s,t,u,v=h(function(la,ma){la=s(la,ma);return [la[0]*w+ea,fa-la[1]*w];}),w=150,x=480,y=250,z=0,aa=0,ba=0,ca=0,da=0,ea,fa,ga=i,ha=null;function ia(la){la=u(la[0]*j,la[1]*j);return [la[0]*w+ea,fa-la[1]*w];}function ja(la){la=u.invert((la[0]-ea)/w,(fa-la[1])/w);return la&&[la[0]*k,la[1]*k];}ia.stream=function(la){return q(t,ga(v(la)));};ia.clipAngle=function(la){if(!arguments.length)return ha;ga=la==null?(ha=la,i):c("d3\/geo\/clip-circle")._clipCircle(ha=+la);return ia;};ia.scale=function(la){if(!arguments.length)return w;w=+la;return ka();};ia.translate=function(la){if(!arguments.length)return [x,y];x=+la[0];y=+la[1];return ka();};ia.center=function(la){if(!arguments.length)return [z*k,aa*k];z=la[0]%360*j;aa=la[1]%360*j;return ka();};ia.rotate=function(la){if(!arguments.length)return [ba*k,ca*k,da*k];ba=la[0]%360*j;ca=la[1]%360*j;da=la.length>2?la[2]%360*j:0;return ka();};c("d3/core/rebind")(ia,v,"precision");function ka(){u=l(t=c("d3\/geo\/rotation")._rotation(ba,ca,da),s);var la=s(z,aa);ea=x-la[0]*w;fa=y+la[1]*w;return ia;}return function(){s=r.apply(this,arguments);ia.invert=s.invert&&ja;return ka();};}function q(r,s){return {point:function t(u,v){v=r(u*j,v*j),u=v[0];s.point(u>m?u-2*m:u<-m?u+2*m:u,v[1]);},sphere:function t(){s.sphere();},lineStart:function t(){s.lineStart();},lineEnd:function t(){s.lineEnd();},polygonStart:function t(){s.polygonStart();},polygonEnd:function t(){s.polygonEnd();}};}n._projection=o;n._projectionMutator=p;f.exports=n;}),null);
__d("d3/geo/rotation",["d3/geo/compose","d3/core/core","d3/geo/equirectangular"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/geo\/compose")._compose,i=c("d3\/core\/core")._u03c0;function j(n,o,p){return n?o||p?h(l(n),m(o,p)):l(n):o||p?m(o,p):c("d3\/geo\/equirectangular")._equirectangular;}function k(n){return function(o,p){return o+=n,[o>i?o-2*i:o<-i?o+2*i:o,p];};}function l(n){var o=k(n);o.invert=k(-n);return o;}function m(n,o){var p=Math.cos(n),q=Math.sin(n),r=Math.cos(o),s=Math.sin(o);function t(u,v){var w=Math.cos(v),x=Math.cos(u)*w,y=Math.sin(u)*w,z=Math.sin(v),aa=z*p+x*q;return [Math.atan2(y*r-aa*s,x*p-z*q),Math.asin(Math.max(-1,Math.min(1,aa*r+y*s)))];}t.invert=function(u,v){var w=Math.cos(v),x=Math.cos(u)*w,y=Math.sin(u)*w,z=Math.sin(v),aa=z*r-y*s;return [Math.atan2(y*r+z*s,x*p+aa*q),Math.asin(Math.max(-1,Math.min(1,aa*p-x*q)))];};return t;}g._rotation=j;}),null);
__d("d3/geo/albers",["d3/core/core","d3/geo/projection"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/core")._radians,i=c("d3\/geo\/projection")._projectionMutator,j=c("d3/core/core")._degrees,k;function l(m,n){var o=Math.sin(m),p=(o+Math.sin(n))/2,q=1+o*(2*p-o),r=Math.sqrt(q)/p;function s(t,u){var v=Math.sqrt(q-2*p*Math.sin(u))/p;return [v*Math.sin(t*=p),r-v*Math.cos(t)];}s.invert=function(t,u){var v=r-u;return [Math.atan2(t,v)/p,Math.asin((q-(t*t+v*v)*p*p)/(2*p))];};return s;}(k=function m(){var n=29.5*h,o=45.5*h,p=i(l),q=p(n,o);q.parallels=function(r){if(!arguments.length)return [n*j,o*j];return p(n=r[0]*h,o=r[1]*h);};return q.rotate([98,0]).center([0,38]).scale(1000);}).raw=l;f.exports=k;}),null);
__d("d3/geo/albers-usa",["d3/geo/albers"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function i(){var j=c("d3/geo/albers")(),k=c("d3/geo/albers")().rotate([160,0]).center([0,60]).parallels([55,65]),l=c("d3/geo/albers")().rotate([160,0]).center([0,20]).parallels([8,18]),m=c("d3/geo/albers")().rotate([60,0]).center([0,10]).parallels([8,18]);function n(p){return o(p)(p);}function o(p){var q=p[0],r=p[1];return r>50?k:q<-140?l:r<21?m:j;}n.scale=function(p){if(!arguments.length)return j.scale();j.scale(p);k.scale(p*.6);l.scale(p);m.scale(p*1.5);return n.translate(j.translate());};n.translate=function(p){if(!arguments.length)return j.translate();var q=j.scale(),r=p[0],s=p[1];j.translate(p);k.translate([r-.4*q,s+.17*q]);l.translate([r-.19*q,s+.2*q]);m.translate([r+.58*q,s+.43*q]);return n;};return n.scale(j.scale());};f.exports=h;}),null);
__d("d3/geo/stream",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function n(o,p){if(j.hasOwnProperty(o.type)){j[o.type](o,p);}else i(o,p);};function i(n,o){if(k.hasOwnProperty(n.type))k[n.type](n,o);}var j={Feature:function n(o,p){i(o.geometry,p);},FeatureCollection:function n(o,p){var q=o.features,r=-1,s=q.length;while(++r<s)i(q[r].geometry,p);}},k={Sphere:function n(o,p){p.sphere();},Point:function n(o,p){var q=o.coordinates;p.point(q[0],q[1]);},MultiPoint:function n(o,p){var q=o.coordinates,r=-1,s=q.length,t;while(++r<s)t=q[r],p.point(t[0],t[1]);},LineString:function n(o,p){l(o.coordinates,p,0);},MultiLineString:function n(o,p){var q=o.coordinates,r=-1,s=q.length;while(++r<s)l(q[r],p,0);},Polygon:function n(o,p){m(o.coordinates,p);},MultiPolygon:function n(o,p){var q=o.coordinates,r=-1,s=q.length;while(++r<s)m(q[r],p);},GeometryCollection:function n(o,p){var q=o.geometries,r=-1,s=q.length;while(++r<s)i(q[r],p);}};function l(n,o,p){var q=-1,r=n.length-p,s;o.lineStart();while(++q<r)s=n[q],o.point(s[0],s[1]);o.lineEnd();}function m(n,o){var p=-1,q=n.length;o.polygonStart();while(++p<q)l(n[p],o,1);o.polygonEnd();}f.exports=h;}),null);
__d("d3/geo/area",["d3/core/core","d3/core/noop","d3/geo/stream"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/core")._u03c0,i=c("d3\/core\/noop")._noop,j=c("d3/core/core")._radians,k=function q(r){l=0;c("d3/geo/stream")(r,o);return l;},l,m,n,o={sphere:function q(){l+=4*h;},point:i,lineStart:i,lineEnd:i,polygonStart:function q(){m=1,n=0;o.lineStart=p;},polygonEnd:function q(){var r=2*Math.atan2(n,m);l+=r<0?4*h+r:r;o.lineStart=o.lineEnd=o.point=i;}};function p(){var q,r,s,t,u;o.point=function(w,x){o.point=v;s=(q=w)*j,t=Math.cos(x=(r=x)*j/2+h/4),u=Math.sin(x);};function v(w,x){w*=j;x=x*j/2+h/4;var y=w-s,z=Math.cos(x),aa=Math.sin(x),ba=u*aa,ca=m,da=n,ea=t*z+ba*Math.cos(y),fa=ba*Math.sin(y);m=ca*ea-da*fa;n=da*ea+ca*fa;s=w,t=z,u=aa;}o.lineEnd=function(){v(q,r);};}f.exports=k;}),null);
__d("d3/geo/azimuthal",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){function k(l,m){var n=Math.cos(l),o=Math.cos(m),p=i(n*o);return [p*o*Math.sin(l),p*Math.sin(m)];}k.invert=function(l,m){var n=Math.sqrt(l*l+m*m),o=j(n),p=Math.sin(o),q=Math.cos(o);return [Math.atan2(l*p,n*q),Math.asin(n&&m*p/n)];};return k;}g._azimuthal=h;}),null);
__d("d3/geo/azimuthal-equal-area",["d3/geo/azimuthal","d3/geo/projection"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/geo\/azimuthal")._azimuthal,i=c("d3\/geo\/projection")._projection,j,k=h(function(l){return Math.sqrt(2/(1+l));},function(l){return 2*Math.asin(l/2);});(j=function l(){return i(k);}).raw=k;f.exports=j;}),null);
__d("d3/geo/azimuthal-equidistant",["d3/geo/azimuthal","d3/core/identity","d3/geo/projection"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/geo\/azimuthal")._azimuthal,i=c("d3\/core\/identity")._identity,j=c("d3\/geo\/projection")._projection,k,l=h(function(m){var n=Math.acos(m);return n&&n/Math.sin(n);},i);(k=function m(){return j(l);}).raw=l;f.exports=k;}),null);
__d("d3/geo/bounds",["d3/core/identity","d3/core/noop","d3/geo/stream"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/identity")._identity,i=c("d3\/core\/noop")._noop,j=k(h);function k(l){var m,n,o,p,q={point:r,lineStart:i,lineEnd:i,polygonStart:function t(){q.lineEnd=s;},polygonEnd:function t(){q.point=r;}};function r(t,u){if(t<m)m=t;if(t>o)o=t;if(u<n)n=u;if(u>p)p=u;}function s(){q.point=q.lineEnd=i;}return function(t){p=o=-(m=n=Infinity);c("d3/geo/stream")(t,l(q));return [[m,n],[o,p]];};}j._bounds=k;f.exports=j;}),null);
__d("d3/geo/centroid",["d3/core/core","d3/geo/stream"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/core")._u03b5,i=c("d3/core/core")._degrees,j=c("d3/core/core")._radians,k=function v(w){v._centroidDimension=m=v._centroidX=v._centroidY=v._centroidZ=0;c("d3/geo/stream")(w,q);var x;if(m&&Math.abs(x=Math.sqrt(v._centroidX*v._centroidX+v._centroidY*v._centroidY+v._centroidZ*v._centroidZ))>h)return [Math.atan2(v._centroidY,v._centroidX)*i,Math.asin(Math.max(-1,Math.min(1,v._centroidZ/x)))*i];},l,m,n,o,p,q={sphere:function v(){if(k._centroidDimension<2){k._centroidDimension=2;m=k._centroidX=k._centroidY=k._centroidZ=0;}},point:r,lineStart:t,lineEnd:u,polygonStart:function v(){if(k._centroidDimension<2){k._centroidDimension=2;m=k._centroidX=k._centroidY=k._centroidZ=0;}q.lineStart=s;},polygonEnd:function v(){q.lineStart=t;}};function r(v,w){if(k._centroidDimension)return;++m;v*=j;var x=Math.cos(w*=j);k._centroidX+=(x*Math.cos(v)-k._centroidX)/m;k._centroidY+=(x*Math.sin(v)-k._centroidY)/m;k._centroidZ+=(Math.sin(w)-k._centroidZ)/m;}function s(){var v,w;k._centroidDimension=1;t();k._centroidDimension=2;var x=q.point;q.point=function(y,z){x(v=y,w=z);};q.lineEnd=function(){q.point(v,w);u();q.lineEnd=u;};}function t(){var v,w,x;if(k._centroidDimension>1)return;if(k._centroidDimension<1){k._centroidDimension=1;m=k._centroidX=k._centroidY=k._centroidZ=0;}q.point=function(z,aa){z*=j;var ba=Math.cos(aa*=j);v=ba*Math.cos(z);w=ba*Math.sin(z);x=Math.sin(aa);q.point=y;};function y(z,aa){z*=j;var ba=Math.cos(aa*=j),ca=ba*Math.cos(z),da=ba*Math.sin(z),ea=Math.sin(aa),fa=Math.atan2(Math.sqrt((fa=w*ea-x*da)*fa+(fa=x*ca-v*ea)*fa+(fa=v*da-w*ca)*fa),v*ca+w*da+x*ea);m+=fa;k._centroidX+=fa*(v+(v=ca));k._centroidY+=fa*(w+(w=da));k._centroidZ+=fa*(x+(x=ea));}}function u(){q.point=r;}k._centroidDimension=l;k._centroidX=n;k._centroidY=o;k._centroidZ=p;f.exports=k;}),null);
__d("d3/geo/geo",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};f.exports=h;}),null);
__d("d3/geo/gnomonic",["d3/geo/azimuthal","d3/geo/projection"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/geo\/azimuthal")._azimuthal,i=c("d3\/geo\/projection")._projection,j,k=h(function(l){return 1/l;},Math.atan);(j=function l(){return i(k);}).raw=k;f.exports=j;}),null);
__d("d3/geo/graticule",["d3/core/core","d3/core/range"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._u03b5,i=function l(){var m,n,o,p,q=22.5,r=q,s,t,u=2.5;function v(){return {type:"MultiLineString",coordinates:w()};}function w(){return c("d3/core/range")(Math.ceil(n/q)*q,m,q).map(s).concat(c("d3/core/range")(Math.ceil(p/r)*r,o,r).map(t));}v.lines=function(){return w().map(function(x){return {type:"LineString",coordinates:x};});};v.outline=function(){return {type:"Polygon",coordinates:[s(n).concat(t(o).slice(1),s(m).reverse().slice(1),t(p).reverse().slice(1))]};};v.extent=function(x){if(!arguments.length)return [[n,p],[m,o]];n=+x[0][0],m=+x[1][0];p=+x[0][1],o=+x[1][1];if(n>m)x=n,n=m,m=x;if(p>o)x=p,p=o,o=x;return v.precision(u);};v.step=function(x){if(!arguments.length)return [q,r];q=+x[0],r=+x[1];return v;};v.precision=function(z){if(!arguments.length)return u;u=+z;s=j(p,o,u);t=k(n,m,u);return v;};return v.extent([[-180+h,-90+h],[180-h,90-h]]);};function j(l,m,n){var o=c("d3/core/range")(l,m-h,n).concat(m);return function(p){return o.map(function(q){return [p,q];});};}function k(l,m,n){var o=c("d3/core/range")(l,m-h,n).concat(m);return function(p){return o.map(function(q){return [q,p];});};}f.exports=i;}),null);
__d("d3/geo/interpolate",["d3/core/core"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._radians,i=function k(l,m){return j(l[0]*h,l[1]*h,m[0]*h,m[1]*h);};function j(k,l,m,n){var o=Math.cos(l),p=Math.sin(l),q=Math.cos(n),r=Math.sin(n),s=o*Math.cos(k),t=o*Math.sin(k),u=q*Math.cos(m),v=q*Math.sin(m),w=Math.acos(Math.max(-1,Math.min(1,p*r+o*q*Math.cos(m-k)))),x=1/Math.sin(w);function y(z){var aa=Math.sin(z*=w)*x,ba=Math.sin(w-z)*x,ca=ba*s+aa*u,da=ba*t+aa*v,ea=ba*p+aa*r;return [Math.atan2(da,ca)/h,Math.atan2(ea,Math.sqrt(ca*ca+da*da))/h];}y.distance=w;return y;}f.exports=i;}),null);
__d("d3/geo/greatArc",["d3/core/core","d3/geo/interpolate"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/core")._source,i=c("d3/core/core")._target,j=c("d3/core/core")._radians,k=function l(){var m=h,n,o=i,p,q=6*j,r;function s(){var t=n||m.apply(this,arguments),u=p||o.apply(this,arguments),v=r||c("d3/geo/interpolate")(t,u),w=0,x=q/v.distance,y=[t];while((w+=x)<1)y.push(v(w));y.push(u);return {type:"LineString",coordinates:y};}s.distance=function(){return (r||c("d3/geo/interpolate")(n||m.apply(this,arguments),p||o.apply(this,arguments))).distance;};s.source=function(t){if(!arguments.length)return m;m=t,n=typeof t==="function"?null:t;r=n&&p?c("d3/geo/interpolate")(n,p):null;return s;};s.target=function(t){if(!arguments.length)return o;o=t,p=typeof t==="function"?null:t;r=n&&p?c("d3/geo/interpolate")(n,p):null;return s;};s.precision=function(t){if(!arguments.length)return q/j;q=t*j;return s;};return s;};f.exports=k;}),null);
__d("d3/geo/mercator",["d3/core/core","d3/geo/projection"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._u03c0,i=c("d3\/geo\/projection")._projection,j;function k(l,m){return [l/(2*h),Math.max(-.5,Math.min(+.5,Math.log(Math.tan(h/4+m/2))/(2*h)))];}k.invert=function(l,m){return [2*h*l,2*Math.atan(Math.exp(2*h*m))-h/2];};(j=function l(){return i(k).scale(500);}).raw=k;f.exports=j;}),null);
__d("d3/geo/orthographic",["d3/geo/azimuthal","d3/geo/projection"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/geo\/azimuthal")._azimuthal,i=c("d3\/geo\/projection")._projection,j,k=h(function(){return 1;},Math.asin);(j=function l(){return i(k);}).raw=k;f.exports=j;}),null);
__d("d3/geo/path-buffer",["d3/geo/path"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){var i=c("d3\/geo\/path")._pathCircle(4.5),j=[],k={point:l,lineStart:function q(){k.point=m;},lineEnd:o,polygonStart:function q(){k.lineEnd=p;},polygonEnd:function q(){k.lineEnd=o;k.point=l;},pointRadius:function q(r){i=c("d3\/geo\/path")._pathCircle(r);return k;},result:function q(){if(j.length){var q=j.join("");j=[];return q;}}};function l(q,r){j.push("M",q,",",r,i);}function m(q,r){j.push("M",q,",",r);k.point=n;}function n(q,r){j.push("L",q,",",r);}function o(){k.point=l;}function p(){j.push("Z");}return k;}g._pathBuffer=h;}),null);
__d("d3/geo/path-area",["d3/core/noop"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/noop")._noop,i,j,k={point:h,lineStart:h,lineEnd:h,polygonStart:function m(){j=0;k.lineStart=l;},polygonEnd:function m(){k.lineStart=k.lineEnd=k.point=h;g._pathAreaSum+=Math.abs(j/2);}};function l(){var m,n,o,p;k.point=function(r,s){k.point=q;m=o=r,n=p=s;};function q(r,s){j+=p*r-o*s;o=r,p=s;}k.lineEnd=function(){q(m,n);};}g._pathAreaSum=i;g._pathArea=k;}),null);
__d("d3/geo/path-centroid",["d3/geo/centroid"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={point:i,lineStart:j,lineEnd:k,polygonStart:function m(){h.lineStart=l;},polygonEnd:function m(){h.point=i;h.lineStart=j;h.lineEnd=k;}};function i(m,n){if(c("d3/geo/centroid")._centroidDimension)return;c("d3/geo/centroid")._centroidX+=m;c("d3/geo/centroid")._centroidY+=n;++c("d3/geo/centroid")._centroidZ;}function j(){var m,n;if(c("d3/geo/centroid")._centroidDimension!==1)if(c("d3/geo/centroid")._centroidDimension<1){c("d3/geo/centroid")._centroidDimension=1;c("d3/geo/centroid")._centroidX=c("d3/geo/centroid")._centroidY=c("d3/geo/centroid")._centroidZ=0;}else return;h.point=function(p,q){h.point=o;m=p,n=q;};function o(p,q){var r=p-m,s=q-n,t=Math.sqrt(r*r+s*s);c("d3/geo/centroid")._centroidX+=t*(m+p)/2;c("d3/geo/centroid")._centroidY+=t*(n+q)/2;c("d3/geo/centroid")._centroidZ+=t;m=p,n=q;}}function k(){h.point=i;}function l(){var m,n,o,p;if(c("d3/geo/centroid")._centroidDimension<2){c("d3/geo/centroid")._centroidDimension=2;c("d3/geo/centroid")._centroidX=c("d3/geo/centroid")._centroidY=c("d3/geo/centroid")._centroidZ=0;}h.point=function(r,s){h.point=q;m=o=r,n=p=s;};function q(r,s){var t=p*r-o*s;c("d3/geo/centroid")._centroidX+=t*(o+r);c("d3/geo/centroid")._centroidY+=t*(p+s);c("d3/geo/centroid")._centroidZ+=t*3;o=r,p=s;}h.lineEnd=function(){q(m,n);};}g._pathCentroid=h;}),null);
__d("d3/geo/path-context",["d3/core/noop","d3/core/core"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/noop")._noop,i=c("d3\/core\/core")._u03c0;function j(k){var l=4.5,m={point:n,lineStart:function s(){m.point=o;},lineEnd:q,polygonStart:function s(){m.lineEnd=r;},polygonEnd:function s(){m.lineEnd=q;m.point=n;},pointRadius:function s(t){l=t;return m;},result:h};function n(s,t){k.moveTo(s,t);k.arc(s,t,l,0,2*i);}function o(s,t){k.moveTo(s,t);m.point=p;}function p(s,t){k.lineTo(s,t);}function q(){m.point=n;}function r(){k.closePath();}return m;}g._pathContext=j;}),null);
__d("d3/geo/path",["d3/geo/path-area","d3/geo/centroid","d3/core/core","d3/geo/path-centroid","d3/geo/bounds","d3/core/identity","d3/geo/path-context","d3/geo/resample","d3/geo/stream","d3/geo/albers-usa","d3/geo/path-buffer"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/geo/path-area")._pathArea,i=c("d3\/geo\/path-centroid")._pathCentroid,j=c("d3\/geo\/bounds")._bounds,k=c("d3\/core\/identity")._identity,l=c("d3\/geo\/path-context")._pathContext,m=c("d3\/geo\/resample")._resample,n=c("d3/core/core")._degrees,o=c("d3/core/core")._radians,p=function s(){var t=4.5,u,v,w,x;function y(z){if(z)c("d3/geo/stream")(z,w(x.pointRadius(typeof t==="function"?+t.apply(this,arguments):t)));return x.result();}y.area=function(z){c("d3/geo/path-area")._pathAreaSum=0;c("d3/geo/stream")(z,w(h));return c("d3/geo/path-area")._pathAreaSum;};y.centroid=function(z){c("d3/geo/centroid")._centroidDimension=c("d3/geo/centroid")._centroidX=c("d3/geo/centroid")._centroidY=c("d3/geo/centroid")._centroidZ=0;c("d3/geo/stream")(z,w(i));return c("d3/geo/centroid")._centroidZ?[c("d3/geo/centroid")._centroidX/c("d3/geo/centroid")._centroidZ,c("d3/geo/centroid")._centroidY/c("d3/geo/centroid")._centroidZ]:undefined;};y.bounds=function(z){return j(w)(z);};y.projection=function(z){if(!arguments.length)return u;w=(u=z)?z.stream||r(z):k;return y;};y.context=function(z){if(!arguments.length)return v;x=(v=z)==null?new (c("d3\/geo\/path-buffer")._pathBuffer)():new l(z);return y;};y.pointRadius=function(z){if(!arguments.length)return t;t=typeof z==="function"?z:+z;return y;};return y.projection(c("d3/geo/albers-usa")()).context(null);};function q(s){return "m0,"+s+"a"+s+","+s+" 0 1,1 0,"+ -2*s+"a"+s+","+s+" 0 1,1 0,"+ +2*s+"z";}function r(s){var t=m(function(u,v){return s([u*n,v*n]);});return function(u){u=t(u);return {point:function v(w,x){u.point(w*o,x*o);},sphere:function v(){u.sphere();},lineStart:function v(){u.lineStart();},lineEnd:function v(){u.lineEnd();},polygonStart:function v(){u.polygonStart();},polygonEnd:function v(){u.polygonEnd();}};};}p._pathCircle=q;f.exports=p;}),null);
__d("d3/geo/stereographic",["d3/geo/azimuthal","d3/geo/projection"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/geo\/azimuthal")._azimuthal,i=c("d3\/geo\/projection")._projection,j,k=h(function(l){return 1/(1+l);},function(l){return 2*Math.atan(l);});(j=function l(){return i(k);}).raw=k;f.exports=j;}),null);
__d("d3/d3.geo",["d3/geo/geo","d3/geo/stream","d3/geo/albers-usa","d3/geo/albers","d3/geo/azimuthal-equal-area","d3/geo/azimuthal-equidistant","d3/geo/bounds","d3/geo/centroid","d3/geo/circle","d3/geo/equirectangular","d3/geo/gnomonic","d3/geo/graticule","d3/geo/interpolate","d3/geo/greatArc","d3/geo/mercator","d3/geo/orthographic","d3/geo/path","d3/geo/area","d3/geo/projection","d3/geo/stereographic"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c("d3/geo/geo").stream=c("d3\/geo\/stream");c("d3/geo/geo").albersUsa=c("d3\/geo\/albers-usa");c("d3/geo/geo").albers=c("d3\/geo\/albers");c("d3/geo/geo").azimuthalEqualArea=c("d3\/geo\/azimuthal-equal-area");c("d3/geo/geo").azimuthalEquidistant=c("d3\/geo\/azimuthal-equidistant");c("d3/geo/geo").bounds=c("d3\/geo\/bounds");c("d3/geo/geo").centroid=c("d3\/geo\/centroid");c("d3/geo/geo").circle=c("d3\/geo\/circle");c("d3/geo/geo").equirectangular=c("d3\/geo\/equirectangular");c("d3/geo/geo").gnomonic=c("d3\/geo\/gnomonic");c("d3/geo/geo").graticule=c("d3\/geo\/graticule");c("d3/geo/geo").interpolate=c("d3\/geo\/interpolate");c("d3/geo/geo").greatArc=c("d3\/geo\/greatArc");c("d3/geo/geo").mercator=c("d3\/geo\/mercator");c("d3/geo/geo").orthographic=c("d3\/geo\/orthographic");c("d3/geo/geo").path=c("d3\/geo\/path");c("d3/geo/geo").area=c("d3\/geo\/area");c("d3/geo/geo").projection=c("d3\/geo\/projection");c("d3/geo/geo").projectionMutator=c("d3\/geo\/projection").mutator;c("d3/geo/geo").stereographic=c("d3\/geo\/stereographic");f.exports=c("d3/geo/geo");}),null);
__d("d3/geom/voronoi",["d3/core/core","d3/core/range"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._u03b5,i=function l(m){var n=m.map(function(){return [];}),o=1e+06;k(m,function(p){var q,r,s,t,u,v;if(p.a===1&&p.b>=0){q=p.ep.r;r=p.ep.l;}else{q=p.ep.l;r=p.ep.r;}if(p.a===1){u=q?q.y:-o;s=p.c-p.b*u;v=r?r.y:o;t=p.c-p.b*v;}else{s=q?q.x:-o;u=p.c-p.a*s;t=r?r.x:o;v=p.c-p.a*t;}var w=[s,u],x=[t,v];n[p.region.l.index].push(w,x);n[p.region.r.index].push(w,x);});n=n.map(function(p,q){var r=m[q][0],s=m[q][1],t=p.map(function(v){return Math.atan2(v[0]-r,v[1]-s);}),u=c("d3/core/range")(p.length).sort(function(v,w){return t[v]-t[w];});return u.filter(function(v,w){return !w||t[v]-t[u[w-1]]>h;}).map(function(v){return p[v];});});n.forEach(function(p,q){var r=p.length;if(!r)return p.push([-o,-o],[-o,o],[o,o],[o,-o]);if(r>2)return;var s=m[q],t=p[0],u=p[1],v=s[0],w=s[1],x=t[0],y=t[1],z=u[0],aa=u[1],ba=Math.abs(z-x),ca=aa-y;if(Math.abs(ca)<h){var da=w<y?-o:o;p.push([-o,da],[o,da]);}else if(ba<h){var ea=v<x?-o:o;p.push([ea,-o],[ea,o]);}else{var da=(z-x)*(y-w)<(x-v)*(aa-y)?o:-o,fa=Math.abs(ca)-ba;if(Math.abs(fa)<h){p.push([ca<0?da:-da,da]);}else{if(fa>0)da*=-1;p.push([-o,da],[o,da]);}}});return n;},j={l:"r",r:"l"};function k(l,m){var n={list:l.map(function(fa,ga){return {index:ga,x:fa[0],y:fa[1]};}).sort(function(fa,ga){return fa.y<ga.y?-1:fa.y>ga.y?1:fa.x<ga.x?-1:fa.x>ga.x?1:0;}),bottomSite:null},o={list:[],leftEnd:null,rightEnd:null,init:function fa(){o.leftEnd=o.createHalfEdge(null,"l");o.rightEnd=o.createHalfEdge(null,"l");o.leftEnd.r=o.rightEnd;o.rightEnd.l=o.leftEnd;o.list.unshift(o.leftEnd,o.rightEnd);},createHalfEdge:function fa(ga,ha){return {edge:ga,side:ha,vertex:null,l:null,r:null};},insert:function fa(ga,ha){ha.l=ga;ha.r=ga.r;ga.r.l=ha;ga.r=ha;},leftBound:function fa(ga){var ha=o.leftEnd;do{ha=ha.r;}while(ha!=o.rightEnd&&p.rightOf(ha,ga));ha=ha.l;return ha;},del:function fa(ga){ga.l.r=ga.r;ga.r.l=ga.l;ga.edge=null;},right:function fa(ga){return ga.r;},left:function fa(ga){return ga.l;},leftRegion:function fa(ga){return ga.edge==null?n.bottomSite:ga.edge.region[ga.side];},rightRegion:function fa(ga){return ga.edge==null?n.bottomSite:ga.edge.region[j[ga.side]];}},p={bisect:function fa(ga,ha){var ia={region:{l:ga,r:ha},ep:{l:null,r:null}},ja=ha.x-ga.x,ka=ha.y-ga.y,la=ja>0?ja:-ja,ma=ka>0?ka:-ka;ia.c=ga.x*ja+ga.y*ka+(ja*ja+ka*ka)*.5;if(la>ma){ia.a=1;ia.b=ka/ja;ia.c/=ja;}else{ia.b=1;ia.a=ja/ka;ia.c/=ka;}return ia;},intersect:function fa(ga,ha){var ia=ga.edge,ja=ha.edge;if(!ia||!ja||ia.region.r==ja.region.r)return null;var ka=ia.a*ja.b-ia.b*ja.a;if(Math.abs(ka)<1e-10)return null;var la=(ia.c*ja.b-ja.c*ia.b)/ka,ma=(ja.c*ia.a-ia.c*ja.a)/ka,na=ia.region.r,oa=ja.region.r,pa,qa;if(na.y<oa.y||na.y==oa.y&&na.x<oa.x){pa=ga;qa=ia;}else{pa=ha;qa=ja;}var ra=la>=qa.region.r.x;if(ra&&pa.side==="l"||!ra&&pa.side==="r")return null;return {x:la,y:ma};},rightOf:function fa(ga,ha){var ia=ga.edge,ja=ia.region.r,ka=ha.x>ja.x;if(ka&&ga.side==="l")return 1;if(!ka&&ga.side==="r")return 0;if(ia.a===1){var la=ha.y-ja.y,ma=ha.x-ja.x,na=0,oa=0;if(!ka&&ia.b<0||ka&&ia.b>=0){oa=na=la>=ia.b*ma;}else{oa=ha.x+ha.y*ia.b>ia.c;if(ia.b<0)oa=!oa;if(!oa)na=1;}if(!na){var pa=ja.x-ia.region.l.x;oa=ia.b*(ma*ma-la*la)<pa*la*(1+2*ma/pa+ia.b*ia.b);if(ia.b<0)oa=!oa;}}else{var qa=ia.c-ia.a*ha.x,ra=ha.y-qa,sa=ha.x-ja.x,ta=qa-ja.y;oa=ra*ra>sa*sa+ta*ta;}return ga.side==="l"?oa:!oa;},endPoint:function fa(ga,ha,ia){ga.ep[ha]=ia;if(!ga.ep[j[ha]])return;m(ga);},distance:function fa(ga,ha){var ia=ga.x-ha.x,ja=ga.y-ha.y;return Math.sqrt(ia*ia+ja*ja);}},q={list:[],insert:function fa(ga,ha,ia){ga.vertex=ha;ga.ystar=ha.y+ia;for(var ja=0,ka=q.list,la=ka.length;ja<la;ja++){var ma=ka[ja];if(ga.ystar>ma.ystar||ga.ystar==ma.ystar&&ha.x>ma.vertex.x){continue;}else break;}ka.splice(ja,0,ga);},del:function fa(ga){for(var ha=0,ia=q.list,ja=ia.length;ha<ja&&ia[ha]!=ga;++ha);ia.splice(ha,1);},empty:function fa(){return q.list.length===0;},nextEvent:function fa(ga){for(var ha=0,ia=q.list,ja=ia.length;ha<ja;++ha)if(ia[ha]==ga)return ia[ha+1];return null;},min:function fa(){var ga=q.list[0];return {x:ga.vertex.x,y:ga.ystar};},extractMin:function fa(){return q.list.shift();}};o.init();n.bottomSite=n.list.shift();var r=n.list.shift(),s,t,u,v,w,x,y,z,aa,ba,ca,da,ea;while(true){if(!q.empty())s=q.min();if(r&&(q.empty()||r.y<s.y||r.y==s.y&&r.x<s.x)){t=o.leftBound(r);u=o.right(t);y=o.rightRegion(t);da=p.bisect(y,r);x=o.createHalfEdge(da,"l");o.insert(t,x);ba=p.intersect(t,x);if(ba){q.del(t);q.insert(t,ba,p.distance(ba,r));}t=x;x=o.createHalfEdge(da,"r");o.insert(t,x);ba=p.intersect(x,u);if(ba)q.insert(x,ba,p.distance(ba,r));r=n.list.shift();}else if(!q.empty()){t=q.extractMin();v=o.left(t);u=o.right(t);w=o.right(u);y=o.leftRegion(t);z=o.rightRegion(u);ca=t.vertex;p.endPoint(t.edge,t.side,ca);p.endPoint(u.edge,u.side,ca);o.del(t);q.del(u);o.del(u);ea="l";if(y.y>z.y){aa=y;y=z;z=aa;ea="r";}da=p.bisect(y,z);x=o.createHalfEdge(da,ea);o.insert(v,x);p.endPoint(da,j[ea],ca);ba=p.intersect(v,x);if(ba){q.del(v);q.insert(v,ba,p.distance(ba,y));}ba=p.intersect(x,w);if(ba)q.insert(x,ba,p.distance(ba,y));}else break;}for(t=o.right(o.leftEnd);t!=o.rightEnd;t=o.right(t))m(t.edge);}i._tessellate=k;f.exports=i;}),null);
__d("d3/geom/delaunay",["d3/geom/voronoi"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/geom\/voronoi")._tessellate,i=function j(k){var l=k.map(function(){return [];}),m=[];h(k,function(n){l[n.region.l.index].push(k[n.region.r.index]);});l.forEach(function(n,o){var p=k[o],q=p[0],r=p[1];n.forEach(function(u){u.angle=Math.atan2(u[0]-q,u[1]-r);});n.sort(function(u,v){return u.angle-v.angle;});for(var s=0,t=n.length-1;s<t;s++)m.push([p,n[s],n[s+1]]);});return m;};f.exports=i;}),null);
__d("d3/geom/geom",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};f.exports=h;}),null);
__d("d3/geom/hull",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function j(k){if(k.length<3)return [];var l=k.length,m=l-1,n=[],o=[],p,q,r=0,s,t,u,v,w,x,y,z;for(p=1;p<l;++p)if(k[p][1]<k[r][1]){r=p;}else if(k[p][1]==k[r][1])r=k[p][0]<k[r][0]?p:r;for(p=0;p<l;++p){if(p===r)continue;t=k[p][1]-k[r][1];s=k[p][0]-k[r][0];n.push({angle:Math.atan2(t,s),index:p});}n.sort(function(ba,ca){return ba.angle-ca.angle;});y=n[0].angle;x=n[0].index;w=0;for(p=1;p<m;++p){q=n[p].index;if(y==n[p].angle){s=k[x][0]-k[r][0];t=k[x][1]-k[r][1];u=k[q][0]-k[r][0];v=k[q][1]-k[r][1];if(s*s+t*t>=u*u+v*v){n[p].index=-1;}else{n[w].index=-1;y=n[p].angle;w=p;x=q;}}else{y=n[p].angle;w=p;x=q;}}o.push(r);for(p=0,q=0;p<2;++q)if(n[q].index!==-1){o.push(n[q].index);p++;}z=o.length;for(;q<m;++q){if(n[q].index===-1)continue;while(!i(o[z-2],o[z-1],n[q].index,k))--z;o[z++]=n[q].index;}var aa=[];for(p=0;p<z;++p)aa.push(k[o[p]]);return aa;};function i(j,k,l,m){var n,o,p,q,r,s,t;n=m[j];o=n[0];p=n[1];n=m[k];q=n[0];r=n[1];n=m[l];s=n[0];t=n[1];return (t-p)*(q-o)-(r-p)*(s-o)>0;}f.exports=h;}),null);
__d("d3/geom/polygon",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function k(l){l.area=function(){var m=0,n=l.length,o=l[n-1][1]*l[0][0]-l[n-1][0]*l[0][1];while(++m<n)o+=l[m-1][1]*l[m][0]-l[m-1][0]*l[m][1];return o*.5;};l.centroid=function(m){var n=-1,o=l.length,p=0,q=0,r,s=l[o-1],t;if(!arguments.length)m=-1/(6*l.area());while(++n<o){r=s;s=l[n];t=r[0]*s[1]-s[0]*r[1];p+=(r[0]+s[0])*t;q+=(r[1]+s[1])*t;}return [p*m,q*m];};l.clip=function(m){var n,o=-1,p=l.length,q,r,s=l[p-1],t,u,v;while(++o<p){n=m.slice();m.length=0;t=l[o];u=n[(r=n.length)-1];q=-1;while(++q<r){v=n[q];if(i(v,s,t)){if(!i(u,s,t))m.push(j(u,v,s,t));m.push(v);}else if(i(u,s,t))m.push(j(u,v,s,t));u=v;}s=t;}return m;};return l;};function i(k,l,m){return (m[0]-l[0])*(k[1]-l[1])<(m[1]-l[1])*(k[0]-l[0]);}function j(k,l,m,n){var o=k[0],p=m[0],q=l[0]-o,r=n[0]-p,s=k[1],t=m[1],u=l[1]-s,v=n[1]-t,w=(r*(s-t)-v*(o-p))/(v*q-r*u);return [o+w*q,s+w*u];}f.exports=h;}),null);
__d("d3/geom/quadtree",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function k(l,m,n,o,p){var q,r=-1,s=l.length;if(arguments.length<5)if(arguments.length===3){p=n;o=m;n=m=0;}else{m=n=Infinity;o=p=-Infinity;while(++r<s){q=l[r];if(q.x<m)m=q.x;if(q.y<n)n=q.y;if(q.x>o)o=q.x;if(q.y>p)p=q.y;}}var t=o-m,u=p-n;if(t>u){p=n+t;}else o=m+u;function v(y,z,aa,ba,ca,da){if(isNaN(z.x)||isNaN(z.y))return;if(y.leaf){var ea=y.point;if(ea){if(Math.abs(ea.x-z.x)+Math.abs(ea.y-z.y)<.01){w(y,z,aa,ba,ca,da);}else{y.point=null;w(y,ea,aa,ba,ca,da);w(y,z,aa,ba,ca,da);}}else y.point=z;}else w(y,z,aa,ba,ca,da);}function w(y,z,aa,ba,ca,da){var ea=(aa+ca)*.5,fa=(ba+da)*.5,ga=z.x>=ea,ha=z.y>=fa,ia=(ha<<1)+ga;y.leaf=false;y=y.nodes[ia]||(y.nodes[ia]=i());if(ga){aa=ea;}else ca=ea;if(ha){ba=fa;}else da=fa;v(y,z,aa,ba,ca,da);}var x=i();x.add=function(y){v(x,y,m,n,o,p);};x.visit=function(y){j(y,x,m,n,o,p);};l.forEach(x.add);return x;};function i(){return {leaf:true,nodes:[],point:null};}function j(k,l,m,n,o,p){if(!k(l,m,n,o,p)){var q=(m+o)*.5,r=(n+p)*.5,s=l.nodes;if(s[0])j(k,s[0],m,n,q,r);if(s[1])j(k,s[1],q,n,o,r);if(s[2])j(k,s[2],m,r,q,p);if(s[3])j(k,s[3],q,r,o,p);}}f.exports=h;}),null);
__d("d3/d3.geom",["d3/geom/geom","d3/geom/hull","d3/geom/polygon","d3/geom/voronoi","d3/geom/delaunay","d3/geom/quadtree"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c("d3/geom/geom").hull=c("d3\/geom\/hull");c("d3/geom/geom").polygon=c("d3\/geom\/polygon");c("d3/geom/geom").voronoi=c("d3\/geom\/voronoi");c("d3/geom/geom").delaunay=c("d3\/geom\/delaunay");c("d3/geom/geom").quadtree=c("d3\/geom\/quadtree");f.exports=c("d3/geom/geom");}),null);
__d("d3/layout/bundle",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function l(){return function(m){var n=[],o=-1,p=m.length;while(++o<p)n.push(i(m[o]));return n;};};function i(l){var m=l.source,n=l.target,o=k(m,n),p=[m];while(m!==o){m=m.parent;p.push(m);}var q=p.length;while(n!==o){p.splice(q,0,n);n=n.parent;}return p;}function j(l){var m=[],n=l.parent;while(n!=null){m.push(l);l=n;n=n.parent;}m.push(l);return m;}function k(l,m){if(l===m)return l;var n=j(l),o=j(m),p=n.pop(),q=o.pop(),r=null;while(p===q){r=p;p=n.pop();q=o.pop();}return r;}f.exports=h;}),null);
__d("d3/layout/chord",["d3/core/core","d3/core/range"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._u03c0,i=function j(){var k={},l,m,n,o,p=0,q,r,s;function t(){var v={},w=[],x=c("d3/core/range")(o),y=[],z,aa,ba,ca,da;l=[];m=[];z=0,ca=-1;while(++ca<o){aa=0,da=-1;while(++da<o)aa+=n[ca][da];w.push(aa);y.push(c("d3/core/range")(o));z+=aa;}if(q)x.sort(function(la,ma){return q(w[la],w[ma]);});if(r)y.forEach(function(la,ma){la.sort(function(na,oa){return r(n[ma][na],n[ma][oa]);});});z=(2*h-p*o)/z;aa=0,ca=-1;while(++ca<o){ba=aa,da=-1;while(++da<o){var ea=x[ca],fa=y[ea][da],ga=n[ea][fa],ha=aa,ia=aa+=ga*z;v[ea+"-"+fa]={index:ea,subindex:fa,startAngle:ha,endAngle:ia,value:ga};}m[ea]={index:ea,startAngle:ba,endAngle:aa,value:(aa-ba)/z};aa+=p;}ca=-1;while(++ca<o){da=ca-1;while(++da<o){var ja=v[ca+"-"+da],ka=v[da+"-"+ca];if(ja.value||ka.value)l.push(ja.value<ka.value?{source:ka,target:ja}:{source:ja,target:ka});}}if(s)u();}function u(){l.sort(function(v,w){return s((v.source.value+v.target.value)/2,(w.source.value+w.target.value)/2);});}k.matrix=function(v){if(!arguments.length)return n;o=(n=v)&&n.length;l=m=null;return k;};k.padding=function(v){if(!arguments.length)return p;p=v;l=m=null;return k;};k.sortGroups=function(v){if(!arguments.length)return q;q=v;l=m=null;return k;};k.sortSubgroups=function(v){if(!arguments.length)return r;r=v;l=null;return k;};k.sortChords=function(v){if(!arguments.length)return s;s=v;if(l)u();return k;};k.chords=function(){if(!l)t();return l;};k.groups=function(){if(!m)t();return m;};return k;};f.exports=i;}),null);
__d("d3/layout/hierarchy",["d3/core/rebind","d3/core/merge"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function n(){var o=l,p=j,q=k;function r(u,v,w){var x=p.call(t,u,v);u.depth=v;w.push(u);if(x&&(z=x.length)){var y=-1,z,aa=u.children=[],ba=0,ca=v+1,da;while(++y<z){da=r(x[y],ca,w);da.parent=u;aa.push(da);ba+=da.value;}if(o)aa.sort(o);if(q)u.value=ba;}else if(q)u.value=+q.call(t,u,v)||0;return u;}function s(u,v){var w=u.children,x=0;if(w&&(z=w.length)){var y=-1,z,aa=v+1;while(++y<z)x+=s(w[y],aa);}else if(q)x=+q.call(t,u,v)||0;if(q)u.value=x;return x;}function t(u){var v=[];r(u,0,v);return v;}t.sort=function(u){if(!arguments.length)return o;o=u;return t;};t.children=function(u){if(!arguments.length)return p;p=u;return t;};t.value=function(u){if(!arguments.length)return q;q=u;return t;};t.revalue=function(u){s(u,0);return u;};return t;};function i(n,o){c("d3/core/rebind")(n,o,"sort","children","value");n.nodes=n;n.links=m;return n;}function j(n){return n.children;}function k(n){return n.value;}function l(n,o){return o.value-n.value;}function m(n){return c("d3/core/merge")(n.map(function(o){return (o.children||[]).map(function(p){return {source:o,target:p};});}));}h._hierarchyRebind=i;f.exports=h;}),null);
__d("d3/layout/tree",["d3/layout/hierarchy"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/layout/hierarchy")._hierarchyRebind,i=function u(){var v=c("d3/layout/hierarchy")().sort(null).value(null),w=j,x=[1,1];function y(z,aa){var ba=v.call(this,z,aa),ca=ba[0];function da(ma,na){var oa=ma.children,pa=ma._tree;if(oa&&(qa=oa.length)){var qa,ra=oa[0],sa,ta=ra,ua,va=-1;while(++va<qa){ua=oa[va];da(ua,sa);ta=fa(ua,sa,ta);sa=ua;}r(ma);var wa=.5*(ra._tree.prelim+ua._tree.prelim);if(na){pa.prelim=na._tree.prelim+w(ma,na);pa.mod=pa.prelim-wa;}else pa.prelim=wa;}else if(na)pa.prelim=na._tree.prelim+w(ma,na);}function ea(ma,na){ma.x=ma._tree.prelim+na;var oa=ma.children;if(oa&&(qa=oa.length)){var pa=-1,qa;na+=ma._tree.mod;while(++pa<qa)ea(oa[pa],na);}}function fa(ma,na,oa){if(na){var pa=ma,qa=ma,ra=na,sa=ma.parent.children[0],ta=pa._tree.mod,ua=qa._tree.mod,va=ra._tree.mod,wa=sa._tree.mod,xa;while(ra=l(ra),pa=k(pa),ra&&pa){sa=k(sa);qa=l(qa);qa._tree.ancestor=ma;xa=ra._tree.prelim+va-pa._tree.prelim-ta+w(ra,pa);if(xa>0){s(t(ra,ma,oa),ma,xa);ta+=xa;ua+=xa;}va+=ra._tree.mod;ta+=pa._tree.mod;wa+=sa._tree.mod;ua+=qa._tree.mod;}if(ra&&!l(qa)){qa._tree.thread=ra;qa._tree.mod+=va-ua;}if(pa&&!k(sa)){sa._tree.thread=pa;sa._tree.mod+=ta-wa;oa=ma;}}return oa;}q(ca,function(ma,na){ma._tree={ancestor:ma,prelim:0,mod:0,change:0,shift:0,number:na?na._tree.number+1:0};});da(ca);ea(ca,-ca._tree.prelim);var ga=m(ca,o),ha=m(ca,n),ia=m(ca,p),ja=ga.x-w(ga,ha)/2,ka=ha.x+w(ha,ga)/2,la=ia.depth||1;q(ca,function(ma){ma.x=(ma.x-ja)/(ka-ja)*x[0];ma.y=ma.depth/la*x[1];delete ma._tree;});return ba;}y.separation=function(z){if(!arguments.length)return w;w=z;return y;};y.size=function(z){if(!arguments.length)return x;x=z;return y;};return h(y,v);};function j(u,v){return u.parent==v.parent?1:2;}function k(u){var v=u.children;return v&&v.length?v[0]:u._tree.thread;}function l(u){var v=u.children,w;return v&&(w=v.length)?v[w-1]:u._tree.thread;}function m(u,v){var w=u.children;if(w&&(y=w.length)){var x,y,z=-1;while(++z<y)if(v(x=m(w[z],v),u)>0)u=x;}return u;}function n(u,v){return u.x-v.x;}function o(u,v){return v.x-u.x;}function p(u,v){return u.depth-v.depth;}function q(u,v){function w(x,y){var z=x.children;if(z&&(da=z.length)){var aa,ba=null,ca=-1,da;while(++ca<da){aa=z[ca];w(aa,ba);ba=aa;}}v(x,y);}w(u,null);}function r(u){var v=0,w=0,x=u.children,y=x.length,z;while(--y>=0){z=x[y]._tree;z.prelim+=v;z.mod+=v;v+=z.shift+(w+=z.change);}}function s(u,v,w){u=u._tree;v=v._tree;var x=w/(v.number-u.number);u.change+=x;v.change-=x;v.shift+=w;v.prelim+=w;v.mod+=w;}function t(u,v,w){return u._tree.ancestor.parent==v.parent?u._tree.ancestor:w;}i._treeSeparation=j;i._treeVisitAfter=q;f.exports=i;}),null);
__d("d3/layout/cluster",["d3/layout/tree","d3/layout/hierarchy","d3/core/max"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/layout/tree")._treeSeparation,i=c("d3/layout/tree")._treeVisitAfter,j=c("d3/layout/hierarchy")._hierarchyRebind,k=function p(){var q=c("d3/layout/hierarchy")().sort(null).value(null),r=h,s=[1,1];function t(u,v){var w=q.call(this,u,v),x=w[0],y,z=0;i(x,function(ea){var fa=ea.children;if(fa&&fa.length){ea.x=m(fa);ea.y=l(fa);}else{ea.x=y?z+=r(ea,y):0;ea.y=0;y=ea;}});var aa=n(x),ba=o(x),ca=aa.x-r(aa,ba)/2,da=ba.x+r(ba,aa)/2;i(x,function(ea){ea.x=(ea.x-ca)/(da-ca)*s[0];ea.y=(1-(x.y?ea.y/x.y:1))*s[1];});return w;}t.separation=function(u){if(!arguments.length)return r;r=u;return t;};t.size=function(u){if(!arguments.length)return s;s=u;return t;};return j(t,q);};function l(p){return 1+c("d3/core/max")(p,function(q){return q.y;});}function m(p){return p.reduce(function(q,r){return q+r.x;},0)/p.length;}function n(p){var q=p.children;return q&&q.length?n(q[0]):p;}function o(p){var q=p.children,r;return q&&(r=q.length)?o(q[r-1]):p;}f.exports=k;}),null);
__d("d3/layout/force",["d3/core/identity","d3/core/dispatch","d3/geom/quadtree","d3/core/timer","d3/behavior/drag","d3/core/core","d3/core/rebind"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/identity")._identity,i=function q(){var r={},event=c("d3/core/dispatch")("start","tick","end"),s=[1,1],t,u,v=.9,w=o,x=p,y=-30,z=.1,aa=.8,ba=[],ca=[],da,ea,fa;function ga(ia){return function(ja,ka,la,ma){if(ja.point!==ia){var na=ja.cx-ia.x,oa=ja.cy-ia.y,pa=1/Math.sqrt(na*na+oa*oa);if((ma-ka)*pa<aa){var qa=ja.charge*pa*pa;ia.px-=na*qa;ia.py-=oa*qa;return true;}if(ja.point&&isFinite(pa)){var qa=ja.pointCharge*pa*pa;ia.px-=na*qa;ia.py-=oa*qa;}}return !ja.charge;};}r.tick=function(){if((u*=.99)<.005){event.end({type:"end",alpha:u=0});return true;}var ia=ba.length,ja=ca.length,ka,la,ma,na,oa,pa,qa,ra,sa;for(la=0;la<ja;++la){ma=ca[la];na=ma.source;oa=ma.target;ra=oa.x-na.x;sa=oa.y-na.y;if(pa=ra*ra+sa*sa){pa=u*ea[la]*((pa=Math.sqrt(pa))-da[la])/pa;ra*=pa;sa*=pa;oa.x-=ra*(qa=na.weight/(oa.weight+na.weight));oa.y-=sa*qa;na.x+=ra*(qa=1-qa);na.y+=sa*qa;}}if(qa=u*z){ra=s[0]/2;sa=s[1]/2;la=-1;if(qa)while(++la<ia){ma=ba[la];ma.x+=(ra-ma.x)*qa;ma.y+=(sa-ma.y)*qa;}}if(y){n(ka=c("d3/geom/quadtree")(ba),u,fa);la=-1;while(++la<ia)if(!(ma=ba[la]).fixed)ka.visit(ga(ma));}la=-1;while(++la<ia){ma=ba[la];if(ma.fixed){ma.x=ma.px;ma.y=ma.py;}else{ma.x-=(ma.px-(ma.px=ma.x))*v;ma.y-=(ma.py-(ma.py=ma.y))*v;}}event.tick({type:"tick",alpha:u});};r.nodes=function(ia){if(!arguments.length)return ba;ba=ia;return r;};r.links=function(ia){if(!arguments.length)return ca;ca=ia;return r;};r.size=function(ia){if(!arguments.length)return s;s=ia;return r;};r.linkDistance=function(ia){if(!arguments.length)return w;w=typeof ia==="function"?ia:+ia;return r;};r.distance=r.linkDistance;r.linkStrength=function(ia){if(!arguments.length)return x;x=typeof ia==="function"?ia:+ia;return r;};r.friction=function(ia){if(!arguments.length)return v;v=+ia;return r;};r.charge=function(ia){if(!arguments.length)return y;y=typeof ia==="function"?ia:+ia;return r;};r.gravity=function(ia){if(!arguments.length)return z;z=+ia;return r;};r.theta=function(ia){if(!arguments.length)return aa;aa=+ia;return r;};r.alpha=function(ia){if(!arguments.length)return u;ia=+ia;if(u){if(ia>0){u=ia;}else u=0;}else if(ia>0){event.start({type:"start",alpha:u=ia});c("d3/core/timer")(r.tick);}return r;};r.start=function(){var ia,ja,ka=ba.length,la=ca.length,ma=s[0],na=s[1],oa,pa;for(ia=0;ia<ka;++ia){(pa=ba[ia]).index=ia;pa.weight=0;}for(ia=0;ia<la;++ia){pa=ca[ia];if(typeof pa.source=="number")pa.source=ba[pa.source];if(typeof pa.target=="number")pa.target=ba[pa.target];++pa.source.weight;++pa.target.weight;}for(ia=0;ia<ka;++ia){pa=ba[ia];if(isNaN(pa.x))pa.x=qa("x",ma);if(isNaN(pa.y))pa.y=qa("y",na);if(isNaN(pa.px))pa.px=pa.x;if(isNaN(pa.py))pa.py=pa.y;}da=[];if(typeof w==="function"){for(ia=0;ia<la;++ia)da[ia]=+w.call(this,ca[ia],ia);}else for(ia=0;ia<la;++ia)da[ia]=w;ea=[];if(typeof x==="function"){for(ia=0;ia<la;++ia)ea[ia]=+x.call(this,ca[ia],ia);}else for(ia=0;ia<la;++ia)ea[ia]=x;fa=[];if(typeof y==="function"){for(ia=0;ia<ka;++ia)fa[ia]=+y.call(this,ba[ia],ia);}else for(ia=0;ia<ka;++ia)fa[ia]=y;function qa(sa,ta){var ua=ra(ia),va=-1,wa=ua.length,xa;while(++va<wa)if(!isNaN(xa=ua[va][sa]))return xa;return Math.random()*ta;}function ra(){if(!oa){oa=[];for(ja=0;ja<ka;++ja)oa[ja]=[];for(ja=0;ja<la;++ja){var sa=ca[ja];oa[sa.source.index].push(sa.target);oa[sa.target.index].push(sa.source);}}return oa[ia];}return r.resume();};r.resume=function(){return r.alpha(.1);};r.stop=function(){return r.alpha(0);};r.drag=function(){if(!t)t=c("d3/behavior/drag")().origin(h).on("dragstart.force",j).on("drag.force",ha).on("dragend.force",k);if(!arguments.length)return t;this.on("mouseover.force",l).on("mouseout.force",m).call(t);};function ha(ia){ia.px=c("d3/core/core").event.x,ia.py=c("d3/core/core").event.y;r.resume();}return c("d3/core/rebind")(r,event,"on");};function j(q){q.fixed|=2;}function k(q){q.fixed&=~6;}function l(q){q.fixed|=4;q.px=q.x,q.py=q.y;}function m(q){q.fixed&=~4;}function n(q,r,s){var t=0,u=0;q.charge=0;if(!q.leaf){var v=q.nodes,w=v.length,x=-1,y;while(++x<w){y=v[x];if(y==null)continue;n(y,r,s);q.charge+=y.charge;t+=y.charge*y.cx;u+=y.charge*y.cy;}}if(q.point){if(!q.leaf){q.point.x+=Math.random()-.5;q.point.y+=Math.random()-.5;}var z=r*s[q.point.index];q.charge+=q.pointCharge=z;t+=z*q.point.x;u+=z*q.point.y;}q.cx=t/q.charge;q.cy=u/q.charge;}var o=20,p=1;f.exports=i;}),null);
__d("d3/layout/histogram",["d3/core/functor","d3/core/bisect","d3/core/min","d3/core/max"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/functor")._functor,i=function m(){var n=true,o=Number,p=l,q=j;function r(s,t){var u=[],v=s.map(o,this),w=p.call(this,v,t),x=q.call(this,w,v,t),y,t=-1,z=v.length,aa=x.length-1,ba=n?1:1/z,ca;while(++t<aa){y=u[t]=[];y.dx=x[t+1]-(y.x=x[t]);y.y=0;}if(aa>0){t=-1;while(++t<z){ca=v[t];if(ca>=w[0]&&ca<=w[1]){y=u[c("d3/core/bisect")(x,ca,1,aa)-1];y.y+=ba;y.push(s[t]);}}}return u;}r.value=function(s){if(!arguments.length)return o;o=s;return r;};r.range=function(s){if(!arguments.length)return p;p=h(s);return r;};r.bins=function(s){if(!arguments.length)return q;q=typeof s==="number"?function(t){return k(t,s);}:h(s);return r;};r.frequency=function(s){if(!arguments.length)return n;n=!!s;return r;};return r;};function j(m,n){return k(m,Math.ceil(Math.log(n.length)/Math.LN2+1));}function k(m,n){var o=-1,p=+m[0],q=(m[1]-p)/n,r=[];while(++o<=n)r[o]=q*o+p;return r;}function l(m){return [c("d3/core/min")(m),c("d3/core/max")(m)];}f.exports=i;}),null);
__d("d3/layout/layout",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};f.exports=h;}),null);
__d("d3/layout/pack",["d3/layout/hierarchy","d3/layout/tree"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/layout\/tree")._treeVisitAfter,i=c("d3/layout/hierarchy")._hierarchyRebind,j=function t(){var u=c("d3/layout/hierarchy")().sort(k),v=0,w=[1,1];function x(y,z){var aa=u.call(this,y,z),ba=aa[0];ba.x=0;ba.y=0;h(ba,function(ga){ga.r=Math.sqrt(ga.value);});h(ba,o);var ca=w[0],da=w[1],ea=Math.max(2*ba.r/ca,2*ba.r/da);if(v>0){var fa=v*ea/2;h(ba,function(ga){ga.r+=fa;});h(ba,o);h(ba,function(ga){ga.r-=fa;});ea=Math.max(2*ba.r/ca,2*ba.r/da);}r(ba,ca/2,da/2,1/ea);return aa;}x.size=function(y){if(!arguments.length)return w;w=y;return x;};x.padding=function(y){if(!arguments.length)return v;v=+y;return x;};return i(x,u);};function k(t,u){return t.value-u.value;}function l(t,u){var v=t._pack_next;t._pack_next=u;u._pack_prev=t;u._pack_next=v;v._pack_prev=u;}function m(t,u){t._pack_next=u;u._pack_prev=t;}function n(t,u){var v=u.x-t.x,w=u.y-t.y,x=t.r+u.r;return x*x-v*v-w*w>.001;}function o(t){if(!(u=t.children)||!(fa=u.length))return;var u,v=Infinity,w=-Infinity,x=Infinity,y=-Infinity,z,aa,ba,ca,da,ea,fa;function ga(na){v=Math.min(na.x-na.r,v);w=Math.max(na.x+na.r,w);x=Math.min(na.y-na.r,x);y=Math.max(na.y+na.r,y);}u.forEach(p);z=u[0];z.x=-z.r;z.y=0;ga(z);if(fa>1){aa=u[1];aa.x=aa.r;aa.y=0;ga(aa);if(fa>2){ba=u[2];s(z,aa,ba);ga(ba);l(z,ba);z._pack_prev=ba;l(ba,aa);aa=z._pack_next;for(ca=3;ca<fa;ca++){s(z,aa,ba=u[ca]);var ha=0,ia=1,ja=1;for(da=aa._pack_next;da!==aa;da=da._pack_next,ia++)if(n(da,ba)){ha=1;break;}if(ha==1)for(ea=z._pack_prev;ea!==da._pack_prev;ea=ea._pack_prev,ja++)if(n(ea,ba))break;if(ha){if(ia<ja||ia==ja&&aa.r<z.r){m(z,aa=da);}else m(z=ea,aa);ca--;}else{l(z,ba);aa=ba;ga(ba);}}}}var ka=(v+w)/2,la=(x+y)/2,ma=0;for(ca=0;ca<fa;ca++){ba=u[ca];ba.x-=ka;ba.y-=la;ma=Math.max(ma,ba.r+Math.sqrt(ba.x*ba.x+ba.y*ba.y));}t.r=ma;u.forEach(q);}function p(t){t._pack_next=t._pack_prev=t;}function q(t){delete t._pack_next;delete t._pack_prev;}function r(t,u,v,w){var x=t.children;t.x=u+=w*t.x;t.y=v+=w*t.y;t.r*=w;if(x){var y=-1,z=x.length;while(++y<z)r(x[y],u,v,w);}}function s(t,u,v){var w=t.r+v.r,x=u.x-t.x,y=u.y-t.y;if(w&&(x||y)){var z=u.r+v.r,aa=x*x+y*y;z*=z;w*=w;var ba=.5+(w-z)/(2*aa),ca=Math.sqrt(Math.max(0,2*z*(w+aa)-(w-=aa)*w-z*z))/(2*aa);v.x=t.x+ba*x+ca*y;v.y=t.y+ba*y-ca*x;}else{v.x=t.x+w;v.y=t.y;}}f.exports=j;}),null);
__d("d3/layout/partition",["d3/layout/hierarchy"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/layout/hierarchy")._hierarchyRebind,i=function j(){var k=c("d3/layout/hierarchy")(),l=[1,1];function m(p,q,r,s){var t=p.children;p.x=q;p.y=p.depth*s;p.dx=r;p.dy=s;if(t&&(v=t.length)){var u=-1,v,w,x;r=p.value?r/p.value:0;while(++u<v){m(w=t[u],q,x=w.value*r,s);q+=x;}}}function n(p){var q=p.children,r=0;if(q&&(t=q.length)){var s=-1,t;while(++s<t)r=Math.max(r,n(q[s]));}return 1+r;}function o(p,q){var r=k.call(this,p,q);m(r[0],0,l[0],l[1]/n(r[0]));return r;}o.size=function(p){if(!arguments.length)return l;l=p;return o;};return h(o,k);};f.exports=i;}),null);
__d("d3/layout/pie",["d3/core/core","d3/core/sum","d3/core/range"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._u03c0,i=function k(){var l=Number,m=j,n=0,o=2*h;function p(q){var r=q.map(function(w,x){return +l.call(p,w,x);}),s=+(typeof n==="function"?n.apply(this,arguments):n),t=((typeof o==="function"?o.apply(this,arguments):o)-n)/c("d3/core/sum")(r),u=c("d3/core/range")(q.length);if(m!=null)u.sort(m===j?function(w,x){return r[x]-r[w];}:function(w,x){return m(q[w],q[x]);});var v=[];u.forEach(function(w){var x;v[w]={data:q[w],value:x=r[w],startAngle:s,endAngle:s+=x*t};});return v;}p.value=function(q){if(!arguments.length)return l;l=q;return p;};p.sort=function(q){if(!arguments.length)return m;m=q;return p;};p.startAngle=function(q){if(!arguments.length)return n;n=q;return p;};p.endAngle=function(q){if(!arguments.length)return o;o=q;return p;};return p;},j={};f.exports=i;}),null);
__d("d3/layout/stack",["d3/core/identity","d3/core/permute","d3/core/map","d3/core/range"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/identity")._identity,i=function t(){var u=h,v=o,w=p,x=l,y=j,z=k;function aa(ba,ca){var da=ba.map(function(ma,na){return u.call(aa,ma,na);}),ea=da.map(function(ma){return ma.map(function(na,oa){return [y.call(aa,na,oa),z.call(aa,na,oa)];});}),fa=v.call(aa,ea,ca);da=c("d3/core/permute")(da,fa);ea=c("d3/core/permute")(ea,fa);var ga=w.call(aa,ea,ca),ha=da.length,ia=da[0].length,ja,ka,la;for(ka=0;ka<ia;++ka){x.call(aa,da[0][ka],la=ga[ka],ea[0][ka][1]);for(ja=1;ja<ha;++ja)x.call(aa,da[ja][ka],la+=ea[ja-1][ka][1],ea[ja][ka][1]);}return ba;}aa.values=function(ba){if(!arguments.length)return u;u=ba;return aa;};aa.order=function(ba){if(!arguments.length)return v;v=typeof ba==="function"?ba:m.get(ba)||o;return aa;};aa.offset=function(ba){if(!arguments.length)return w;w=typeof ba==="function"?ba:n.get(ba)||p;return aa;};aa.x=function(ba){if(!arguments.length)return y;y=ba;return aa;};aa.y=function(ba){if(!arguments.length)return z;z=ba;return aa;};aa.out=function(ba){if(!arguments.length)return x;x=ba;return aa;};return aa;};function j(t){return t.x;}function k(t){return t.y;}function l(t,u,v){t.y0=u;t.y=v;}var m=c("d3/core/map")({"inside-out":function t(u){var v=u.length,w,x,y=u.map(q),z=u.map(r),aa=c("d3/core/range")(v).sort(function(fa,ga){return y[fa]-y[ga];}),ba=0,ca=0,da=[],ea=[];for(w=0;w<v;++w){x=aa[w];if(ba<ca){ba+=z[x];da.push(x);}else{ca+=z[x];ea.push(x);}}return ea.reverse().concat(da);},reverse:function t(u){return c("d3/core/range")(u.length).reverse();},"default":o}),n=c("d3/core/map")({silhouette:function t(u){var v=u.length,w=u[0].length,x=[],y=0,z,aa,ba,ca=[];for(aa=0;aa<w;++aa){for(z=0,ba=0;z<v;z++)ba+=u[z][aa][1];if(ba>y)y=ba;x.push(ba);}for(aa=0;aa<w;++aa)ca[aa]=(y-x[aa])/2;return ca;},wiggle:function t(u){var v=u.length,w=u[0],x=w.length,y,z,aa,ba,ca,da,ea,fa,ga,ha=[];ha[0]=fa=ga=0;for(z=1;z<x;++z){for(y=0,ba=0;y<v;++y)ba+=u[y][z][1];for(y=0,ca=0,ea=w[z][0]-w[z-1][0];y<v;++y){for(aa=0,da=(u[y][z][1]-u[y][z-1][1])/(2*ea);aa<y;++aa)da+=(u[aa][z][1]-u[aa][z-1][1])/ea;ca+=da*u[y][z][1];}ha[z]=fa-=ba?ca/ba*ea:0;if(fa<ga)ga=fa;}for(z=0;z<x;++z)ha[z]-=ga;return ha;},expand:function t(u){var v=u.length,w=u[0].length,x=1/v,y,z,aa,ba=[];for(z=0;z<w;++z){for(y=0,aa=0;y<v;y++)aa+=u[y][z][1];if(aa){for(y=0;y<v;y++)u[y][z][1]/=aa;}else for(y=0;y<v;y++)u[y][z][1]=x;}for(z=0;z<w;++z)ba[z]=0;return ba;},zero:p});function o(t){return c("d3/core/range")(t.length);}function p(t){var u=-1,v=t[0].length,w=[];while(++u<v)w[u]=0;return w;}function q(t){var u=1,v=0,w=t[0][1],x,y=t.length;for(;u<y;++u)if((x=t[u][1])>w){v=u;w=x;}return v;}function r(t){return t.reduce(s,0);}function s(t,u){return t+u[1];}f.exports=i;}),null);
__d("d3/layout/treemap",["d3/layout/hierarchy"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/layout/hierarchy")._hierarchyRebind,i=function l(){var m=c("d3/layout/hierarchy")(),n=Math.round,o=[1,1],p=null,q=j,r=false,s,t="squarify",u=.5*(1+Math.sqrt(5));function v(ba,ca){var da=-1,ea=ba.length,fa,ga;while(++da<ea){ga=(fa=ba[da]).value*(ca<0?0:ca);fa.area=isNaN(ga)||ga<=0?0:ga;}}function w(ba){var ca=ba.children;if(ca&&ca.length){var da=q(ba),ea=[],fa=ca.slice(),ga,ha=Infinity,ia,ja=t==="slice"?da.dx:t==="dice"?da.dy:t==="slice-dice"?ba.depth&1?da.dy:da.dx:Math.min(da.dx,da.dy),ka;v(fa,da.dx*da.dy/ba.value);ea.area=0;while((ka=fa.length)>0){ea.push(ga=fa[ka-1]);ea.area+=ga.area;if(t!=="squarify"||(ia=y(ea,ja))<=ha){fa.pop();ha=ia;}else{ea.area-=ea.pop().area;z(ea,ja,da,false);ja=Math.min(da.dx,da.dy);ea.length=ea.area=0;ha=Infinity;}}if(ea.length){z(ea,ja,da,true);ea.length=ea.area=0;}ca.forEach(w);}}function x(ba){var ca=ba.children;if(ca&&ca.length){var da=q(ba),ea=ca.slice(),fa,ga=[];v(ea,da.dx*da.dy/ba.value);ga.area=0;while(fa=ea.pop()){ga.push(fa);ga.area+=fa.area;if(fa.z!=null){z(ga,fa.z?da.dx:da.dy,da,!ea.length);ga.length=ga.area=0;}}ca.forEach(x);}}function y(ba,ca){var da=ba.area,ea,fa=0,ga=Infinity,ha=-1,ia=ba.length;while(++ha<ia){if(!(ea=ba[ha].area))continue;if(ea<ga)ga=ea;if(ea>fa)fa=ea;}da*=da;ca*=ca;return da?Math.max(ca*fa*u/da,da/(ca*ga*u)):Infinity;}function z(ba,ca,da,ea){var fa=-1,ga=ba.length,ha=da.x,ia=da.y,ja=ca?n(ba.area/ca):0,ka;if(ca==da.dx){if(ea||ja>da.dy)ja=da.dy;while(++fa<ga){ka=ba[fa];ka.x=ha;ka.y=ia;ka.dy=ja;ha+=ka.dx=Math.min(da.x+da.dx-ha,ja?n(ka.area/ja):0);}ka.z=true;ka.dx+=da.x+da.dx-ha;da.y+=ja;da.dy-=ja;}else{if(ea||ja>da.dx)ja=da.dx;while(++fa<ga){ka=ba[fa];ka.x=ha;ka.y=ia;ka.dx=ja;ia+=ka.dy=Math.min(da.y+da.dy-ia,ja?n(ka.area/ja):0);}ka.z=false;ka.dy+=da.y+da.dy-ia;da.x+=ja;da.dx-=ja;}}function aa(ba){var ca=s||m(ba),da=ca[0];da.x=0;da.y=0;da.dx=o[0];da.dy=o[1];if(s)m.revalue(da);v([da],da.dx*da.dy/da.value);(s?x:w)(da);if(r)s=ca;return ca;}aa.size=function(ba){if(!arguments.length)return o;o=ba;return aa;};aa.padding=function(ba){if(!arguments.length)return p;function ca(fa){var ga=ba.call(aa,fa,fa.depth);return ga==null?j(fa):k(fa,typeof ga==="number"?[ga,ga,ga,ga]:ga);}function da(fa){return k(fa,ba);}var ea;q=(p=ba)==null?j:(ea=typeof ba)==="function"?ca:ea==="number"?(ba=[ba,ba,ba,ba],da):da;return aa;};aa.round=function(ba){if(!arguments.length)return n!=Number;n=ba?Math.round:Number;return aa;};aa.sticky=function(ba){if(!arguments.length)return r;r=ba;s=null;return aa;};aa.ratio=function(ba){if(!arguments.length)return u;u=ba;return aa;};aa.mode=function(ba){if(!arguments.length)return t;t=ba+"";return aa;};return h(aa,m);};function j(l){return {x:l.x,y:l.y,dx:l.dx,dy:l.dy};}function k(l,m){var n=l.x+m[3],o=l.y+m[0],p=l.dx-m[1]-m[3],q=l.dy-m[0]-m[2];if(p<0){n+=p/2;p=0;}if(q<0){o+=q/2;q=0;}return {x:n,y:o,dx:p,dy:q};}f.exports=i;}),null);
__d("d3/d3.layout",["d3/layout/layout","d3/layout/bundle","d3/layout/chord","d3/layout/force","d3/layout/partition","d3/layout/pie","d3/layout/stack","d3/layout/histogram","d3/layout/hierarchy","d3/layout/pack","d3/layout/cluster","d3/layout/tree","d3/layout/treemap"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c("d3/layout/layout").bundle=c("d3\/layout\/bundle");c("d3/layout/layout").chord=c("d3\/layout\/chord");c("d3/layout/layout").force=c("d3\/layout\/force");c("d3/layout/layout").partition=c("d3\/layout\/partition");c("d3/layout/layout").pie=c("d3\/layout\/pie");c("d3/layout/layout").stack=c("d3\/layout\/stack");c("d3/layout/layout").histogram=c("d3\/layout\/histogram");c("d3/layout/layout").hierarchy=c("d3\/layout\/hierarchy");c("d3/layout/layout").pack=c("d3\/layout\/pack");c("d3/layout/layout").cluster=c("d3\/layout\/cluster");c("d3/layout/layout").tree=c("d3\/layout\/tree");c("d3/layout/layout").treemap=c("d3\/layout\/treemap");f.exports=c("d3/layout/layout");}),null);
__d("d3/scale/category",["d3/scale/ordinal"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function m(){return c("d3/scale/ordinal")().range(i);};h.category20=function(){return c("d3/scale/ordinal")().range(j);};h.category20b=function(){return c("d3/scale/ordinal")().range(k);};h.category20c=function(){return c("d3/scale/ordinal")().range(l);};var i=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],j=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],k=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],l=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];f.exports=h;}),null);
__d("d3/scale/identity",["d3/scale/linear"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/scale/linear")._linearTicks,i=c("d3/scale/linear")._linearTickFormat,j=function l(){return k([0,1]);};function k(l){function m(n){return +n;}m.invert=m;m.domain=m.range=function(n){if(!arguments.length)return l;l=n.map(m);return m;};m.ticks=function(n){return h(l,n);};m.tickFormat=function(n){return i(l,n);};m.copy=function(){return k(l);};return m;}f.exports=j;}),null);
__d("d3/scale/log",["d3/scale/nice","d3/scale/linear","d3/scale/scale","d3/core/format"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/scale/nice")._nice,i=c("d3/scale/nice")._niceDefault,j=c("d3\/scale\/scale")._scaleExtent,k=c("d3/scale/linear")._linearRebind,l=function q(){return m(c("d3/scale/linear")(),o);};function m(q,r){var s=r.pow;function t(u){return q(r(u));}t.invert=function(u){return s(q.invert(u));};t.domain=function(u){if(!arguments.length)return q.domain().map(s);r=u[0]<0?p:o;s=r.pow;q.domain(u.map(r));return t;};t.nice=function(){q.domain(h(q.domain(),i));return t;};t.ticks=function(){var u=j(q.domain()),v=[];if(u.every(isFinite)){var w=Math.floor(u[0]),x=Math.ceil(u[1]),y=s(u[0]),z=s(u[1]);if(r===p){v.push(s(w));for(;w++<x;)for(var aa=9;aa>0;aa--)v.push(s(w)*aa);}else{for(;w<x;w++)for(var aa=1;aa<10;aa++)v.push(s(w)*aa);v.push(s(w));}for(w=0;v[w]<y;w++);for(x=v.length;v[x-1]>z;x--);v=v.slice(w,x);}return v;};t.tickFormat=function(u,v){if(arguments.length<2)v=n;if(!arguments.length)return v;var w=Math.max(.1,u/t.ticks().length),x=r===p?(y=-1e-12,Math.floor):(y=1e-12,Math.ceil),y;return function(z){return z/s(x(r(z)+y))<=w?v(z):"";};};t.copy=function(){return m(q.copy(),r);};return k(t,q);}var n=c("d3/core/format")(".0e");function o(q){return Math.log(q<0?0:q)/Math.LN10;}function p(q){return -Math.log(q>0?0:-q)/Math.LN10;}o.pow=function(q){return Math.pow(10,q);};p.pow=function(q){return -Math.pow(10,-q);};f.exports=l;}),null);
__d("d3/scale/pow",["d3/scale/linear","d3/scale/nice"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/scale/linear")._linearTicks,i=c("d3/scale/linear")._linearTickFormat,j=c("d3\/scale\/nice")._nice,k=c("d3/scale/linear")._linearNice,l=c("d3/scale/linear")._linearRebind,m=function p(){return n(c("d3/scale/linear")(),1);};function n(p,q){var r=o(q),s=o(1/q);function t(u){return p(r(u));}t.invert=function(u){return s(p.invert(u));};t.domain=function(u){if(!arguments.length)return p.domain().map(s);p.domain(u.map(r));return t;};t.ticks=function(u){return h(t.domain(),u);};t.tickFormat=function(u){return i(t.domain(),u);};t.nice=function(){return t.domain(j(t.domain(),k));};t.exponent=function(u){if(!arguments.length)return q;var v=t.domain();r=o(q=u);s=o(1/q);return t.domain(v);};t.copy=function(){return n(p.copy(),q);};return l(t,p);}function o(p){return function(q){return q<0?-Math.pow(-q,p):Math.pow(q,p);};}f.exports=m;}),null);
__d("d3/scale/quantile",["d3/core/quantile","d3/core/bisect","d3/core/ascending"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function j(){return i([],[]);};function i(j,k){var l;function m(){var o=0,p=k.length;l=[];while(++o<p)l[o-1]=c("d3/core/quantile")(j,o/p);return n;}function n(o){if(isNaN(o=+o))return NaN;return k[c("d3/core/bisect")(l,o)];}n.domain=function(o){if(!arguments.length)return j;j=o.filter(function(p){return !isNaN(p);}).sort(c("d3/core/ascending"));return m();};n.range=function(o){if(!arguments.length)return k;k=o;return m();};n.quantiles=function(){return l;};n.copy=function(){return i(j,k);};return m();}f.exports=h;}),null);
__d("d3/scale/quantize",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function j(){return i(0,1,[0,1]);};function i(j,k,l){var m,n;function o(q){return l[Math.max(0,Math.min(n,Math.floor(m*(q-j))))];}function p(){m=l.length/(k-j);n=l.length-1;return o;}o.domain=function(q){if(!arguments.length)return [j,k];j=+q[0];k=+q[q.length-1];return p();};o.range=function(q){if(!arguments.length)return l;l=q;return p();};o.copy=function(){return i(j,k,l);};return p();}f.exports=h;}),null);
__d("d3/scale/sqrt",["d3/scale/pow"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function i(){return c("d3/scale/pow")().exponent(.5);};f.exports=h;}),null);
__d("d3/scale/threshold",["d3/core/bisect"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function j(){return i([.5],[0,1]);};function i(j,k){function l(m){return k[c("d3/core/bisect")(j,m)];}l.domain=function(m){if(!arguments.length)return j;j=m;return l;};l.range=function(m){if(!arguments.length)return k;k=m;return l;};l.copy=function(){return i(j,k);};return l;}f.exports=h;}),null);
__d("d3/d3.scale",["d3/scale/scale","d3/scale/linear","d3/scale/log","d3/scale/pow","d3/scale/sqrt","d3/scale/ordinal","d3/scale/category","d3/scale/quantile","d3/scale/quantize","d3/scale/threshold","d3/scale/identity"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c("d3/scale/scale").linear=c("d3\/scale\/linear");c("d3/scale/scale").log=c("d3\/scale\/log");c("d3/scale/scale").pow=c("d3\/scale\/pow");c("d3/scale/scale").sqrt=c("d3\/scale\/sqrt");c("d3/scale/scale").ordinal=c("d3\/scale\/ordinal");c("d3/scale/scale").category10=c("d3\/scale\/category");c("d3/scale/scale").category20=c("d3\/scale\/category").category20;c("d3/scale/scale").category20b=c("d3\/scale\/category").category20b;c("d3/scale/scale").category20c=c("d3\/scale\/category").category20c;c("d3/scale/scale").quantile=c("d3\/scale\/quantile");c("d3/scale/scale").quantize=c("d3\/scale\/quantize");c("d3/scale/scale").threshold=c("d3\/scale\/threshold");c("d3/scale/scale").identity=c("d3\/scale\/identity");f.exports=c("d3/scale/scale");}),null);
__d("d3/svg/arc",["d3/core/core","d3/core/functor"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._u03c0,i=c("d3\/core\/functor")._functor,j=function q(){var r=m,s=n,t=o,u=p;function v(){var w=r.apply(this,arguments),x=s.apply(this,arguments),y=t.apply(this,arguments)+k,z=u.apply(this,arguments)+k,aa=(z<y&&(aa=y,y=z,z=aa),z-y),ba=aa<h?"0":"1",ca=Math.cos(y),da=Math.sin(y),ea=Math.cos(z),fa=Math.sin(z);return aa>=l?w?"M0,"+x+"A"+x+","+x+" 0 1,1 0,"+ -x+"A"+x+","+x+" 0 1,1 0,"+x+"M0,"+w+"A"+w+","+w+" 0 1,0 0,"+ -w+"A"+w+","+w+" 0 1,0 0,"+w+"Z":"M0,"+x+"A"+x+","+x+" 0 1,1 0,"+ -x+"A"+x+","+x+" 0 1,1 0,"+x+"Z":w?"M"+x*ca+","+x*da+"A"+x+","+x+" 0 "+ba+",1 "+x*ea+","+x*fa+"L"+w*ea+","+w*fa+"A"+w+","+w+" 0 "+ba+",0 "+w*ca+","+w*da+"Z":"M"+x*ca+","+x*da+"A"+x+","+x+" 0 "+ba+",1 "+x*ea+","+x*fa+"L0,0"+"Z";}v.innerRadius=function(w){if(!arguments.length)return r;r=i(w);return v;};v.outerRadius=function(w){if(!arguments.length)return s;s=i(w);return v;};v.startAngle=function(w){if(!arguments.length)return t;t=i(w);return v;};v.endAngle=function(w){if(!arguments.length)return u;u=i(w);return v;};v.centroid=function(){var w=(r.apply(this,arguments)+s.apply(this,arguments))/2,x=(t.apply(this,arguments)+u.apply(this,arguments))/2+k;return [Math.cos(x)*w,Math.sin(x)*w];};return v;},k=-h/2,l=2*h-1e-06;function m(q){return q.innerRadius;}function n(q){return q.outerRadius;}function o(q){return q.startAngle;}function p(q){return q.endAngle;}j._arcOffset=k;j._arcStartAngle=o;j._arcEndAngle=p;f.exports=j;}),null);
__d("d3/svg/line",["d3/core/true","d3/core/functor","d3/core/identity","d3/core/map"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/true")._true,i=c("d3\/core\/functor")._functor,j=c("d3\/core\/identity")._identity;function k(la){var ma=m,na=n,oa=h,pa=p,qa=pa.key,ra=.7;function sa(ta){var ua=[],va=[],wa=-1,xa=ta.length,ya,za=i(ma),ab=i(na);function bb(){ua.push("M",pa(la(va),ra));}while(++wa<xa)if(oa.call(this,ya=ta[wa],wa)){va.push([+za.call(this,ya,wa),+ab.call(this,ya,wa)]);}else if(va.length){bb();va=[];}if(va.length)bb();return ua.length?ua.join(""):null;}sa.x=function(ta){if(!arguments.length)return ma;ma=ta;return sa;};sa.y=function(ta){if(!arguments.length)return na;na=ta;return sa;};sa.defined=function(ta){if(!arguments.length)return oa;oa=ta;return sa;};sa.interpolate=function(ta){if(!arguments.length)return qa;if(typeof ta==="function"){qa=pa=ta;}else qa=(pa=o.get(ta)||p).key;return sa;};sa.tension=function(ta){if(!arguments.length)return ra;ra=ta;return sa;};return sa;}var l=function la(){return k(j);};function m(la){return la[0];}function n(la){return la[1];}var o=c("d3/core/map")({linear:p,"linear-closed":q,"step-before":r,"step-after":s,basis:y,"basis-open":z,"basis-closed":aa,bundle:ba,cardinal:v,"cardinal-open":t,"cardinal-closed":u,monotone:ka});o.forEach(function(la,ma){ma.key=la;ma.closed=/-closed$/.test(la);});function p(la){return la.join("L");}function q(la){return p(la)+"Z";}function r(la){var ma=0,na=la.length,oa=la[0],pa=[oa[0],",",oa[1]];while(++ma<na)pa.push("V",(oa=la[ma])[1],"H",oa[0]);return pa.join("");}function s(la){var ma=0,na=la.length,oa=la[0],pa=[oa[0],",",oa[1]];while(++ma<na)pa.push("H",(oa=la[ma])[0],"V",oa[1]);return pa.join("");}function t(la,ma){return la.length<4?p(la):la[1]+w(la.slice(1,la.length-1),x(la,ma));}function u(la,ma){return la.length<3?p(la):la[0]+w((la.push(la[0]),la),x([la[la.length-2]].concat(la,[la[1]]),ma));}function v(la,ma){return la.length<3?p(la):la[0]+w(la,x(la,ma));}function w(la,ma){if(ma.length<1||la.length!=ma.length&&la.length!=ma.length+2)return p(la);var na=la.length!=ma.length,oa="",pa=la[0],qa=la[1],ra=ma[0],sa=ra,ta=1;if(na){oa+="Q"+(qa[0]-ra[0]*2/3)+","+(qa[1]-ra[1]*2/3)+","+qa[0]+","+qa[1];pa=la[1];ta=2;}if(ma.length>1){sa=ma[1];qa=la[ta];ta++;oa+="C"+(pa[0]+ra[0])+","+(pa[1]+ra[1])+","+(qa[0]-sa[0])+","+(qa[1]-sa[1])+","+qa[0]+","+qa[1];for(var ua=2;ua<ma.length;ua++,ta++){qa=la[ta];sa=ma[ua];oa+="S"+(qa[0]-sa[0])+","+(qa[1]-sa[1])+","+qa[0]+","+qa[1];}}if(na){var va=la[ta];oa+="Q"+(qa[0]+sa[0]*2/3)+","+(qa[1]+sa[1]*2/3)+","+va[0]+","+va[1];}return oa;}function x(la,ma){var na=[],oa=(1-ma)/2,pa,qa=la[0],ra=la[1],sa=1,ta=la.length;while(++sa<ta){pa=qa;qa=ra;ra=la[sa];na.push([oa*(ra[0]-pa[0]),oa*(ra[1]-pa[1])]);}return na;}function y(la){if(la.length<3)return p(la);var ma=1,na=la.length,oa=la[0],pa=oa[0],qa=oa[1],ra=[pa,pa,pa,(oa=la[1])[0]],sa=[qa,qa,qa,oa[1]],ta=[pa,",",qa];ga(ta,ra,sa);while(++ma<na){oa=la[ma];ra.shift();ra.push(oa[0]);sa.shift();sa.push(oa[1]);ga(ta,ra,sa);}ma=-1;while(++ma<2){ra.shift();ra.push(oa[0]);sa.shift();sa.push(oa[1]);ga(ta,ra,sa);}return ta.join("");}function z(la){if(la.length<4)return p(la);var ma=[],na=-1,oa=la.length,pa,qa=[0],ra=[0];while(++na<3){pa=la[na];qa.push(pa[0]);ra.push(pa[1]);}ma.push(ca(fa,qa)+","+ca(fa,ra));--na;while(++na<oa){pa=la[na];qa.shift();qa.push(pa[0]);ra.shift();ra.push(pa[1]);ga(ma,qa,ra);}return ma.join("");}function aa(la){var ma,na=-1,oa=la.length,pa=oa+4,qa,ra=[],sa=[];while(++na<4){qa=la[na%oa];ra.push(qa[0]);sa.push(qa[1]);}ma=[ca(fa,ra),",",ca(fa,sa)];--na;while(++na<pa){qa=la[na%oa];ra.shift();ra.push(qa[0]);sa.shift();sa.push(qa[1]);ga(ma,ra,sa);}return ma.join("");}function ba(la,ma){var na=la.length-1;if(na){var oa=la[0][0],pa=la[0][1],qa=la[na][0]-oa,ra=la[na][1]-pa,sa=-1,ta,ua;while(++sa<=na){ta=la[sa];ua=sa/na;ta[0]=ma*ta[0]+(1-ma)*(oa+ua*qa);ta[1]=ma*ta[1]+(1-ma)*(pa+ua*ra);}}return y(la);}function ca(la,ma){return la[0]*ma[0]+la[1]*ma[1]+la[2]*ma[2]+la[3]*ma[3];}var da=[0,2/3,1/3,0],ea=[0,1/3,2/3,0],fa=[0,1/6,2/3,1/6];function ga(la,ma,na){la.push("C",ca(da,ma),",",ca(da,na),",",ca(ea,ma),",",ca(ea,na),",",ca(fa,ma),",",ca(fa,na));}function ha(la,ma){return (ma[1]-la[1])/(ma[0]-la[0]);}function ia(la){var ma=0,na=la.length-1,oa=[],pa=la[0],qa=la[1],ra=oa[0]=ha(pa,qa);while(++ma<na)oa[ma]=(ra+(ra=ha(pa=qa,qa=la[ma+1])))/2;oa[ma]=ra;return oa;}function ja(la){var ma=[],na,oa,pa,qa,ra=ia(la),sa=-1,ta=la.length-1;while(++sa<ta){na=ha(la[sa],la[sa+1]);if(Math.abs(na)<1e-06){ra[sa]=ra[sa+1]=0;}else{oa=ra[sa]/na;pa=ra[sa+1]/na;qa=oa*oa+pa*pa;if(qa>9){qa=na*3/Math.sqrt(qa);ra[sa]=qa*oa;ra[sa+1]=qa*pa;}}}sa=-1;while(++sa<=ta){qa=(la[Math.min(ta,sa+1)][0]-la[Math.max(0,sa-1)][0])/(6*(1+ra[sa]*ra[sa]));ma.push([qa||0,ra[sa]*qa||0]);}return ma;}function ka(la){return la.length<3?p(la):la[0]+w(la,ja(la));}l._lineInterpolators=o;l._line=k;l._lineX=m;l._lineY=n;l._lineLinear=p;l._lineStepBefore=r;l._lineStepAfter=s;f.exports=l;}),null);
__d("d3/svg/area",["d3/svg/line","d3/core/true","d3/core/functor","d3/core/identity"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/svg/line")._lineX,i=c("d3/svg/line")._lineY,j=c("d3\/core\/true")._true,k=c("d3/svg/line")._lineLinear,l=c("d3\/core\/functor")._functor,m=c("d3/svg/line")._lineInterpolators,n=c("d3/svg/line")._lineStepBefore,o=c("d3/svg/line")._lineStepAfter,p=c("d3\/core\/identity")._identity;function q(s){var t=h,u=h,v=0,w=i,x=j,y=k,z=y.key,aa=y,ba="L",ca=.7;function da(ea){var fa=[],ga=[],ha=[],ia=-1,ja=ea.length,ka,la=l(t),ma=l(v),na=t===u?function(){return pa;}:l(u),oa=v===w?function(){return qa;}:l(w),pa,qa;function ra(){fa.push("M",y(s(ha),ca),ba,aa(s(ga.reverse()),ca),"Z");}while(++ia<ja)if(x.call(this,ka=ea[ia],ia)){ga.push([pa=+la.call(this,ka,ia),qa=+ma.call(this,ka,ia)]);ha.push([+na.call(this,ka,ia),+oa.call(this,ka,ia)]);}else if(ga.length){ra();ga=[];ha=[];}if(ga.length)ra();return fa.length?fa.join(""):null;}da.x=function(ea){if(!arguments.length)return u;t=u=ea;return da;};da.x0=function(ea){if(!arguments.length)return t;t=ea;return da;};da.x1=function(ea){if(!arguments.length)return u;u=ea;return da;};da.y=function(ea){if(!arguments.length)return w;v=w=ea;return da;};da.y0=function(ea){if(!arguments.length)return v;v=ea;return da;};da.y1=function(ea){if(!arguments.length)return w;w=ea;return da;};da.defined=function(ea){if(!arguments.length)return x;x=ea;return da;};da.interpolate=function(ea){if(!arguments.length)return z;if(typeof ea==="function"){z=y=ea;}else z=(y=m.get(ea)||k).key;aa=y.reverse||y;ba=y.closed?"M":"L";return da;};da.tension=function(ea){if(!arguments.length)return ca;ca=ea;return da;};return da;}n.reverse=o;o.reverse=n;var r=function s(){return q(p);};r._area=q;f.exports=r;}),null);
__d("d3/svg/line-radial",["d3/svg/line","d3/svg/arc"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/svg\/line")._line,i=c("d3\/svg\/arc")._arcOffset,j=function l(){var m=h(k);m.radius=m.x,delete m.x;m.angle=m.y,delete m.y;return m;};function k(l){var m,n=-1,o=l.length,p,q;while(++n<o){m=l[n];p=m[0];q=m[1]+i;m[0]=p*Math.cos(q);m[1]=p*Math.sin(q);}return l;}j._lineRadial=k;f.exports=j;}),null);
__d("d3/svg/area-radial",["d3/svg/area","d3/svg/line-radial"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/svg\/area")._area,i=c("d3\/svg\/line-radial")._lineRadial,j=function k(){var l=h(i);l.radius=l.x,delete l.x;l.innerRadius=l.x0,delete l.x0;l.outerRadius=l.x1,delete l.x1;l.angle=l.y,delete l.y;l.startAngle=l.y0,delete l.y0;l.endAngle=l.y1,delete l.y1;return l;};f.exports=j;}),null);
__d("d3/svg/axis",["d3/scale/scale","d3/scale/linear","d3/core/selection-root","d3/core/transition"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/scale/scale")._scaleRange,i=c("d3/scale/scale")._scaleExtent,j=function p(){var q=c("d3/scale/linear")(),r=k,s=6,t=6,u=6,v=3,w=[10],x=null,y,z=0;function aa(ba){ba.each(function(){var ca=c("d3/core/selection-root")(this),da=x==null?q.ticks?q.ticks.apply(q,w):q.domain():x,ea=y==null?q.tickFormat?q.tickFormat.apply(q,w):String:y,fa=o(q,da,z),ga=ca.selectAll(".tick.minor").data(fa,String),ha=ga.enter().insert("line",".tick").attr("class","tick minor").style("opacity",1e-06),ia=c("d3/core/transition")(ga.exit()).style("opacity",1e-06).remove(),ja=c("d3/core/transition")(ga).style("opacity",1),ka=ca.selectAll(".tick.major").data(da,String),la=ka.enter().insert("g","path").attr("class","tick major").style("opacity",1e-06),ma=c("d3/core/transition")(ka.exit()).style("opacity",1e-06).remove(),na=c("d3/core/transition")(ka).style("opacity",1),oa,pa=h(q),qa=ca.selectAll(".domain").data([0]),ra=(qa.enter().append("path").attr("class","domain"),c("d3/core/transition")(qa)),sa=q.copy(),ta=this.__chart__||sa;this.__chart__=sa;la.append("line");la.append("text");var ua=la.select("line"),va=na.select("line"),wa=ka.select("text").text(ea),xa=la.select("text"),ya=na.select("text");switch(r){case "bottom":oa=m;ha.attr("y2",t);ja.attr("x2",0).attr("y2",t);ua.attr("y2",s);xa.attr("y",Math.max(s,0)+v);va.attr("x2",0).attr("y2",s);ya.attr("x",0).attr("y",Math.max(s,0)+v);wa.attr("dy",".71em").style("text-anchor","middle");ra.attr("d","M"+pa[0]+","+u+"V0H"+pa[1]+"V"+u);break;case "top":oa=m;ha.attr("y2",-t);ja.attr("x2",0).attr("y2",-t);ua.attr("y2",-s);xa.attr("y",-(Math.max(s,0)+v));va.attr("x2",0).attr("y2",-s);ya.attr("x",0).attr("y",-(Math.max(s,0)+v));wa.attr("dy","0em").style("text-anchor","middle");ra.attr("d","M"+pa[0]+","+ -u+"V0H"+pa[1]+"V"+ -u);break;case "left":oa=n;ha.attr("x2",-t);ja.attr("x2",-t).attr("y2",0);ua.attr("x2",-s);xa.attr("x",-(Math.max(s,0)+v));va.attr("x2",-s).attr("y2",0);ya.attr("x",-(Math.max(s,0)+v)).attr("y",0);wa.attr("dy",".32em").style("text-anchor","end");ra.attr("d","M"+ -u+","+pa[0]+"H0V"+pa[1]+"H"+ -u);break;case "right":oa=n;ha.attr("x2",t);ja.attr("x2",t).attr("y2",0);ua.attr("x2",s);xa.attr("x",Math.max(s,0)+v);va.attr("x2",s).attr("y2",0);ya.attr("x",Math.max(s,0)+v).attr("y",0);wa.attr("dy",".32em").style("text-anchor","start");ra.attr("d","M"+u+","+pa[0]+"H0V"+pa[1]+"H"+u);break;}if(q.ticks){la.call(oa,ta);na.call(oa,sa);ma.call(oa,sa);ha.call(oa,ta);ja.call(oa,sa);ia.call(oa,sa);}else{var za=sa.rangeBand()/2,ab=function bb(cb){return sa(cb)+za;};la.call(oa,ab);na.call(oa,ab);}});}aa.scale=function(ba){if(!arguments.length)return q;q=ba;return aa;};aa.orient=function(ba){if(!arguments.length)return r;r=ba in l?ba+"":k;return aa;};aa.ticks=function(){if(!arguments.length)return w;w=arguments;return aa;};aa.tickValues=function(ba){if(!arguments.length)return x;x=ba;return aa;};aa.tickFormat=function(ba){if(!arguments.length)return y;y=ba;return aa;};aa.tickSize=function(ba,ca){if(!arguments.length)return s;var da=arguments.length-1;s=+ba;t=da>1?+ca:s;u=da>0?+arguments[da]:s;return aa;};aa.tickPadding=function(ba){if(!arguments.length)return v;v=+ba;return aa;};aa.tickSubdivide=function(ba){if(!arguments.length)return z;z=+ba;return aa;};return aa;},k="bottom",l={top:1,right:1,bottom:1,left:1};function m(p,q){p.attr("transform",function(r){return "translate("+q(r)+",0)";});}function n(p,q){p.attr("transform",function(r){return "translate(0,"+q(r)+")";});}function o(p,q,r){t=[];if(r&&q.length>1){var s=i(p.domain()),t,u=-1,v=q.length,w=(q[1]-q[0])/++r,x,y;while(++u<v)for(x=r;--x>0;)if((y=+q[u]-x*w)>=s[0])t.push(y);for(--u,x=0;++x<r&&(y=+q[u]+x*w)<s[1];)t.push(y);}return t;}f.exports=j;}),null);
__d("d3/svg/brush",["d3/core/event","d3/core/core","d3/scale/scale","d3/core/selection-root","d3/core/touches","d3/core/mouse","d3/core/rebind"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/event")._eventDispatch,i=c("d3\/scale\/scale")._scaleRange,j=c("d3/core/core")._window,k=c("d3/core/event")._eventCancel,l=function o(){var event=h(u,"brushstart","brush","brushend"),p=null,q=null,r=n[0],s=[[0,0],[0,0]],t;function u(z){z.each(function(){var aa=c("d3/core/selection-root")(this),ba=aa.selectAll(".background").data([0]),ca=aa.selectAll(".extent").data([0]),da=aa.selectAll(".resize").data(r,String),ea;aa.style("pointer-events","all").on("mousedown.brush",y).on("touchstart.brush",y);ba.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");ca.enter().append("rect").attr("class","extent").style("cursor","move");da.enter().append("g").attr("class",function(fa){return "resize "+fa;}).style("cursor",function(fa){return m[fa];}).append("rect").attr("x",function(fa){return /[ew]$/.test(fa)?-3:null;}).attr("y",function(fa){return /^[ns]/.test(fa)?-3:null;}).attr("width",6).attr("height",6).style("visibility","hidden");da.style("display",u.empty()?"none":null);da.exit().remove();if(p){ea=i(p);ba.attr("x",ea[0]).attr("width",ea[1]-ea[0]);w(aa);}if(q){ea=i(q);ba.attr("y",ea[0]).attr("height",ea[1]-ea[0]);x(aa);}v(aa);});}function v(z){z.selectAll(".resize").attr("transform",function(aa){return "translate("+s[+/e$/.test(aa)][0]+","+s[+/^s/.test(aa)][1]+")";});}function w(z){z.select(".extent").attr("x",s[0][0]);z.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1][0]-s[0][0]);}function x(z){z.select(".extent").attr("y",s[0][1]);z.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1][1]-s[0][1]);}function y(){var z=this,aa=c("d3/core/selection-root")(c("d3/core/core").event.target),ba=event.of(z,arguments),ca=c("d3/core/selection-root")(z),da=aa.datum(),ea=!/^(n|s)$/.test(da)&&p,fa=!/^(e|w)$/.test(da)&&q,ga=aa.classed("extent"),ha,ia=na(),ja,ka=c("d3/core/selection-root")(j).on("mousemove.brush",qa).on("mouseup.brush",sa).on("touchmove.brush",qa).on("touchend.brush",sa).on("keydown.brush",oa).on("keyup.brush",pa);if(ga){ia[0]=s[0][0]-ia[0];ia[1]=s[0][1]-ia[1];}else if(da){var la=+/w$/.test(da),ma=+/^n/.test(da);ja=[s[1-la][0]-ia[0],s[1-ma][1]-ia[1]];ia[0]=s[la][0];ia[1]=s[ma][1];}else if(c("d3/core/core").event.altKey)ha=ia.slice();ca.style("pointer-events","none").selectAll(".resize").style("display",null);c("d3/core/selection-root")("body").style("cursor",aa.style("cursor"));ba({type:"brushstart"});qa();k();function na(){var ta=c("d3/core/core").event.changedTouches;return ta?c("d3/core/touches")(z,ta)[0]:c("d3/core/mouse")(z);}function oa(){if(c("d3/core/core").event.keyCode==32){if(!ga){ha=null;ia[0]-=s[1][0];ia[1]-=s[1][1];ga=2;}k();}}function pa(){if(c("d3/core/core").event.keyCode==32&&ga==2){ia[0]+=s[1][0];ia[1]+=s[1][1];ga=0;k();}}function qa(){var ta=na(),ua=false;if(ja){ta[0]+=ja[0];ta[1]+=ja[1];}if(!ga)if(c("d3/core/core").event.altKey){if(!ha)ha=[(s[0][0]+s[1][0])/2,(s[0][1]+s[1][1])/2];ia[0]=s[+(ta[0]<ha[0])][0];ia[1]=s[+(ta[1]<ha[1])][1];}else ha=null;if(ea&&ra(ta,p,0)){w(ca);ua=true;}if(fa&&ra(ta,q,1)){x(ca);ua=true;}if(ua){v(ca);ba({type:"brush",mode:ga?"move":"resize"});}}function ra(ta,ua,va){var wa=i(ua),xa=wa[0],ya=wa[1],za=ia[va],ab=s[1][va]-s[0][va],bb,cb;if(ga){xa-=za;ya-=ab+za;}bb=Math.max(xa,Math.min(ya,ta[va]));if(ga){cb=(bb+=za)+ab;}else{if(ha)za=Math.max(xa,Math.min(ya,2*ha[va]-bb));if(za<bb){cb=bb;bb=za;}else cb=za;}if(s[0][va]!==bb||s[1][va]!==cb){t=null;s[0][va]=bb;s[1][va]=cb;return true;}}function sa(){qa();ca.style("pointer-events","all").selectAll(".resize").style("display",u.empty()?"none":null);c("d3/core/selection-root")("body").style("cursor",null);ka.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);ba({type:"brushend"});k();}}u.x=function(z){if(!arguments.length)return p;p=z;r=n[!p<<1|!q];return u;};u.y=function(z){if(!arguments.length)return q;q=z;r=n[!p<<1|!q];return u;};u.extent=function(z){var aa,ba,ca,da,ea;if(!arguments.length){z=t||s;if(p){aa=z[0][0],ba=z[1][0];if(!t){aa=s[0][0],ba=s[1][0];if(p.invert)aa=p.invert(aa),ba=p.invert(ba);if(ba<aa)ea=aa,aa=ba,ba=ea;}}if(q){ca=z[0][1],da=z[1][1];if(!t){ca=s[0][1],da=s[1][1];if(q.invert)ca=q.invert(ca),da=q.invert(da);if(da<ca)ea=ca,ca=da,da=ea;}}return p&&q?[[aa,ca],[ba,da]]:p?[aa,ba]:q&&[ca,da];}t=[[0,0],[0,0]];if(p){aa=z[0],ba=z[1];if(q)aa=aa[0],ba=ba[0];t[0][0]=aa,t[1][0]=ba;if(p.invert)aa=p(aa),ba=p(ba);if(ba<aa)ea=aa,aa=ba,ba=ea;s[0][0]=aa|0,s[1][0]=ba|0;}if(q){ca=z[0],da=z[1];if(p)ca=ca[1],da=da[1];t[0][1]=ca,t[1][1]=da;if(q.invert)ca=q(ca),da=q(da);if(da<ca)ea=ca,ca=da,da=ea;s[0][1]=ca|0,s[1][1]=da|0;}return u;};u.clear=function(){t=null;s[0][0]=s[0][1]=s[1][0]=s[1][1]=0;return u;};u.empty=function(){return p&&s[0][0]===s[1][0]||q&&s[0][1]===s[1][1];};return c("d3/core/rebind")(u,event,"on");},m={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},n=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];f.exports=l;}),null);
__d("d3/svg/chord",["d3/core/core","d3/svg/arc","d3/core/functor"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/core")._source,i=c("d3/core/core")._target,j=c("d3/svg/arc")._arcStartAngle,k=c("d3/svg/arc")._arcEndAngle,l=c("d3/svg/arc")._arcOffset,m=c("d3/core/core")._u03c0,n=c("d3\/core\/functor")._functor,o=function q(){var r=h,s=i,t=p,u=j,v=k;function w(ba,ca){var da=x(this,r,ba,ca),ea=x(this,s,ba,ca);return "M"+da.p0+z(da.r,da.p1,da.a1-da.a0)+(y(da,ea)?aa(da.r,da.p1,da.r,da.p0):aa(da.r,da.p1,ea.r,ea.p0)+z(ea.r,ea.p1,ea.a1-ea.a0)+aa(ea.r,ea.p1,da.r,da.p0))+"Z";}function x(ba,ca,da,ea){var fa=ca.call(ba,da,ea),ga=t.call(ba,fa,ea),ha=u.call(ba,fa,ea)+l,ia=v.call(ba,fa,ea)+l;return {r:ga,a0:ha,a1:ia,p0:[ga*Math.cos(ha),ga*Math.sin(ha)],p1:[ga*Math.cos(ia),ga*Math.sin(ia)]};}function y(ba,ca){return ba.a0==ca.a0&&ba.a1==ca.a1;}function z(ba,ca,da){return "A"+ba+","+ba+" 0 "+ +(da>m)+",1 "+ca;}function aa(ba,ca,da,ea){return "Q 0,0 "+ea;}w.radius=function(ba){if(!arguments.length)return t;t=n(ba);return w;};w.source=function(ba){if(!arguments.length)return r;r=n(ba);return w;};w.target=function(ba){if(!arguments.length)return s;s=n(ba);return w;};w.startAngle=function(ba){if(!arguments.length)return u;u=n(ba);return w;};w.endAngle=function(ba){if(!arguments.length)return v;v=n(ba);return w;};return w;};function p(q){return q.radius;}f.exports=o;}),null);
__d("d3/svg/diagonal",["d3/core/core","d3/core/functor"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/core")._source,i=c("d3/core/core")._target,j=c("d3\/core\/functor")._functor,k=function m(){var n=h,o=i,p=l;function q(r,s){var t=n.call(this,r,s),u=o.call(this,r,s),v=(t.y+u.y)/2,w=[t,{x:t.x,y:v},{x:u.x,y:v},u];w=w.map(p);return "M"+w[0]+"C"+w[1]+" "+w[2]+" "+w[3];}q.source=function(r){if(!arguments.length)return n;n=j(r);return q;};q.target=function(r){if(!arguments.length)return o;o=j(r);return q;};q.projection=function(r){if(!arguments.length)return p;p=r;return q;};return q;};function l(m){return [m.x,m.y];}k._diagonalProjection=l;f.exports=k;}),null);
__d("d3/svg/diagonal-radial",["d3/svg/diagonal","d3/svg/arc"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/svg/diagonal")._diagonalProjection,i=c("d3\/svg\/arc")._arcOffset,j=function l(){var m=c("d3/svg/diagonal")(),n=h,o=m.projection;m.projection=function(p){return arguments.length?o(k(n=p)):n;};return m;};function k(l){return function(){var m=l.apply(this,arguments),n=m[0],o=m[1]+i;return [n*Math.cos(o),n*Math.sin(o)];};}f.exports=j;}),null);
__d("d3/svg/svg",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};f.exports=h;}),null);
__d("d3/svg/symbol",["d3/core/core","d3/core/functor","d3/core/map"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/functor")._functor,i=c("d3/core/core")._u03c0,j=c("d3/core/core")._radians,k=function r(){var s=m,t=l;function u(v,w){return (o.get(s.call(this,v,w))||n)(t.call(this,v,w));}u.type=function(v){if(!arguments.length)return s;s=h(v);return u;};u.size=function(v){if(!arguments.length)return t;t=h(v);return u;};return u;};function l(){return 64;}function m(){return "circle";}function n(r){var s=Math.sqrt(r/i);return "M0,"+s+"A"+s+","+s+" 0 1,1 0,"+ -s+"A"+s+","+s+" 0 1,1 0,"+s+"Z";}var o=c("d3/core/map")({circle:n,cross:function r(s){var t=Math.sqrt(s/5)/2;return "M"+ -3*t+","+ -t+"H"+ -t+"V"+ -3*t+"H"+t+"V"+ -t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+ -t+"V"+t+"H"+ -3*t+"Z";},diamond:function r(s){var t=Math.sqrt(s/(2*q)),u=t*q;return "M0,"+ -t+"L"+u+",0"+" 0,"+t+" "+ -u+",0"+"Z";},square:function r(s){var t=Math.sqrt(s)/2;return "M"+ -t+","+ -t+"L"+t+","+ -t+" "+t+","+t+" "+ -t+","+t+"Z";},"triangle-down":function r(s){var t=Math.sqrt(s/p),u=t*p/2;return "M0,"+u+"L"+t+","+ -u+" "+ -t+","+ -u+"Z";},"triangle-up":function r(s){var t=Math.sqrt(s/p),u=t*p/2;return "M0,"+ -u+"L"+t+","+u+" "+ -t+","+u+"Z";}});k.types=o.keys();var p=Math.sqrt(3),q=Math.tan(30*j);f.exports=k;}),null);
__d("d3/d3.svg",["d3/svg/svg","d3/svg/arc","d3/svg/line","d3/svg/line-radial","d3/svg/area","d3/svg/area-radial","d3/svg/chord","d3/svg/diagonal","d3/svg/diagonal-radial","d3/svg/symbol","d3/svg/axis","d3/svg/brush"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c("d3/svg/svg").arc=c("d3\/svg\/arc");c("d3/svg/svg").line=c("d3\/svg\/line");c("d3/svg/svg").line.radial=c("d3\/svg\/line-radial");c("d3/svg/svg").area=c("d3\/svg\/area");c("d3/svg/svg").area.radial=c("d3\/svg\/area-radial");c("d3/svg/svg").chord=c("d3\/svg\/chord");c("d3/svg/svg").diagonal=c("d3\/svg\/diagonal");c("d3/svg/svg").diagonal.radial=c("d3\/svg\/diagonal-radial");c("d3/svg/svg").symbol=c("d3\/svg\/symbol");c("d3/svg/svg").symbolTypes=c("d3\/svg\/symbol").types;c("d3/svg/svg").axis=c("d3\/svg\/axis");c("d3/svg/svg").brush=c("d3\/svg\/brush");f.exports=c("d3/svg/svg");}),null);
__d("d3/time/format-utc",["d3/time/time","d3/time/format"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/time/time")._utc,i=function j(k){var l=c("d3/time/format")(k);function m(n){try{c("d3/time/time")._time=h;var o=new (c("d3/time/time")._time)();o._=n;return l(o);}finally{c("d3/time/time")._time=Date;}}m.parse=function(n){try{c("d3/time/time")._time=h;var o=l.parse(n);return o&&o._;}finally{c("d3/time/time")._time=Date;}};m.toString=l.toString;return m;};f.exports=i;}),null);
__d("d3/time/format-iso",["d3/time/format-utc"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/time\/format-utc")("%Y-%m-%dT%H:%M:%S.%LZ"),i=Date.prototype.toISOString?j:h;function j(k){return k.toISOString();}j.parse=function(k){var l=new Date(k);return isNaN(l)?null:l;};j.toString=h.toString;f.exports=i;}),null);
__d("d3/time/week",["d3/time/time","d3/time/interval","d3/time/day","d3/time/year"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/time/time")._daySymbols,i=c("d3\/time\/interval")._interval;h.forEach(function(k,l){k=k.toLowerCase();l=7-l;var m=c("d3/time/time")[k]=i(function(n){(n=c("d3/time/day")(n)).setDate(n.getDate()-(n.getDay()+l)%7);return n;},function(n,o){n.setDate(n.getDate()+Math.floor(o)*7);},function(n){var o=c("d3/time/year")(n).getDay();return Math.floor((c("d3/time/day").ofYear(n)+(o+l)%7)/7)-(o!==l);});c("d3/time/time")[k+"s"]=m.range;c("d3/time/time")[k+"s"].utc=m.utc.range;c("d3/time/time")[k+"OfYear"]=function(n){var o=c("d3/time/year")(n).getDay();return Math.floor((c("d3/time/day").ofYear(n)+(o+l)%7)/7);};});var j=c("d3/time/time").sunday;j.s=c("d3/time/time").sunday.range;j.s.utc=c("d3/time/time").sunday.utc.range;j.ofYear=c("d3/time/time").sundayOfYear;f.exports=j;}),null);
__d("d3/time/scale",["d3/scale/nice","d3/core/true","d3/core/bisect","d3/core/rebind","d3/time/second","d3/time/minute","d3/time/hour","d3/time/day","d3/time/week","d3/time/month","d3/time/year","d3/time/format","d3/scale/linear"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/scale\/nice")._nice,i=c("d3\/core\/true")._true;function j(v,w,x){function y(z){return v(z);}y.invert=function(z){return l(v.invert(z));};y.domain=function(z){if(!arguments.length)return v.domain().map(l);v.domain(z);return y;};y.nice=function(z){return y.domain(h(y.domain(),function(){return z;}));};y.ticks=function(z,aa){var ba=k(y.domain());if(typeof z!=="function"){var ca=ba[1]-ba[0],da=ca/z,ea=c("d3/core/bisect")(p,da);if(ea==p.length)return w.year(ba,z);if(!ea)return v.ticks(z).map(l);if(Math.log(da/p[ea-1])<Math.log(p[ea]/da))--ea;z=w[ea];aa=z[1];z=z[0].range;}return z(ba[0],new Date(+ba[1]+1),aa);};y.tickFormat=function(){return x;};y.copy=function(){return j(v.copy(),w,x);};return c("d3/core/rebind")(y,v,"range","rangeRound","interpolate","clamp");}function k(v){var w=v[0],x=v[v.length-1];return w<x?[w,x]:[x,w];}function l(v){return new Date(v);}function m(v){return function(w){var x=v.length-1,y=v[x];while(!y[1](w))y=v[--x];return y[0](w);};}function n(v){var w=new Date(v,0,1);w.setFullYear(v);return w;}function o(v){var w=v.getFullYear(),x=n(w),y=n(w+1);return w+(v-x)/(y-x);}var p=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2.592e+09,7.776e+09,3.1536e+10],q=[[c("d3/time/second"),1],[c("d3/time/second"),5],[c("d3/time/second"),15],[c("d3/time/second"),30],[c("d3/time/minute"),1],[c("d3/time/minute"),5],[c("d3/time/minute"),15],[c("d3/time/minute"),30],[c("d3/time/hour"),1],[c("d3/time/hour"),3],[c("d3/time/hour"),6],[c("d3/time/hour"),12],[c("d3/time/day"),1],[c("d3/time/day"),2],[c("d3/time/week"),1],[c("d3/time/month"),1],[c("d3/time/month"),3],[c("d3/time/year"),1]],r=[[c("d3/time/format")("%Y"),i],[c("d3/time/format")("%B"),function(v){return v.getMonth();}],[c("d3/time/format")("%b %d"),function(v){return v.getDate()!=1;}],[c("d3/time/format")("%a %d"),function(v){return v.getDay()&&v.getDate()!=1;}],[c("d3/time/format")("%I %p"),function(v){return v.getHours();}],[c("d3/time/format")("%I:%M"),function(v){return v.getMinutes();}],[c("d3/time/format")(":%S"),function(v){return v.getSeconds();}],[c("d3/time/format")(".%L"),function(v){return v.getMilliseconds();}]],s=c("d3/scale/linear")(),t=m(r);q.year=function(v,w){return s.domain(v.map(o)).ticks(w).map(n);};var u=function v(){return j(c("d3/scale/linear")(),q,t);};u._scaleLocalMethods=q;u._scaleLinear=s;u._scale=j;u._scaleFormat=m;f.exports=u;}),null);
__d("d3/time/scale-utc",["d3/time/scale","d3/core/true","d3/time/format-utc","d3/scale/linear"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/time/scale")._scaleLocalMethods,i=c("d3\/core\/true")._true,j=c("d3/time/scale")._scaleFormat,k=c("d3/time/scale")._scaleLinear,l=c("d3/time/scale")._scale,m=h.map(function(s){return [s[0].utc,s[1]];}),n=[[c("d3/time/format-utc")("%Y"),i],[c("d3/time/format-utc")("%B"),function(s){return s.getUTCMonth();}],[c("d3/time/format-utc")("%b %d"),function(s){return s.getUTCDate()!=1;}],[c("d3/time/format-utc")("%a %d"),function(s){return s.getUTCDay()&&s.getUTCDate()!=1;}],[c("d3/time/format-utc")("%I %p"),function(s){return s.getUTCHours();}],[c("d3/time/format-utc")("%I:%M"),function(s){return s.getUTCMinutes();}],[c("d3/time/format-utc")(":%S"),function(s){return s.getUTCSeconds();}],[c("d3/time/format-utc")(".%L"),function(s){return s.getUTCMilliseconds();}]],o=j(n);function p(s){var t=new Date(Date.UTC(s,0,1));t.setUTCFullYear(s);return t;}function q(s){var t=s.getUTCFullYear(),u=p(t),v=p(t+1);return t+(s-u)/(v-u);}m.year=function(s,t){return k.domain(s.map(q)).ticks(t).map(p);};var r=function s(){return l(c("d3/scale/linear")(),m,o);};f.exports=r;}),null);
__d("d3/d3.time",["d3/time/time","d3/time/format","d3/time/format-utc","d3/time/format-iso","d3/time/second","d3/time/minute","d3/time/hour","d3/time/day","d3/time/week","d3/time/month","d3/time/year","d3/time/scale","d3/time/scale-utc"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c("d3/time/time").format=c("d3\/time\/format");c("d3/time/time").format.utc=c("d3\/time\/format-utc");c("d3/time/time").format.iso=c("d3\/time\/format-iso");c("d3/time/time").second=c("d3\/time\/second");c("d3/time/time").seconds=c("d3\/time\/second").s;c("d3/time/time").minute=c("d3\/time\/minute");c("d3/time/time").minutes=c("d3\/time\/minute").s;c("d3/time/time").hour=c("d3\/time\/hour");c("d3/time/time").hours=c("d3\/time\/hour").s;c("d3/time/time").day=c("d3\/time\/day");c("d3/time/time").days=c("d3\/time\/day").s;c("d3/time/time").dayOfYear=c("d3\/time\/day").ofYear;c("d3/time/time").week=c("d3\/time\/week");c("d3/time/time").weeks=c("d3\/time\/week").s;c("d3/time/time").weekOfYear=c("d3\/time\/week").ofYear;c("d3/time/time").month=c("d3\/time\/month");c("d3/time/time").months=c("d3\/time\/month").s;c("d3/time/time").year=c("d3\/time\/year");c("d3/time/time").years=c("d3\/time\/year").s;c("d3/time/time").scale=c("d3\/time\/scale");c("d3/time/time").scale.utc=c("d3\/time\/scale-utc");f.exports=c("d3/time/time");}),null);
__d("d3/d3",["d3/d3.core","d3/d3.scale","d3/d3.svg","d3/d3.behavior","d3/d3.layout","d3/d3.geo","d3/d3.dsv","d3/d3.time","d3/d3.geom"],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c("d3/d3.core").scale=c("d3\/d3.scale");c("d3/d3.core").svg=c("d3\/d3.svg");c("d3/d3.core").behavior=c("d3\/d3.behavior");c("d3/d3.core").layout=c("d3\/d3.layout");c("d3/d3.core").geo=c("d3\/d3.geo");c("d3/d3.core").dsv=c("d3\/d3.dsv");c("d3/d3.core").time=c("d3\/d3.time");c("d3/d3.core").geom=c("d3\/d3.geom");f.exports=c("d3/d3.core");}),null);
__d('SphericalHeadingIndicator.react',['cx','d3/d3','degToRad','React','EventSubscription','shallowCompare'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'SphericalHeadingIndicator',_currentHeading:0,_currentFOV:0,_activeCount:0,_listeners:[],propTypes:{heading:i.number.isRequired,horizontalFieldOfView:i.number.isRequired,click:i.func,imageViewer:i.object.isRequired,recenterControl:i.object.isRequired,absoluteHeading:i.bool,auto:i.bool,fullscreen:i.bool},getInitialState:function k(){return {active:false};},shouldComponentUpdate:function k(l,m){return c('shallowCompare')(this,l,m);},drawArc:function k(l,m){this._currentHeading=l;this._currentFOV=m;var n=c('degToRad')(m),o=c('degToRad')(l-(this.props.absoluteHeading?0:this.props.heading)),p=this.props.auto?o+n/2:o-n/2,q=this.props.auto?o-n/2+2*Math.PI:o+n/2,r=c('d3/d3').svg.arc().innerRadius(this.props.fullscreen?5:3.5).outerRadius(this.props.fullscreen?13:9).startAngle(p).endAngle(q);c('d3/d3').select(this.refs.arc).attr('d',r);},setActive:function k(l){this._activeCount+=l?1:-1;if(l||this._activeCount===0)this.setState({active:l});},componentDidUpdate:function k(l,m){var n=l.heading!==this.props.heading?this.props.heading:this._currentHeading,o=l.horizontalFieldOfView!==this.props.horizontalFieldOfView?this.props.horizontalFieldOfView:this._currentFOV;this.drawArc(n,o);},componentDidMount:function k(){this.drawArc(this.props.heading,this.props.horizontalFieldOfView);this._listeners.push(this.props.imageViewer.addListener('updateViewportBegin',function(){return this.setActive(true);}.bind(this)));this._listeners.push(this.props.imageViewer.addListener('updateViewportEnd',function(){return setTimeout(function(){return this.setActive(false);}.bind(this),1000);}.bind(this)));this._listeners.push(this.props.imageViewer.addListener('viewportChange',function(l,m,n){this._currentFOV=n;this.drawArc(l,this._currentFOV);}.bind(this)));this._listeners.push(this.props.recenterControl.addListener('animationStart',function(){return this.setActive(true);}.bind(this)));this._listeners.push(this.props.recenterControl.addListener('animationEnd',function(){return setTimeout(function(){return this.setActive(false);}.bind(this),1000);}.bind(this)));},componentWillUnmount:function k(){this._removeListeners();},_removeListeners:function k(){this._listeners.forEach(function(l){return l.remove();});this._listeners=[];},render:function k(){var l=this.props.fullscreen?50:35,m=l/2,n=this.props.fullscreen?'22.75,7 27.25,7 25,2.5':'15,5 20,5 17.5,2',o='translate('+m+','+m+')',p=c('React').createElement('circle',{className:"_4zph",cx:m,cy:m,r:this.props.fullscreen?17.25:12,style:{strokeWidth:this.props.fullscreen?1.5:1}}),q=this.props.auto?null:c('React').createElement('circle',{cx:m,cy:m,r:this.props.fullscreen?3:2}),r=this.props.auto?c('React').createElement('circle',{className:"_5qyh",cx:m,cy:m,r:this.props.fullscreen?14.75:10.25,style:{strokeWidth:this.props.fullscreen?3.75:2.75}}):null,s=this.props.auto?c('React').createElement('circle',{className:"_5qyh",cx:m,cy:m,r:this.props.fullscreen?4:2.75,style:{strokeWidth:this.props.fullscreen?2.25:1.75}}):null,t=this.props.auto?c('React').createElement('div',{className:"_5qyr",style:{top:this.props.fullscreen?'54.5px':'38px'}},'AUTO'):null;return (c('React').createElement('div',{className:"_5qys"+(this.state.active?' '+"_4zpe":''),style:{width:l+'px',height:l+'px'}},c('React').createElement('svg',{onClick:this.props.click,className:"_5qyy",width:l,height:l},c('React').createElement('g',{className:"_4zpd"+(this.state.active?' '+"_4zpe":'')},c('React').createElement('circle',{cx:m,cy:m,r:m}),c('React').createElement('g',{className:"_4zpf"+(this.state.active?' '+"_4zpe":'')},c('React').createElement('circle',{className:"_4zpg",cx:m,cy:m,r:m}),p,r,s,q,c('React').createElement('polygon',{points:n}),c('React').createElement('g',{transform:o},c('React').createElement('path',{ref:'arc'}))))),t));}});f.exports=j;}),null);
__d('easeInOutInterpolate',['invariant'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=function j(k){!(k>=0&&k<=1)?h(0):void 0;return Math.cos((k+1)*Math.PI)/2+.5;};f.exports=i;}),null);
__d('SphericalRecenterControl',['easeInOutInterpolate','requestAnimationFrame','SphericalImageViewer','EventEmitter'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=1000;h=babelHelpers.inherits(k,c('EventEmitter'));i=h&&h.prototype;function k(l,m,n){'use strict';i.constructor.call(this);this.$SphericalRecenterControl3=l;this.$SphericalRecenterControl2=n;this.$SphericalRecenterControl1=false;this.$SphericalRecenterControl7=this.$SphericalRecenterControl9.bind(this);this.$SphericalRecenterControl6={x:m.x,y:m.y};this.$SphericalRecenterControl5=this.$SphericalRecenterControl6;l.addListener('updateViewportBegin',function(){return this.$SphericalRecenterControl10();}.bind(this));l.addListener('viewportChange',function(o,p){return this.$SphericalRecenterControl5={x:o,y:p};}.bind(this));}k.prototype.recenter=function(){'use strict';if(this.$SphericalRecenterControl1||this.$SphericalRecenterControl2)return;this.$SphericalRecenterControl1=true;this.$SphericalRecenterControl4=Date.now();var l=this.$SphericalRecenterControl5,m=this.$SphericalRecenterControl6.x-l.x;if(Math.abs(m)>180)m=m>0?m-360:m+360;this.$SphericalRecenterControl8={basePitch:l.y,deltaPitch:this.$SphericalRecenterControl6.y-l.y,baseYaw:l.x,deltaYaw:m};this.emit('animationStart');c('requestAnimationFrame')(this.$SphericalRecenterControl7);};k.prototype.$SphericalRecenterControl10=function(){'use strict';this.$SphericalRecenterControl1=false;};k.prototype.$SphericalRecenterControl9=function(){'use strict';if(!this.$SphericalRecenterControl1){this.emit('animationEnd');return;}var l=Date.now();if(l-this.$SphericalRecenterControl4>j){this.$SphericalRecenterControl1=false;this.emit('animationEnd');return;}c('requestAnimationFrame')(this.$SphericalRecenterControl7);var m=this.$SphericalRecenterControl8,n=c('easeInOutInterpolate')((l-this.$SphericalRecenterControl4)/j),o=m.deltaPitch*n+m.basePitch,p=m.deltaYaw*n+m.baseYaw;this.$SphericalRecenterControl3.setSphericalOrientation(p,o);};f.exports=k;}),null);
__d('SphericalImageHeadingIndicator',['cx','Event','DeferredComponent.react','React','ReactDOM','SphericalImageViewer','SphericalRecenterControl','cancelAnimationFrame','destroyOnUnload','requestAnimationFrame','SphericalPhotoViewerLoggerUtil'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('SphericalPhotoViewerLoggerUtil').logTapHeadingIndicator;function j(k,l,m,n,o){'use strict';this.$SphericalImageHeadingIndicator1=o;this.$SphericalImageHeadingIndicator2=k;this.$SphericalImageHeadingIndicator4=l;this.$SphericalImageHeadingIndicator8=m;this.$SphericalImageHeadingIndicator9=n;this.$SphericalImageHeadingIndicator5=null;this.$SphericalImageHeadingIndicator11=k.getOrientation();this.$SphericalImageHeadingIndicator12();c('destroyOnUnload')(function(){return this.$SphericalImageHeadingIndicator13();}.bind(this));}j.prototype.$SphericalImageHeadingIndicator13=function(){'use strict';if(this.$SphericalImageHeadingIndicator10){this.$SphericalImageHeadingIndicator10.remove();this.$SphericalImageHeadingIndicator10=null;}c('ReactDOM').unmountComponentAtNode(this.$SphericalImageHeadingIndicator4);};j.prototype.setFullscreen=function(k){'use strict';if(this.$SphericalImageHeadingIndicator9!=k)this.$SphericalImageHeadingIndicator14();this.$SphericalImageHeadingIndicator9=k;};j.prototype.$SphericalImageHeadingIndicator12=function(){'use strict';this.$SphericalImageHeadingIndicator3=new (c('SphericalRecenterControl'))(this.$SphericalImageHeadingIndicator2,this.$SphericalImageHeadingIndicator11,false);this.$SphericalImageHeadingIndicator14();this.$SphericalImageHeadingIndicator10=c('Event').listen(this.$SphericalImageHeadingIndicator4,'click',function(k){return this.$SphericalImageHeadingIndicator15(k);}.bind(this));};j.prototype.$SphericalImageHeadingIndicator15=function(k){'use strict';c('Event').kill(k);this.$SphericalImageHeadingIndicator3.recenter();i({photoID:this.$SphericalImageHeadingIndicator1});};j.prototype.$SphericalImageHeadingIndicator14=function(){'use strict';c('cancelAnimationFrame')(this.$SphericalImageHeadingIndicator5);this.$SphericalImageHeadingIndicator5=c('requestAnimationFrame')(function(){return this.$SphericalImageHeadingIndicator16();}.bind(this));};j.prototype.$SphericalImageHeadingIndicator16=function(){'use strict';c('ReactDOM').render(c('React').createElement('button',{className:"_q52"+(this.$SphericalImageHeadingIndicator8?' '+"_42a0":'')},c('React').createElement(c('DeferredComponent.react'),{deferredPlaceholder:c('React').createElement('span',null),deferredComponent:function k(l){return (e(['SphericalHeadingIndicator.react'],l));},heading:this.$SphericalImageHeadingIndicator11.x,horizontalFieldOfView:this.$SphericalImageHeadingIndicator2.getHorizontalFieldOfView(),imageViewer:this.$SphericalImageHeadingIndicator2,recenterControl:this.$SphericalImageHeadingIndicator3,fullscreen:this.$SphericalImageHeadingIndicator9})),this.$SphericalImageHeadingIndicator4);};f.exports=j;}),null);
__d('SphericalMediaActions',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={TURN_ON:'TURN_ON',TURN_OFF:'TURN_OFF',ENABLE_SPHERICAL:'ENABLE_SPHERICAL',DISABLE_SPHERICAL:'DISABLE_SPHERICAL',REQUEST_PHOTO_FAILED:'REQUEST_PHOTO_FAILED',REQUEST_PHOTO:'REQUEST_PHOTO',RECEIVE_PHOTO:'RECEIVE_PHOTO',UPDATE_CONTROLLER:'UPDATE_CONTROLLER',DRAG_START:'DRAG_START',UPDATE_RENDERER:'UPDATE_RENDERER',UPDATE_VIEWPORT:'UPDATE_VIEWPORT',UPDATE_FOV:'UPDATE_FOV',UPDATE_VIEWPORT_AND_FOV:'UPDATE_VIEWPORT_AND_FOV',UPDATE_DIMENSION:'UPDATE_DIMENSION',UPDATE_INITIAL_FOV:'UPDATE_INITIAL_FOV',UPDATE_INITIAL_VIEWPORT:'UPDATE_INITIAL_VIEWPORT',SETUP_RENDERER:'SETUP_RENDERER',START_ANIMATING:'START_ANIMATING',STOP_ANIMATING:'STOP_ANIMATING',WEBGL_INIT_FAILED:'WEBGL_INIT_FAILED',UPDATE_SOURCE:'UPDATE_SOURCE',SOURCE_ONLOAD:'SOURCE_ONLOAD',UPDATE_PHOTO_EDIT:'UPDATE_PHOTO_EDIT',CANCEL_EDITING:'CANCEL_EDITING',START_EDITING:'START_EDITING',STOP_EDITING:'STOP_EDITING',UPDATE_PHOTO:'UPDATE_PHOTO',UPDATE_PHOTO_FAILED:'UPDATE_PHOTO_FAILED',UPDATE_PHOTO_DONE:'UPDATE_PHOTO_DONE',RESET_MOUSE_ANIMATION:'RESET_MOUSE_ANIMATION',START_MOUSE_ANIMATION:'START_MOUSE_ANIMATION',STOP_MOUSE_ANIMATION:'STOP_MOUSE_ANIMATION',DISABLE_SPHERICAL_ON_SAVE:'DISABLE_SPHERICAL_ON_SAVE',ENABLE_SPHERICAL_ON_SAVE:'ENABLE_SPHERICAL_ON_SAVE',ENABLE_EDITING:'ENABLE_EDITING',DISABLE_EDITING:'DISABLE_EDITING',TAKE_STATE_SNAPSHOT:'TAKE_STATE_SNAPSHOT',RESORE_STATE_FROM_SNAPSHOT:'RESORE_STATE_FROM_SNAPSHOT',REMOVE_STATE_SNAPSHOT:'REMOVE_STATE_SNAPSHOT'};}),null);
__d('SphericalMediaBootloaded.react',['cx','BootloadedComponent.react','JSResource','LoadingIndicator.react','React','SphericalMediaConstants'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('SphericalMediaConstants').COMP_PHOTO_EDIT_THUMB,l=c('SphericalMediaConstants').COMP_PHOTO_VIEWER,m=function o(p,q){return (c('React').createElement('div',{className:p,style:q},c('React').createElement(c('LoadingIndicator.react'),{className:"_4qlq _5nxw",size:'small',color:'white'})));};i=babelHelpers.inherits(n,c('React').PureComponent);j=i&&i.prototype;n.prototype.render=function(){'use strict';var o=void 0;switch(this.props.componentName){case k:var p=this.props.loadingElement||m("_7d7",{width:this.props.width,height:this.props.height});return (c('React').createElement(c('BootloadedComponent.react'),babelHelpers['extends']({bootloadLoader:c('JSResource')('SphericalPhotoEditThumbnail.react').__setRef('SphericalMediaBootloaded.react'),bootloadPlaceholder:p},this.props)));case l:o=c('React').createElement('div',null);return (c('React').createElement(c('BootloadedComponent.react'),babelHelpers['extends']({bootloadLoader:c('JSResource')('SphericalPhotoViewer.react').__setRef('SphericalMediaBootloaded.react'),bootloadPlaceholder:o},this.props)));default:return null;}};function n(){'use strict';i.apply(this,arguments);}f.exports=n;}),null);
__d('SphericalMediaActionNamespaces',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={CORE:'CORE',RENDERER:'RENDERER',SOURCE:'SOURCE',CONTROLLER:'CONTROLLER',PHOTO_EDIT:'PHOTO_EDIT'};}),null);
__d('SphericalMediaRendererActions',['SphericalMediaActionNamespaces','SphericalMediaActions'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={updateRenderer:function h(i){return {namespace:c('SphericalMediaActionNamespaces').RENDERER,type:c('SphericalMediaActions').UPDATE_RENDERER,data:i};},updateViewport:function h(i,j){return {namespace:c('SphericalMediaActionNamespaces').RENDERER,type:c('SphericalMediaActions').UPDATE_VIEWPORT,data:{yaw:i,pitch:j}};},updateFOV:function h(i){return {namespace:c('SphericalMediaActionNamespaces').RENDERER,type:c('SphericalMediaActions').UPDATE_FOV,data:{fov:i}};},updateViewportAndFOV:function h(i,j,k){return {namespace:c('SphericalMediaActionNamespaces').RENDERER,type:c('SphericalMediaActions').UPDATE_VIEWPORT_AND_FOV,data:{yaw:i,pitch:j,fov:k}};},updateDimension:function h(i,j){return {namespace:c('SphericalMediaActionNamespaces').RENDERER,type:c('SphericalMediaActions').UPDATE_DIMENSION,data:{width:i,height:j}};},updateInitialViewport:function h(i,j){return {namespace:c('SphericalMediaActionNamespaces').RENDERER,type:c('SphericalMediaActions').UPDATE_INITIAL_VIEWPORT,data:{initialYaw:i,initialPitch:j}};},updateInitialFOV:function h(i){return {namespace:c('SphericalMediaActionNamespaces').RENDERER,type:c('SphericalMediaActions').UPDATE_INITIAL_FOV,data:{initialFov:i}};},setupRenderer:function h(i){return {namespace:c('SphericalMediaActionNamespaces').RENDERER,type:c('SphericalMediaActions').SETUP_RENDERER,data:i};},startAnimating:function h(){return {namespace:c('SphericalMediaActionNamespaces').RENDERER,type:c('SphericalMediaActions').START_ANIMATING};},stopAnimating:function h(){return {namespace:c('SphericalMediaActionNamespaces').RENDERER,type:c('SphericalMediaActions').STOP_ANIMATING};},webGlInitFailed:function h(){return {namespace:c('SphericalMediaActionNamespaces').RENDERER,type:c('SphericalMediaActions').WEBGL_INIT_FAILED};}};}),null);
__d('SphericalMediaUtils',['UserAgent'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('UserAgent').isBrowser('Chrome'),i=c('UserAgent').isBrowser('Safari'),j=c('UserAgent').isBrowser('Firefox');f.exports={getZoomLevel:function k(){var l=void 0;if(h||i){l=Math.round(window.outerWidth/window.innerWidth);}else if(j)l=Math.round(window.devicePixelRatio);return l||1;},getPixelRatio:function k(){return window.devicePixelRatio||1;}};}),null);
__d('SphericalPhotoPlaceHolderWithGyroOverlay.react',['cx','Image.react','React','SphericalMediaGyroOverlay.react'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:"_5nxw _1c1o"},c('React').createElement(c('Image.react'),{className:"_1c1p",height:this.props.height,src:this.props.placeholderImageURL,width:this.props.width}),c('React').createElement(c('SphericalMediaGyroOverlay.react'),{className:"_1c1q",isActive:true,isInfinite:true})));};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('PhotoSnowliftViewableSphericalPhoto',['cx','CSS','DOM','EncryptedImg','Event','FullScreen','ImageUtils','React','ReactDOM','ResizeEventHandler','SubscriptionsHandler','SphericalMediaActions','SphericalMediaBootloaded.react','SphericalMediaUtils','SphericalCastingButton','SphericalImageHeadingIndicator','SphericalImageViewer','SphericalPhotoCastingComponent','SphericalPhotoConfig','SphericalPhotoPlaceHolderWithGyroOverlay.react','Vector','VideoProjection','PhotoSnowliftViewable','SphericalMediaConstants','SphericalMediaRendererActions','getViewportDimensions','SphericalPhotoViewerLoggerUtil'],(function a(b,c,d,e,f,g,h){var i,j,k,l;if(c.__markCompiled)c.__markCompiled();var m=c('PhotoSnowliftViewable').Viewable,n=c('SphericalMediaConstants').COMP_PHOTO_VIEWER,o=c('SphericalMediaRendererActions').updateDimension,p=c('SphericalPhotoViewerLoggerUtil').logEnterSnowlift,q=c('SphericalPhotoViewerLoggerUtil').logExitSnowlift,r=c('SphericalPhotoViewerLoggerUtil').logEnterFullScreen,s=c('SphericalPhotoViewerLoggerUtil').logExitFullScreen,t=2000*16;function u(aa,ba){var ca;if(aa.src&&aa.complete){setTimeout(ba,0);}else (function(){var da=c('Event').listen(aa,'load',function(){da.remove();ba();});})();}function v(aa,ba){if(c('EncryptedImg').isEncrypted(ba)){c('EncryptedImg').insertIntoDOM(ba,aa);}else aa.src=ba;}i=babelHelpers.inherits(w,m);j=i&&i.prototype;function w(aa,ba,ca,da,ea,fa,ga,ha){var ia=arguments.length<=8||arguments[8]===undefined?false:arguments[8],ja=arguments[9],ka=arguments[10],la=arguments[11];'use strict';j.constructor.call(this,t);x.call(this);this.$PhotoSnowliftViewableSphericalPhotoLegacy5=ja;this.$PhotoSnowliftViewableSphericalPhotoLegacy15=aa;this.$PhotoSnowliftViewableSphericalPhotoLegacy14=ba;this.$PhotoSnowliftViewableSphericalPhotoLegacy9=ia;this.$PhotoSnowliftViewableSphericalPhotoLegacy2=ca;this.$PhotoSnowliftViewableSphericalPhotoLegacy3=da;this.$PhotoSnowliftViewableSphericalPhotoLegacy4=ea;this.$PhotoSnowliftViewableSphericalPhotoLegacy11=fa;this.$PhotoSnowliftViewableSphericalPhotoLegacy12=ga;this.$PhotoSnowliftViewableSphericalPhotoLegacy13=ha;this.$PhotoSnowliftViewableSphericalPhotoLegacy6=false;this.$PhotoSnowliftViewableSphericalPhotoLegacy17=ka;this.$PhotoSnowliftViewableSphericalPhotoLegacy18=la;this.addListener('cubestriploaded',function(ma){return this.$PhotoSnowliftViewableSphericalPhotoLegacy22(ma);}.bind(this));this.addListener('initialviewloaded',function(ma){return this.$PhotoSnowliftViewableSphericalPhotoLegacy23(ma);}.bind(this));this.addListener('ready',function(){return this.$PhotoSnowliftViewableSphericalPhotoLegacy24();}.bind(this));this.$PhotoSnowliftViewableSphericalPhotoLegacy25();}w.prototype.$PhotoSnowliftViewableSphericalPhotoLegacy25=function(){'use strict';var aa=this.getElement();this.$PhotoSnowliftViewableSphericalPhotoLegacy1=c('DOM').create('img',{className:'hidden_elem'});this.$PhotoSnowliftViewableSphericalPhotoLegacy1.crossOrigin='anonymous';v(this.$PhotoSnowliftViewableSphericalPhotoLegacy1,this.$PhotoSnowliftViewableSphericalPhotoLegacy2);aa.appendChild(this.$PhotoSnowliftViewableSphericalPhotoLegacy1);this.$PhotoSnowliftViewableSphericalPhotoLegacy10=c('DOM').create('img',{});v(this.$PhotoSnowliftViewableSphericalPhotoLegacy10,this.$PhotoSnowliftViewableSphericalPhotoLegacy26());aa.appendChild(this.$PhotoSnowliftViewableSphericalPhotoLegacy10);var ba=this.$PhotoSnowliftViewableSphericalPhotoLegacy10;u(this.$PhotoSnowliftViewableSphericalPhotoLegacy10,function(){return this.emit('initialviewloaded',ba);}.bind(this));this.$PhotoSnowliftViewableSphericalPhotoLegacy7=c('DOM').create('div',{className:"_3lfe"});var ca=new (c('ResizeEventHandler'))(this.setDimensionsToRoot);this.$PhotoSnowliftViewableSphericalPhotoLegacy19=c('Event').listen(window,'resize',ca.handleEvent);aa.appendChild(this.$PhotoSnowliftViewableSphericalPhotoLegacy7);this.$PhotoSnowliftViewableSphericalPhotoLegacy21=c('DOM').create('div',{});aa.appendChild(this.$PhotoSnowliftViewableSphericalPhotoLegacy21);p({photoID:this.$PhotoSnowliftViewableSphericalPhotoLegacy18});};w.prototype.$PhotoSnowliftViewableSphericalPhotoLegacy23=function(aa){'use strict';if(this.$PhotoSnowliftViewableSphericalPhotoLegacy10!==aa)return;var ba=this.$PhotoSnowliftViewableSphericalPhotoLegacy1;u(this.$PhotoSnowliftViewableSphericalPhotoLegacy1,function(){return this.emit('cubestriploaded',ba);}.bind(this));};w.prototype.$PhotoSnowliftViewableSphericalPhotoLegacy22=function(aa){'use strict';if(this.$PhotoSnowliftViewableSphericalPhotoLegacy1!==aa)return;this.emit('ready');this.setDimensionsToRoot();};w.prototype.suspend=function(){'use strict';if(this.$PhotoSnowliftViewableSphericalPhotoLegacy16)this.$PhotoSnowliftViewableSphericalPhotoLegacy16.suspend();};w.prototype.resume=function(){'use strict';if(this.$PhotoSnowliftViewableSphericalPhotoLegacy16)this.$PhotoSnowliftViewableSphericalPhotoLegacy16.resume();};w.prototype.reload=function(){'use strict';this.$PhotoSnowliftViewableSphericalPhotoLegacy25();};w.prototype.hide=function(){'use strict';if(c('CSS').shown(this.getElement()))q({photoID:this.$PhotoSnowliftViewableSphericalPhotoLegacy18});j.hide.call(this);if(this.$PhotoSnowliftViewableSphericalPhotoLegacy19){this.$PhotoSnowliftViewableSphericalPhotoLegacy19.remove();this.$PhotoSnowliftViewableSphericalPhotoLegacy19=null;}};w.prototype.$PhotoSnowliftViewableSphericalPhotoLegacy27=function(aa){'use strict';var ba={projectionType:c('VideoProjection').UNPADDED_CUBESTRIP,fieldOfView:this.$PhotoSnowliftViewableSphericalPhotoLegacy11,initialHeading:this.$PhotoSnowliftViewableSphericalPhotoLegacy13,initialPitch:this.$PhotoSnowliftViewableSphericalPhotoLegacy12,enableZoom:true};if(!aa&&this.$PhotoSnowliftViewableSphericalPhotoLegacy17)ba.partialLimits=this.$PhotoSnowliftViewableSphericalPhotoLegacy17;return ba;};w.prototype.$PhotoSnowliftViewableSphericalPhotoLegacy24=function(){'use strict';var aa=this.$PhotoSnowliftViewableSphericalPhotoLegacy27(this.$PhotoSnowliftViewableSphericalPhotoLegacy6),ba=this.getNaturalDimensions();if(c('SphericalPhotoConfig').connected_tv_cast_spherical_photo){var ca=700,da={WWW:ba.x,TV:ca},ea={WWW:ba.y,TV:ca};this.$PhotoSnowliftViewableSphericalPhotoLegacy16=new (c('SphericalPhotoCastingComponent'))(this.getElement(),this.$PhotoSnowliftViewableSphericalPhotoLegacy1,this.$PhotoSnowliftViewableSphericalPhotoLegacy10,null,this.$PhotoSnowliftViewableSphericalPhotoLegacy3,this.$PhotoSnowliftViewableSphericalPhotoLegacy4,aa,da,ea,this.$PhotoSnowliftViewableSphericalPhotoLegacy18,this.$PhotoSnowliftViewableSphericalPhotoLegacy2,this.$PhotoSnowliftViewableSphericalPhotoLegacy26());}else this.$PhotoSnowliftViewableSphericalPhotoLegacy16=new (c('SphericalImageViewer'))(this.getElement(),this.$PhotoSnowliftViewableSphericalPhotoLegacy1,this.$PhotoSnowliftViewableSphericalPhotoLegacy10,null,this.$PhotoSnowliftViewableSphericalPhotoLegacy3,this.$PhotoSnowliftViewableSphericalPhotoLegacy4,aa,ba.x,ba.y,this.$PhotoSnowliftViewableSphericalPhotoLegacy18);this.$PhotoSnowliftViewableSphericalPhotoLegacy8=new (c('SphericalImageHeadingIndicator'))(this.$PhotoSnowliftViewableSphericalPhotoLegacy16,this.$PhotoSnowliftViewableSphericalPhotoLegacy7,false,c('FullScreen').isFullScreen(),this.$PhotoSnowliftViewableSphericalPhotoLegacy18);if(this.$PhotoSnowliftViewableSphericalPhotoLegacy16)this.$PhotoSnowliftViewableSphericalPhotoLegacy20=new (c('SphericalCastingButton'))(this.$PhotoSnowliftViewableSphericalPhotoLegacy16,this.$PhotoSnowliftViewableSphericalPhotoLegacy21,true);};w.prototype.$PhotoSnowliftViewableSphericalPhotoLegacy26=function(){'use strict';if(this.$PhotoSnowliftViewableSphericalPhotoLegacy9)return this.$PhotoSnowliftViewableSphericalPhotoLegacy15;return this.$PhotoSnowliftViewableSphericalPhotoLegacy14||this.$PhotoSnowliftViewableSphericalPhotoLegacy15;};w.prototype.getNaturalDimensions=function(){'use strict';if(this.$PhotoSnowliftViewableSphericalPhotoLegacy6){var aa=c('getViewportDimensions')();return c('Vector').from(aa.width,aa.height);}if(this.$PhotoSnowliftViewableSphericalPhotoLegacy5)return this.$PhotoSnowliftViewableSphericalPhotoLegacy5;if(this.$PhotoSnowliftViewableSphericalPhotoLegacy10&&this.$PhotoSnowliftViewableSphericalPhotoLegacy10.naturalWidth&&this.$PhotoSnowliftViewableSphericalPhotoLegacy10.naturalHeight)return c('Vector').from(this.$PhotoSnowliftViewableSphericalPhotoLegacy10.naturalWidth,this.$PhotoSnowliftViewableSphericalPhotoLegacy10.naturalHeight);return j.getNaturalDimensions.call(this);};w.prototype.isReady=function(){'use strict';return (this.$PhotoSnowliftViewableSphericalPhotoLegacy10&&this.$PhotoSnowliftViewableSphericalPhotoLegacy10.src&&c('ImageUtils').hasLoaded(this.$PhotoSnowliftViewableSphericalPhotoLegacy10)||this.$PhotoSnowliftViewableSphericalPhotoLegacy1&&this.$PhotoSnowliftViewableSphericalPhotoLegacy1.src&&c('ImageUtils').hasLoaded(this.$PhotoSnowliftViewableSphericalPhotoLegacy1));};w.prototype.onToggleIntoFullScreen=function(){'use strict';};w.prototype.onEnterFullScreen=function(){'use strict';if(this.$PhotoSnowliftViewableSphericalPhotoLegacy6)return;var aa=this.$PhotoSnowliftViewableSphericalPhotoLegacy16;this.$PhotoSnowliftViewableSphericalPhotoLegacy6=true;var ba=c('getViewportDimensions')(),ca=c('Vector').from(ba.width,ba.height);this.setDimensions(ca);if(aa){var da=this.$PhotoSnowliftViewableSphericalPhotoLegacy27(this.$PhotoSnowliftViewableSphericalPhotoLegacy6);aa.reconfigure(da);aa.setDimensions(ca);}if(this.$PhotoSnowliftViewableSphericalPhotoLegacy8)this.$PhotoSnowliftViewableSphericalPhotoLegacy8.setFullscreen(true);r({photoID:this.$PhotoSnowliftViewableSphericalPhotoLegacy18});};w.prototype.onExitFullScreen=function(){'use strict';if(!this.$PhotoSnowliftViewableSphericalPhotoLegacy6)return;var aa=this.$PhotoSnowliftViewableSphericalPhotoLegacy16;this.$PhotoSnowliftViewableSphericalPhotoLegacy6=false;var ba=this.getNaturalDimensions();this.setDimensions(ba);if(aa){var ca=this.$PhotoSnowliftViewableSphericalPhotoLegacy27(this.$PhotoSnowliftViewableSphericalPhotoLegacy6);aa.reconfigure(ca);aa.setDimensions(ba);}if(this.$PhotoSnowliftViewableSphericalPhotoLegacy8)this.$PhotoSnowliftViewableSphericalPhotoLegacy8.setFullscreen(false);s({photoID:this.$PhotoSnowliftViewableSphericalPhotoLegacy18});};w.prototype.getOrientation=function(){'use strict';if(this.$PhotoSnowliftViewableSphericalPhotoLegacy16){return this.$PhotoSnowliftViewableSphericalPhotoLegacy16.getOrientation();}else return null;};var x=function aa(){this.setDimensionsToRoot=function(){var ba=this.$PhotoSnowliftViewableSphericalPhotoLegacy7;if(!ba)return;var ca=c('Vector').from(ba.offsetWidth,ba.offsetHeight);this.setDimensions(ca);var da=this.$PhotoSnowliftViewableSphericalPhotoLegacy16;if(da)da.setDimensions(ca);}.bind(this);};k=babelHelpers.inherits(y,m);l=k&&k.prototype;function y(aa,ba,ca,da,ea,fa,ga,ha){var ia=arguments.length<=8||arguments[8]===undefined?false:arguments[8],ja=arguments[9],ka=arguments[10],la=arguments[11];'use strict';l.constructor.call(this,t);z.call(this);this.$PhotoSnowliftViewableSphericalPhoto1=ca;this.$PhotoSnowliftViewableSphericalPhoto2=ja;this.$PhotoSnowliftViewableSphericalPhoto5=la;this.$PhotoSnowliftViewableSphericalPhoto6=false;this.$PhotoSnowliftViewableSphericalPhoto7=ia;this.$PhotoSnowliftViewableSphericalPhoto8=false;this.$PhotoSnowliftViewableSphericalPhoto11=ka;this.$PhotoSnowliftViewableSphericalPhoto14=aa;this.$PhotoSnowliftViewableSphericalPhoto13=new (c('SubscriptionsHandler'))();this.$PhotoSnowliftViewableSphericalPhoto12=ba;this.$PhotoSnowliftViewableSphericalPhoto4=c('DOM').create('div',{className:"_zq_ _5nxw"});this.$PhotoSnowliftViewableSphericalPhoto3=c('DOM').create('div',{className:"_zr0 _5nxw"});this.getElement().appendChild(this.$PhotoSnowliftViewableSphericalPhoto4);this.getElement().appendChild(this.$PhotoSnowliftViewableSphericalPhoto3);c('CSS').addClass(this.getElement(),"_zr1");this.$PhotoSnowliftViewableSphericalPhoto9={pitch:ga,yaw:ha};this.$PhotoSnowliftViewableSphericalPhoto10=fa;this.$PhotoSnowliftViewableSphericalPhoto15();p({photoID:this.$PhotoSnowliftViewableSphericalPhoto5});}y.prototype.$PhotoSnowliftViewableSphericalPhoto15=function(){'use strict';var aa=this.$PhotoSnowliftViewableSphericalPhoto16();c('ReactDOM').render(c('React').createElement(c('SphericalPhotoPlaceHolderWithGyroOverlay.react'),{placeholderImageURL:this.$PhotoSnowliftViewableSphericalPhoto17()}),this.$PhotoSnowliftViewableSphericalPhoto3);c('ReactDOM').render(c('React').createElement(c('SphericalMediaBootloaded.react'),{componentName:n,cubeImageURI:this.$PhotoSnowliftViewableSphericalPhoto1,enableZoom:true,height:aa.y,initialFOV:this.$PhotoSnowliftViewableSphericalPhoto10,initialImageURI:this.$PhotoSnowliftViewableSphericalPhoto17(),initialViewport:this.$PhotoSnowliftViewableSphericalPhoto9,photoID:this.$PhotoSnowliftViewableSphericalPhoto5,partialLimits:this.$PhotoSnowliftViewableSphericalPhoto11,middlewares:[this.$PhotoSnowliftViewableSphericalPhoto18,this.$PhotoSnowliftViewableSphericalPhoto19],width:aa.x}),this.$PhotoSnowliftViewableSphericalPhoto4);this.$PhotoSnowliftViewableSphericalPhoto8=true;this.emit('ready');};y.prototype.suspend=function(){'use strict';c('ReactDOM').unmountComponentAtNode(this.getElement());};y.prototype.resume=function(){'use strict';!this.$PhotoSnowliftViewableSphericalPhoto20&&this.$PhotoSnowliftViewableSphericalPhoto15();};y.prototype.reload=function(){'use strict';this.$PhotoSnowliftViewableSphericalPhoto15();};y.prototype.hide=function(){'use strict';if(c('CSS').shown(this.getElement()))q({photoID:this.$PhotoSnowliftViewableSphericalPhoto5});l.hide.call(this);};y.prototype.getDimensions=function(){'use strict';var aa=c('getViewportDimensions')();return c('Vector').from(aa.width,aa.height);};y.prototype.$PhotoSnowliftViewableSphericalPhoto16=function(){'use strict';return c('Vector').getElementDimensions(this.getElement());};y.prototype.$PhotoSnowliftViewableSphericalPhoto21=function(aa){'use strict';var ba=this.getElement().parentElement,ca=new (c('Vector'))(aa.x,aa.y);if(ba){var da=c('Vector').getElementDimensions(ba),ea=c('Vector').getElementDimensions(this.getElement());if(da.x!==ea.x||ca.x<da.x||ca.y<da.y){ca.x=da.x;ca.y=da.y;}}return ca;};y.prototype.isReady=function(){'use strict';return this.$PhotoSnowliftViewableSphericalPhoto8;};y.prototype.setDimensions=function(aa){'use strict';l.setDimensions.call(this,this.$PhotoSnowliftViewableSphericalPhoto21(aa));this.emit('onSetDimensions');};y.prototype.onToggleIntoFullScreen=function(){'use strict';};y.prototype.onEnterFullScreen=function(){'use strict';if(this.$PhotoSnowliftViewableSphericalPhoto6)return;this.$PhotoSnowliftViewableSphericalPhoto6=true;this.emit('onEnterFullScreen');r({photoID:this.$PhotoSnowliftViewableSphericalPhoto5});};y.prototype.onExitFullScreen=function(){'use strict';if(!this.$PhotoSnowliftViewableSphericalPhoto6)return;this.$PhotoSnowliftViewableSphericalPhoto6=false;this.emit('onExitFullScreen');s({photoID:this.$PhotoSnowliftViewableSphericalPhoto5});};y.prototype.$PhotoSnowliftViewableSphericalPhoto17=function(){'use strict';return this.$PhotoSnowliftViewableSphericalPhoto7?this.$PhotoSnowliftViewableSphericalPhoto14:this.$PhotoSnowliftViewableSphericalPhoto12||this.$PhotoSnowliftViewableSphericalPhoto14;};var z=function aa(){this.$PhotoSnowliftViewableSphericalPhoto18=function(){return function(ba){return function(ca){if(ca.type===c('SphericalMediaActions').SETUP_RENDERER)c('CSS').hide(this.$PhotoSnowliftViewableSphericalPhoto3);return ba(ca);}.bind(this);}.bind(this);}.bind(this);this.$PhotoSnowliftViewableSphericalPhoto19=function(ba){var ca=ba.dispatch;return function(da){return function(ea){if(ea.type===c('SphericalMediaActions').TURN_ON){var fa=function(){var ga=this.$PhotoSnowliftViewableSphericalPhoto16();ca(o(ga.x,ga.y));}.bind(this);this.$PhotoSnowliftViewableSphericalPhoto13.addSubscriptions(this.addListener('onEnterFullScreen',fa),this.addListener('onExitFullScreen',fa),this.addListener('onSetDimensions',fa));fa();}else if(ea.type===c('SphericalMediaActions').TURN_OFF)this.$PhotoSnowliftViewableSphericalPhoto13.release();return da(ea);}.bind(this);}.bind(this);}.bind(this);};if(c('SphericalPhotoConfig').www_spherical_photo_viewer_refactor){f.exports=y;}else f.exports=w;}),null);