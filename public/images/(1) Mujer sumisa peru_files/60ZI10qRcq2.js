if (self.CavalryLogger) { CavalryLogger.start_js(["mM\/aA"]); }

__d("NotificationsTabEnum",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CONVERSATIONS:"My Conversations",KEYWORDS:"Keywords"};}),null);
__d('SignalsTab.react',['React'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').Component,k=c('React').PropTypes;h=babelHelpers.inherits(l,j);i=h&&h.prototype;l.prototype.render=function(){return (c('React').createElement('div',null,this.props.children));};function l(){h.apply(this,arguments);}l.propTypes={children:k.any,count:k.number,title:k.node.isRequired};f.exports=l;}),null);
__d('SignalsTabHeader.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$SignalsTabHeader1=function(){this.props.onSelect(this.props.index);}.bind(this),n;}l.prototype.render=function(){var m="_7wn"+(this.props.selected?' '+"_7wo":'')+(!this.props.selected?' '+"_7wp":''),n=this.props.count==null?null:c('React').createElement('div',{className:"_7wq"},this.props.count);return (c('React').createElement('div',{className:"_7wr",onClick:this.$SignalsTabHeader1},c('React').createElement('div',{className:m},this.props.title),n));};f.exports=l;}),null);
__d('SignalsTabGroup.react',['cx','invariant','React','SignalsTab.react','SignalsTabHeader.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').Children,m=c('React').Component,n=c('React').PropTypes;j=babelHelpers.inherits(o,m);k=j&&j.prototype;function o(p){k.constructor.call(this,p);this.$SignalsTabGroup1=function(r){this.setState({selectedIndex:r},this.props.onSelectionChanged);}.bind(this);!(p.children!=null&&p.children.length>0)?i(0):void 0;var q=p.initiallySelectedIndex!=null?p.initiallySelectedIndex:0;!(0<=q&&q<p.children.length)?i(0):void 0;this.state={selectedIndex:q};}o.prototype.getSelectedIndex=function(){return this.state.selectedIndex;};o.prototype.render=function(){var p=l.toArray(this.props.children),q=this.state.selectedIndex,r=[];for(var s=0;s<p.length;s++){var t=p[s],u=c('React').createElement(c('SignalsTabHeader.react'),{count:t.props.count,index:s,key:'header'+s,selected:s===q,title:t.props.title,onSelect:this.$SignalsTabGroup1});r.push(u);if(s<p.length-1){var v=c('React').createElement('div',{className:"_58-m",key:'separator'+s});r.push(v);}}var w=p[q],x=this.props.maxBodyHeight!=null?{maxHeight:this.props.maxBodyHeight}:null;return (c('React').createElement('div',{className:this.props.className},c('React').createElement('div',{className:"_58-n"},r),c('React').createElement('div',{className:"_58-o",style:x},w)));};o.propTypes={className:n.string,children:n.array,initiallySelectedIndex:n.number,maxBodyHeight:n.number,onSelectionChanged:n.func};f.exports=o;}),null);
__d('NotificationsTabsModel',['fbt','EnterpriseLabsLoggingEvents','EnterpriseLabsTypedLogger'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={TABS:{all:h._("All"),myConversations:h._("My Conversations"),keywords:h._("Keywords")},_onTabSelectionChanged:function j(){var k=this.props.children[this.getSelectedIndex()].key;new (c('EnterpriseLabsTypedLogger'))().setEntityID('tab:'+k).setEvent(c('EnterpriseLabsLoggingEvents').NT_CLICK_TAB).log();}};f.exports=i;}),null);
__d("XKeywordSubscribeController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/keyword\/controller\/{?keyword_id}\/",{keyword_id:{type:"String"}});}),null);
__d('NotificationTabsController',['cx','React','LogicalGrid.react','NotificationsTabConfig','NotificationsTabsModel','SignalsTab.react','XKeywordSubscribeController'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={conversations:'https://our.intern.facebook.com/intern/wiki/IT_Frontpage'+'/Enterprise_Labs/Tabs_for_Notifications/#FAQ',keywords:c('XKeywordSubscribeController').getURIBuilder().getURI()},j={_getSizeUnseenState:function k(l){var m={};for(var n in c('NotificationsTabsModel').TABS)m[c('NotificationsTabsModel').TABS[n]]=0;m.All=m.All||0;var o=[];for(var p in l){o.push(l[p].seen_state);if(l[p].seen_state in c('NotificationsTabConfig').notifs_unseen){m.All++;if(!isNaN(m[l[p].notifTab]))m[l[p].notifTab]++;}}return m;},_getTabByName:function k(l,m,n,o){var p=m[l]||0;return (c('React').createElement(c('SignalsTab.react'),{title:l,key:l,count:p},c('React').createElement(c('LogicalGrid.react'),{component:n},o),c('React').createElement('div',{className:"_57g3"},c('React').createElement('a',{href:i.conversations},'Learn More'))));}};f.exports=j;}),null);
__d('NotificationJewelList.react',['cx','fbt','Animation','Event','LogicalGrid.react','NotificationListItem.react','NotificationListPropTypes','NotificationsTabConfig','NotificationTabsController','NotificationsTabEnum','NotificationsTabsModel','NotifTestIDs','NotificationVPVs','React','ReactDOM','ScrollableArea.react','SignalsTab.react','SignalsTabGroup.react','Vector','XUISpinner.react','FunnelLogger','NotificationJewelFunnelLoggingConstants','debounce','getObjectValues','isEmpty'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('NotificationJewelFunnelLoggingConstants').FUNNEL_LOGGING_NAME,k=c('NotificationJewelFunnelLoggingConstants').FUNNEL_LOGGING_EVENT,l=160,m=530,n=40,o=64,p=430,q=c('React').createClass({displayName:'NotificationJewelList',propTypes:c('NotificationListPropTypes'),_isLoadingIndicatorVisible:function r(){var s=this.refs.loading;if(!s)return false;var t=c('ReactDOM').findDOMNode(this.refs.scrollable),u=c('Vector').getElementDimensions(t).y;if(u===0)return false;var v=c('Vector').getElementPosition(t).y+u,w=c('Vector').getElementPosition(c('ReactDOM').findDOMNode(s)).y;w-=n;return w<v;},_calculateHeight:function r(){var s=c('Vector').getViewportDimensions().y,t=Math.min(this.props.maxHeight||m,s-l);if(this.props.upsell)return Math.max(t-o,0);return t;},_keepOnLoading:function r(){if(this.isMounted()){var s=c('ReactDOM').findDOMNode(this.refs.notifList),t=c('NotificationVPVs').getValidatedRectangle(c('ReactDOM').findDOMNode(this.refs.scrollable));this.props.afterScroll(this._isLoadingIndicatorVisible(),s,t);}},_renderItems:function r(s,t){var u=void 0;if(!s){u=function x(y){return y;};}else u=function x(y){if(y.notifTab===t)return y;return null;};var v=c('getObjectValues')(this.props.notifs).filter(u).map(function(x){return x.alert_id;}),w=c('getObjectValues')(this.props.notifs).map(function(x){return JSON.stringify(x);});return c('getObjectValues')(this.props.notifs).filter(u).map(function(x,y){var z=x.alert_id,aa=this._getNotifRow(z,v);return (c('React').createElement(c('NotificationListItem.react'),babelHelpers['extends']({clientDebugData:w,isRead:this.props.readState[z],key:z,negativeTracking:this.props.negativeTracking,onChevronHide:this.props.onChevronHide,onChevronShow:this.props.onChevronShow,parent:this,paused:this.props.paused,row:aa,rowIndex:y,shortenTimestamp:this.props.shortenTimestamp,visible:!this.props.hiddenState[z]},x)));}.bind(this));},componentDidMount:function r(){var s=c('ReactDOM').findDOMNode(this.refs.scrollable);c('Event').listen(window,'resize',c('debounce')(function(){if(!c('isEmpty')(this.props.notifs))new (c('Animation'))(s).to('height',this._calculateHeight()+'px').duration(100).go();}.bind(this)));},componentDidUpdate:function r(s){if(this.props.paused&&!s.paused)if(this.props.shouldScroll&&this.refs.scrollable)this.refs.scrollable.getArea().scrollToTop(false);setTimeout(this._keepOnLoading,0);},_getNotifRow:function r(s,t){return t.indexOf(s);},_scrollToFetch:function r(){c('FunnelLogger').appendAction(j,k.SCROLL_TO_FETCH);this._keepOnLoading();},render:function r(){var s=this.props.notifs,t=null,u=null,v=p,w=null,x=c('React').createElement('ul',{'data-gt':this.props.tracking,'data-testid':c('NotifTestIDs').REACT_NOTIF_LIST});if(!c('isEmpty')(s)){t=c('React').createElement(c('LogicalGrid.react'),{ref:'notifList',component:x},this._renderItems(false,''));u=this._calculateHeight();}else if(!this.props.canFetchMore)t=c('React').createElement('div',{className:"_572e",'data-testid':c('NotifTestIDs').REACT_NOTIF_LIST},i._("No hay notificaciones nuevas"));if(this.props.canFetchMore)w=c('React').createElement(c('XUISpinner.react'),{ref:'loading',className:"jewelLoading"});var y=null;if(this.props.upsell){var z=this.props.upsell.module;y=c('React').createElement(z,this.props.upsell.props);}var aa="_50-t"+(this.props.showingChevron?' '+"_2iy1":''),ba=c('React').createElement(c('ScrollableArea.react'),{ref:'scrollable',width:v,height:u,fade:true,persistent:true,onScroll:c('debounce')(this._scrollToFetch,200)},t,w);if(c('NotificationsTabConfig').in_gk_notifications_tab&&c('NotificationsTabConfig').is_work_user){var ca=true,da=this._renderItems(ca,c('NotificationsTabEnum').CONVERSATIONS),ea=this._renderItems(ca,c('NotificationsTabEnum').KEYWORDS),fa=c('NotificationTabsController')._getSizeUnseenState(s),ga=c('NotificationTabsController')._getTabByName(c('NotificationsTabsModel').TABS.myConversations,fa,x,da),ha=c('NotificationTabsController')._getTabByName(c('NotificationsTabsModel').TABS.keywords,fa,x,ea),ia=c('NotificationsTabsModel').TABS.all;ba=c('React').createElement(c('SignalsTabGroup.react'),{onSelectionChanged:c('NotificationsTabsModel')._onTabSelectionChanged},c('React').createElement(c('SignalsTab.react'),{title:ia,key:ia,count:fa[ia]},ba),ga,ha);}return (c('React').createElement('div',{className:aa},ba,y));}});f.exports=q;}),null);
__d('ReactBlueBarNotificationsFlyoutList.react',['NotificationList.react','NotificationJewelList.react','React'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function i(j){var k=j.config,l=j.flyoutIsOpen;return (c('React').createElement(c('NotificationList.react'),babelHelpers['extends']({},k,{hasEverBeenOpened:true,paused:l,numPerPage:5,listRenderer:c('NotificationJewelList.react')})));};f.exports=h;}),null);