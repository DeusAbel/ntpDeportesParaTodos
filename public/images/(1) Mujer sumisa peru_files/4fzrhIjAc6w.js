if (self.CavalryLogger) { CavalryLogger.start_js(["5MYDG"]); }

__d("ChromecastScannerEnum",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={INIT:"init",CAST:"cast",ERROR:"error",NEW_SESSION:"new_session",RECEIVER_STATUS_CHANGED:"receiver_status_changed",SESSION_REQUESTED:"session_requested",SESSION_CANCELLED:"session_cancelled",SESSION_STARTED:"session_started",SESSION_DISCONNECTING:"session_disconnecting",SESSION_DISCONNECTED:"session_disconnected"};}),null);
__d("ChromecastSessionEnum",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ERROR:"error",DISCONNECTING:"disconnecting",DISCONNECTED:"disconnected",VIDEO_LOADING:"video_loading",VIDEO_LOADED:"video_loaded",VIDEO_PLAYING:"video_playing",VIDEO_PAUSED:"video_paused",VIDEO_SEEK:"video_seek"};}),null);
__d("ConnectedTVLoggerEvents",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTION:"action",WATCH_SUMMARY:"watch_summary",PAGE_IMPRESSION:"page_impression",CAST_REQUESTED:"cast_requested",CAST_STARTED:"cast_started",CAST_FAILED:"cast_failed",GRAPHQL_QUERY:"graphql_query",LAUNCHED_APP:"launched_app",LOGIN_CODE_FETCHED:"login_code_fetched",LOGIN_CODE_SHOWN:"login_code_shown",LOGIN_SUCCESS:"login_success",LOGIN_ERROR:"login_error",LOGGED_OUT:"logged_out",SENDER_SESSION_REQUESTED:"sender_session_requested",SENDER_SESSION_STARTED:"sender_session_started",SENDER_SESSION_FAILED:"sender_session_failed",RECEIVER_LOADED:"receiver_loaded",RECEIVER_EXPERIENCE_MANAGER_LOADED:"receiver_experience_manager_loaded",RECEIVER_LAUNCHING_EXPERIENCE:"receiver_launching_experience",RECEIVER_LAUNCHED_EXPERIENCE:"receiver_launched_experience",RECEIVER_EXPERIENCE_ENDED:"receiver_experience_ended",RECEIVER_GOT_PAYLOAD:"receiver_got_payload",RECEIVER_GOT_METADATA:"receiver_got_metadata",RECEIVER_PLAYBACK_STARTED:"receiver_playback_started",RECEIVER_PLAYBACK_ENDED:"receiver_playback_ended",RECEIVER_DEVICE_CONNECTED:"receiver_device_connected",RECEIVER_DEVICE_DISCONNECTED:"receiver_device_disconnected",RECEIVER_CONNECTION_ESTABLISHED:"receiver_connection_established",RECEIVER_RECEIVED_MESSAGE:"receiver_received_message",RECEIVER_FETCHED_NEXT:"receiver_fetched_next",RECEIVER_BUG_REPORT_SHOWN:"receiver_bug_report_shown",RECEIVER_REMOTE_CLICK:"receiver_remote_click",RECEIVER_ERROR:"receiver_error",SERVER_ERROR:"server_error"};}),null);
__d("VideoPlayerLoggerEventField",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACCESS_TOKEN:"access_token",AD_CLIENT_TOKEN:"ad_client_token",AD_ID:"ad_id",API_CONFIG:"api_config",APP_ID:"app_id",APP_VERSION:"app_version",APPENDED_BYTE_SIZE:"appended_byte_size",AUTOPLAY_ELIGIBLE:"autoplay_eligible",AUTOPLAY_FAILURE_REASONS:"autoplay_failure_reasons",AUTOPLAY_SETTING:"autoplay_setting",BATTERY_LEVEL:"battery_level",BUILD_VERSION:"build_version",CAST_CLIENT_APP_ID:"cast_client_app_id",CAST_SESSION_ID:"cast_session_id",CHANNEL_ELIGIBILITY:"channel_eligibility",CHROMECAST_RECEIVER_AVAILABLE:"chromecast_receiver_available",CONNECTIVITY_TYPE:"connectivity_type",DATA_CONNECTION_QUALITY:"data_connection_quality",CURRENT_VOLUME:"current_volume",DEBUG_REASON:"debug_reason",STREAM_TYPE:"stream_type",STREAMING_FORMAT:"streaming_format",DEVICE_ID:"device_id",DURATION:"duration",ERROR:"error",ERROR_DESCRIPTION:"error_description",EVENT_NAME:"name",GKS:"gks",HD:"hd",HEADSET_STATE:"headset_state",HLS_SEGMENT_URI:"segment_uri",HLS_STREAM_DATA:"stream_data",HLS_CURRENT_SEGMENT_URI:"current_segment_uri",HLS_LOADING_SEGMENT_URI:"loading_segment_uri",HOST_VIDEO_ID:"host_video_id",INLINE:"inline",IS_HDS:"is_hds",IS_LIVE_STREAMING:"is_live_streaming",FT:"ft",REPRESENTATION_ID:"representation_id",NEXT_REPRESENTATION_ID:"next_representation_id",OUTER_STORY_IDENTIFIER:"outer_story_identifier",PLAYBACK_IS_LIVE_STREAMING:"playback_is_live_streaming",PLAYER_FORMAT:"player_format",PLAYER_ORIGIN:"player_origin",PLAYER_SUBORIGIN:"player_suborigin",PLAYER_STATE:"player_state",PLAYER_VERSION:"player_version",POSITION_IN_CHANNEL:"position_in_channel",PROJECTION:"projection",AUDIO_CHANNEL_LAYOUT:"audio_ch_conf",QES:"qes",REASON:"reason",RESOURCE_URL:"resource_url",SAVED_OFFLINE:"saved_offline",SEQ_NUM:"seq_num",SOURCE:"source",STALL_TIME:"stall_time",STALL_COUNT:"stall_count",RECENT_STALLS_COUNT:"recent_stalls_count",RECENT_STALLS_TOTAL_COUNT:"recent_stalls_total_count",FIRST_STALL_START_POSITION:"first_stall_start_position",FIRST_STALL_TIME:"first_stall_time",ABANDON_IN_STALL:"abandon_in_stall",IS_STALLING:"is_stalling",IS_AUTO_ADVANCED:"is_auto_advanced",STATE:"state",TIME:"time",TIME_DELTA:"time_delta",TIME_MS:"time_ms",TIME_SPENT_ID:"time_spent_id",TOTAL_STALL_TIME:"total_stall_time",TRACKING:"tracking",TV_SESSION_ID:"tv_session_id",USER_ID:"user_id",VIDEO_CHAINING_DEPTH_LEVEL:"video_chaining_depth_level",VIDEO_CHAINING_SESSION_ID:"video_chaining_session_id",VIDEO_CHANNEL_ID:"video_channel_id",VIDEO_CHANNEL_TYPE:"video_channel_type",VIDEO_HOME_SESSION_ID:"video_home_session_id",EXTERNAL_LOG_ID:"external_log_id",EXTERNAL_LOG_TYPE:"external_log_type",VIDEO_ID:"video_id",VIDEO_PLAY_REASON:"video_play_reason",VIDEO_QUALITY:"video_quality",VIDEO_TIME_POSITION:"video_time_position",VIDEO_TIME_RATIO:"video_time_ratio",VIDEO_LAST_START_TIME_POSITION:"video_last_start_time_position",TIME_UNTIL_INTERRUPT:"time_until_interrupt",UNIT_POSITION:"unit_position",POSITION_IN_UNIT:"position_in_unit"};}),null);
__d('ChromecastAPI',['Promise','regeneratorRuntime'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=['pkedcjkdefgpdelpbcmbmeomcjbeemfm','boadgeojelhgndaghljhdicfkmllpafd','dliochdbjfkdbacpmhlcpmleaejidimm','hfaagokkkhdbgiakmmlclaapfelnkoah','fmfcbgogabcbclcofgocippekhfcmgfj','enhhojjnijigcajfphajepfemndkmdlo'],i=null,j=null,k={};f.exports=k;k.getSenderAPI=function(){if(i)return i;if(!b.chrome){i=c('Promise').reject(new Error('Browser not supported'));return i;}if(b.chrome.cast&&b.chrome.cast.isAvailable){i=c('Promise').resolve(b.chrome.cast);return i;}i=c('Promise').resolve().then(function(){return l();}).then(function(o){return new (c('Promise'))(function(p,q){b.chrome.cast=b.chrome.cast||{};b.chrome.cast.extensionId=o;b.__onGCastApiAvailable=function(s,t){if(t){q(t);}else p(b.chrome.cast);};var r=document.createElement('script');r.onerror=q;r.src=n(o);(document.head||document.documentElement).appendChild(r);});});return i;};function l(){var o,p,q;return c('regeneratorRuntime').async(function r(s){while(1)switch(s.prev=s.next){case 0:o=0;case 1:if(!(o<h.length)){s.next=11;break;}p=h[o];s.next=5;return c('regeneratorRuntime').awrap(m(p));case 5:q=s.sent;if(!q){s.next=8;break;}return s.abrupt('return',p);case 8:o++;s.next=1;break;case 11:return s.abrupt('return',null);case 12:case 'end':return s.stop();}},null,this);}function m(o){return c('regeneratorRuntime').async(function p(q){while(1)switch(q.prev=q.next){case 0:return q.abrupt('return',new (c('Promise'))(function(r,s){var t=n(o),u=new XMLHttpRequest();u.onreadystatechange=function(){if(u.readyState===4)r(u.status===200);};u.onerror=function(){r(false);};u.open('GET',t,true);u.send();}));case 1:case 'end':return q.stop();}},null,this);}function n(o){return 'chrome-extension://'+o+'/cast_sender.js';}}),null);
__d('ChromecastSession',['invariant','regeneratorRuntime','Promise','ChromecastSessionEnum','EventEmitter','ChromecastAPI'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('ChromecastAPI').getSenderAPI;i=babelHelpers.inherits(l,c('EventEmitter'));j=i&&i.prototype;function l(m,n,o){'use strict';j.constructor.call(this);this.$ChromecastSession1=m;this.$ChromecastSession2=this.$ChromecastSession5.bind(this);this.$ChromecastSession3=n;this.$ChromecastSession4=o;o.addMessageListener(this.$ChromecastSession3,this.$ChromecastSession2);}l.prototype.destroy=function(){'use strict';var m=this.$ChromecastSession4;if(m)m.removeMessageListener(this.$ChromecastSession3,this.$ChromecastSession2);this.removeAllListeners();};l.prototype.isCasting=function(){'use strict';return !!this.$ChromecastSession4;};l.prototype.isPlaying=function m(){var n;return c('regeneratorRuntime').async(function o(p){while(1)switch(p.prev=p.next){case 0:'use strict';p.next=3;return c('regeneratorRuntime').awrap(k());case 3:n=p.sent;return p.abrupt('return',!!(this.$ChromecastSession4&&this.$ChromecastSession4.media&&this.$ChromecastSession4.media[0]&&this.$ChromecastSession4.media[0].playerState===n.media.PlayerState.PLAYING));case 5:case 'end':return p.stop();}},null,this);};l.prototype.hasMedia=function(){'use strict';return !!(this.$ChromecastSession4&&this.$ChromecastSession4.media&&this.$ChromecastSession4.media[0]);};l.prototype.disconnect=function m(){return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:'use strict';this.emit(c('ChromecastSessionEnum').DISCONNECTING);o.prev=2;o.next=5;return c('regeneratorRuntime').awrap(new (c('Promise'))(function(p,q){if(this.$ChromecastSession4){this.$ChromecastSession4.stop(p,q);}else p();}.bind(this)));case 5:o.next=11;break;case 7:o.prev=7;o.t0=o['catch'](2);this.emit(c('ChromecastSessionEnum').ERROR,o.t0);throw o.t0;case 11:o.prev=11;this.$ChromecastSession4=null;this.emit(c('ChromecastSessionEnum').DISCONNECTED);this.removeAllListeners();return o.finish(11);case 16:case 'end':return o.stop();}},null,this,[[2,7,11,16]]);};l.prototype.loadVideo=function m(n,o,p){var q,r=this;return c('regeneratorRuntime').async(function s(t){while(1)switch(t.prev=t.next){case 0:'use strict';t.prev=1;t.next=4;return c('regeneratorRuntime').awrap(function u(){var v,w;return c('regeneratorRuntime').async(function x(y){while(1)switch(y.prev=y.next){case 0:y.next=2;return c('regeneratorRuntime').awrap(k());case 2:v=y.sent;w=r.$ChromecastSession4;if(!o)o='video/mp4';y.next=7;return c('regeneratorRuntime').awrap(new (c('Promise'))(function(z,aa){!w?h(0):void 0;this.emit(c('ChromecastSessionEnum').VIDEO_LOADING);var ba=new v.media.MediaInfo(n,o);ba.streamType=v.media.StreamType.BUFFERED;var ca=new v.media.LoadRequest(ba);ca.autoplay=true;if(p)ca.currentTime=p;w.loadMedia(ca,function(da){var ea=function(){da.removeUpdateListener(ea);this.emit(c('ChromecastSessionEnum').VIDEO_LOADED);z();}.bind(this);da.addUpdateListener(ea);}.bind(this),aa);}.bind(r)));case 7:r.emit(c('ChromecastSessionEnum').VIDEO_PLAYING);case 8:case 'end':return y.stop();}},null,r);}());case 4:t.next=10;break;case 6:t.prev=6;t.t0=t['catch'](1);this.emit(c('ChromecastSessionEnum').ERROR,t.t0);throw t.t0;case 10:case 'end':return t.stop();}},null,this,[[1,6]]);};l.prototype.playVideo=function m(){var n,o=this;return c('regeneratorRuntime').async(function p(q){while(1)switch(q.prev=q.next){case 0:'use strict';q.prev=1;q.next=4;return c('regeneratorRuntime').awrap(function r(){var s,t;return c('regeneratorRuntime').async(function u(v){while(1)switch(v.prev=v.next){case 0:v.next=2;return c('regeneratorRuntime').awrap(k());case 2:s=v.sent;t=o.$ChromecastSession4;v.next=6;return c('regeneratorRuntime').awrap(new (c('Promise'))(function(w,x){!t?h(0):void 0;!(t.media&&t.media[0])?h(0):void 0;var y=new s.media.PlayRequest();t.media[0].play(y,w,x);}));case 6:o.emit(c('ChromecastSessionEnum').VIDEO_PLAYING);case 7:case 'end':return v.stop();}},null,o);}());case 4:q.next=10;break;case 6:q.prev=6;q.t0=q['catch'](1);this.emit(c('ChromecastSessionEnum').ERROR,q.t0);throw q.t0;case 10:case 'end':return q.stop();}},null,this,[[1,6]]);};l.prototype.pauseVideo=function m(){var n,o=this;return c('regeneratorRuntime').async(function p(q){while(1)switch(q.prev=q.next){case 0:'use strict';q.prev=1;q.next=4;return c('regeneratorRuntime').awrap(function r(){var s,t;return c('regeneratorRuntime').async(function u(v){while(1)switch(v.prev=v.next){case 0:v.next=2;return c('regeneratorRuntime').awrap(k());case 2:s=v.sent;t=o.$ChromecastSession4;v.next=6;return c('regeneratorRuntime').awrap(new (c('Promise'))(function(w,x){!t?h(0):void 0;!(t.media&&t.media[0])?h(0):void 0;var y=new s.media.PauseRequest();t.media[0].pause(y,w,x);}));case 6:o.emit(c('ChromecastSessionEnum').VIDEO_PAUSED);case 7:case 'end':return v.stop();}},null,o);}());case 4:q.next=10;break;case 6:q.prev=6;q.t0=q['catch'](1);this.emit(c('ChromecastSessionEnum').ERROR,q.t0);throw q.t0;case 10:case 'end':return q.stop();}},null,this,[[1,6]]);};l.prototype.seekVideo=function m(n){var o,p=this;return c('regeneratorRuntime').async(function q(r){while(1)switch(r.prev=r.next){case 0:'use strict';r.prev=1;r.next=4;return c('regeneratorRuntime').awrap(function s(){var t,u;return c('regeneratorRuntime').async(function v(w){while(1)switch(w.prev=w.next){case 0:w.next=2;return c('regeneratorRuntime').awrap(k());case 2:t=w.sent;u=p.$ChromecastSession4;w.next=6;return c('regeneratorRuntime').awrap(new (c('Promise'))(function(x,y){!u?h(0):void 0;!(u.media&&u.media[0])?h(0):void 0;var z=new t.media.SeekRequest();z.currentTime=n;u.media[0].seek(z,x,y);}));case 6:p.emit(c('ChromecastSessionEnum').VIDEO_PLAYING);case 7:case 'end':return w.stop();}},null,p);}());case 4:r.next=10;break;case 6:r.prev=6;r.t0=r['catch'](1);this.emit(c('ChromecastSessionEnum').ERROR,r.t0);throw r.t0;case 10:case 'end':return r.stop();}},null,this,[[1,6]]);};l.prototype.getVolume=function(){'use strict';var m=this.$ChromecastSession6();return m?m.level:null;};l.prototype.setVolume=function m(n){var o,p=this;return c('regeneratorRuntime').async(function q(r){while(1)switch(r.prev=r.next){case 0:'use strict';r.prev=1;r.next=4;return c('regeneratorRuntime').awrap(function s(){var t;return c('regeneratorRuntime').async(function u(v){while(1)switch(v.prev=v.next){case 0:t=p.$ChromecastSession4;v.next=3;return c('regeneratorRuntime').awrap(new (c('Promise'))(function(w,x){!t?h(0):void 0;t.setReceiverVolumeLevel(n,w,x);}));case 3:case 'end':return v.stop();}},null,p);}());case 4:r.next=10;break;case 6:r.prev=6;r.t0=r['catch'](1);this.emit(c('ChromecastSessionEnum').ERROR,r.t0);throw r.t0;case 10:case 'end':return r.stop();}},null,this,[[1,6]]);};l.prototype.isMuted=function(){'use strict';var m=this.$ChromecastSession6();return m?m.muted:null;};l.prototype.mute=function m(){return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:'use strict';o.next=3;return c('regeneratorRuntime').awrap(this.$ChromecastSession7(true));case 3:case 'end':return o.stop();}},null,this);};l.prototype.unmute=function m(){return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:'use strict';o.next=3;return c('regeneratorRuntime').awrap(this.$ChromecastSession7(false));case 3:case 'end':return o.stop();}},null,this);};l.prototype.sendMessage=function m(n){return c('regeneratorRuntime').async(function o(p){while(1)switch(p.prev=p.next){case 0:'use strict';p.prev=1;p.next=4;return c('regeneratorRuntime').awrap(new (c('Promise'))(function(q,r){var s=this.$ChromecastSession4;!s?h(0):void 0;s.sendMessage(this.$ChromecastSession3,n,q,r);}.bind(this)));case 4:p.next=10;break;case 6:p.prev=6;p.t0=p['catch'](1);this.emit(c('ChromecastSessionEnum').ERROR,p.t0);throw p.t0;case 10:case 'end':return p.stop();}},null,this,[[1,6]]);};l.prototype.$ChromecastSession6=function(){'use strict';return this.$ChromecastSession4&&this.$ChromecastSession4.receiver&&this.$ChromecastSession4.receiver.volume;};l.prototype.$ChromecastSession7=function m(n){var o,p=this;return c('regeneratorRuntime').async(function q(r){while(1)switch(r.prev=r.next){case 0:'use strict';r.prev=1;r.next=4;return c('regeneratorRuntime').awrap(function s(){var t;return c('regeneratorRuntime').async(function u(v){while(1)switch(v.prev=v.next){case 0:t=p.$ChromecastSession4;v.next=3;return c('regeneratorRuntime').awrap(new (c('Promise'))(function(w,x){!t?h(0):void 0;t.setReceiverMuted(n,w,x);}));case 3:case 'end':return v.stop();}},null,p);}());case 4:r.next=10;break;case 6:r.prev=6;r.t0=r['catch'](1);this.emit(c('ChromecastSessionEnum').ERROR,r.t0);throw r.t0;case 10:case 'end':return r.stop();}},null,this,[[1,6]]);};l.prototype.getVideoTime=function(){'use strict';var m=null,n=this.$ChromecastSession4&&this.$ChromecastSession4.media[0];if(n)m=n.getEstimatedTime();return m;};l.prototype.$ChromecastSession5=function(m,n){'use strict';if(m===this.$ChromecastSession3){this.emit('message',n);}else this.emit('invalid_message',{namespace:m,message:n});};f.exports=l;}),null);
__d('ConnectedTVTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('ctv_proxy:ConnectedTVLoggerConfig',this.$ConnectedTVTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('ctv_proxy:ConnectedTVLoggerConfig',this.$ConnectedTVTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$ConnectedTVTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$ConnectedTVTypedLogger1=babelHelpers['extends']({},this.$ConnectedTVTypedLogger1,j);return this;};h.prototype.setAccessToken=function(j){this.$ConnectedTVTypedLogger1.access_token=j;return this;};h.prototype.setActionMethod=function(j){this.$ConnectedTVTypedLogger1.action_method=j;return this;};h.prototype.setActionTarget=function(j){this.$ConnectedTVTypedLogger1.action_target=j;return this;};h.prototype.setCastClientAppID=function(j){this.$ConnectedTVTypedLogger1.cast_client_app_id=j;return this;};h.prototype.setCastSessionID=function(j){this.$ConnectedTVTypedLogger1.cast_session_id=j;return this;};h.prototype.setCastingDeviceType=function(j){this.$ConnectedTVTypedLogger1.casting_device_type=j;return this;};h.prototype.setChainingDepthLevel=function(j){this.$ConnectedTVTypedLogger1.chaining_depth_level=j;return this;};h.prototype.setErrorDetails=function(j){this.$ConnectedTVTypedLogger1.error_details=j;return this;};h.prototype.setErrorMessage=function(j){this.$ConnectedTVTypedLogger1.error_message=j;return this;};h.prototype.setEvent=function(j){this.$ConnectedTVTypedLogger1.event=j;return this;};h.prototype.setEventDescription=function(j){this.$ConnectedTVTypedLogger1.event_description=j;return this;};h.prototype.setExperience=function(j){this.$ConnectedTVTypedLogger1.experience=j;return this;};h.prototype.setExperienceView=function(j){this.$ConnectedTVTypedLogger1.experience_view=j;return this;};h.prototype.setGraphqlQueryName=function(j){this.$ConnectedTVTypedLogger1.graphql_query_name=j;return this;};h.prototype.setGraphqlVideoChannelID=function(j){this.$ConnectedTVTypedLogger1.graphql_video_channel_id=j;return this;};h.prototype.setInitialCast=function(j){this.$ConnectedTVTypedLogger1.initial_cast=j;return this;};h.prototype.setPerfTimeMs=function(j){this.$ConnectedTVTypedLogger1.perf_time_ms=j;return this;};h.prototype.setPlaybackIsLiveStreaming=function(j){this.$ConnectedTVTypedLogger1.playback_is_live_streaming=j;return this;};h.prototype.setPlayerOrigin=function(j){this.$ConnectedTVTypedLogger1.player_origin=j;return this;};h.prototype.setPlayerSuborigin=function(j){this.$ConnectedTVTypedLogger1.player_suborigin=j;return this;};h.prototype.setPlayerVersion=function(j){this.$ConnectedTVTypedLogger1.player_version=j;return this;};h.prototype.setPositionInChannel=function(j){this.$ConnectedTVTypedLogger1.position_in_channel=j;return this;};h.prototype.setPreviousTvSessionID=function(j){this.$ConnectedTVTypedLogger1.previous_tv_session_id=j;return this;};h.prototype.setProfileID=function(j){this.$ConnectedTVTypedLogger1.profile_id=j;return this;};h.prototype.setRetryCount=function(j){this.$ConnectedTVTypedLogger1.retry_count=j;return this;};h.prototype.setSessionFailureCode=function(j){this.$ConnectedTVTypedLogger1.session_failure_code=j;return this;};h.prototype.setSessionFailureDescription=function(j){this.$ConnectedTVTypedLogger1.session_failure_description=j;return this;};h.prototype.setStoryID=function(j){this.$ConnectedTVTypedLogger1.story_id=j;return this;};h.prototype.setTvSeqNum=function(j){this.$ConnectedTVTypedLogger1.tv_seq_num=j;return this;};h.prototype.setTvSessionID=function(j){this.$ConnectedTVTypedLogger1.tv_session_id=j;return this;};h.prototype.setTvTimeMs=function(j){this.$ConnectedTVTypedLogger1.tv_time_ms=j;return this;};h.prototype.setVC=function(j){this.$ConnectedTVTypedLogger1.vc=j;return this;};h.prototype.setVideoChannelIDOverride=function(j){this.$ConnectedTVTypedLogger1.video_channel_id_override=j;return this;};h.prototype.setVideoIDOverride=function(j){this.$ConnectedTVTypedLogger1.video_id_override=j;return this;};h.prototype.setWatchTimeMs=function(j){this.$ConnectedTVTypedLogger1.watch_time_ms=j;return this;};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$ConnectedTVTypedLogger1=babelHelpers['extends']({},this.$ConnectedTVTypedLogger1,j);return this;};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l);};var i={access_token:true,action_method:true,action_target:true,cast_client_app_id:true,cast_session_id:true,casting_device_type:true,chaining_depth_level:true,error_details:true,error_message:true,event:true,event_description:true,experience:true,experience_view:true,graphql_query_name:true,graphql_video_channel_id:true,initial_cast:true,perf_time_ms:true,playback_is_live_streaming:true,player_origin:true,player_suborigin:true,player_version:true,position_in_channel:true,previous_tv_session_id:true,profile_id:true,retry_count:true,session_failure_code:true,session_failure_description:true,story_id:true,tv_seq_num:true,tv_session_id:true,tv_time_ms:true,vc:true,video_channel_id_override:true,video_id_override:true,watch_time_ms:true};f.exports=h;}),null);
__d('ChromecastScanner',['regeneratorRuntime','Promise','ChromecastScannerEnum','ChromecastSession','ChromecastSessionEnum','ConnectedTVLoggerEvents','ConnectedTVTypedLogger','EventEmitter','Set','emptyFunction','ChromecastAPI','performanceAbsoluteNow'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('ChromecastAPI').getSenderAPI,k=3*60*1000;h=babelHelpers.inherits(l,c('EventEmitter'));i=h&&h.prototype;l.getInstance=function m(n,o,p){var q;return c('regeneratorRuntime').async(function r(s){while(1)switch(s.prev=s.next){case 0:'use strict';q=new l(n,o,p);s.next=4;return c('regeneratorRuntime').awrap(q.ready());case 4:return s.abrupt('return',q);case 5:case 'end':return s.stop();}},null,this);};function l(m,n,o){'use strict';i.constructor.call(this);this.$ChromecastScanner1=m||null;this.$ChromecastScanner2=n||null;this.$ChromecastScanner3=o||false;this.$ChromecastScanner6=false;this.$ChromecastScanner4=false;this.$ChromecastScanner5=false;this.$ChromecastScanner7=new (c('Set'))();this.$ChromecastScanner8=this.$ChromecastScanner9();}l.prototype.$ChromecastScanner9=function m(){var n;return c('regeneratorRuntime').async(function o(p){while(1)switch(p.prev=p.next){case 0:'use strict';p.next=3;return c('regeneratorRuntime').awrap(j());case 3:n=p.sent;this.$ChromecastScanner5=true;if(this.$ChromecastScanner5&&this.$ChromecastScanner1===null)this.$ChromecastScanner1=n.media.DEFAULT_MEDIA_RECEIVER_APP_ID;p.prev=6;p.next=9;return c('regeneratorRuntime').awrap(this.$ChromecastScanner10());case 9:this.emit(c('ChromecastScannerEnum').INIT);if(!this.$ChromecastScanner3){p.next=13;break;}p.next=13;return c('regeneratorRuntime').awrap(this.scanForReceivers());case 13:p.next=19;break;case 15:p.prev=15;p.t0=p['catch'](6);this.emit(c('ChromecastScannerEnum').ERROR,p.t0);throw p.t0;case 19:case 'end':return p.stop();}},null,this,[[6,15]]);};l.prototype.ready=function m(){return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:'use strict';o.next=3;return c('regeneratorRuntime').awrap(this.$ChromecastScanner8);case 3:case 'end':return o.stop();}},null,this);};l.prototype.destroy=function(){'use strict';this.removeAllListeners();this.$ChromecastScanner7.forEach(function(m){return m.destroy();});};l.prototype.hasSupport=function(){'use strict';return this.$ChromecastScanner5;};l.prototype.hasFoundReceiver=function(){'use strict';return this.$ChromecastScanner6;};l.prototype.scanForReceivers=function m(){var n,o;return c('regeneratorRuntime').async(function p(q){while(1)switch(q.prev=q.next){case 0:'use strict';if(!this.$ChromecastScanner4){q.next=3;break;}return q.abrupt('return');case 3:this.$ChromecastScanner4=true;q.next=6;return c('regeneratorRuntime').awrap(j());case 6:n=q.sent;o=new (c('Promise'))(function(r,s){var t=function(w){var x=this.$ChromecastScanner11(w);this.emit(c('ChromecastScannerEnum').SESSION_STARTED,x);}.bind(this),u=function(w){this.$ChromecastScanner6=w===n.ReceiverAvailability.AVAILABLE;this.emit(c('ChromecastScannerEnum').RECEIVER_STATUS_CHANGED,{foundReceiver:this.$ChromecastScanner6});r();}.bind(this),v=new n.ApiConfig(new n.SessionRequest(this.$ChromecastScanner1),t,u,n.AutoJoinPolicy.ORIGIN_SCOPED,n.DefaultActionPolicy.CAST_THIS_TAB);n.initialize(v,c('emptyFunction'),s);}.bind(this));o=o['catch'](function(r){this.$ChromecastScanner4=false;this.emit(c('ChromecastScannerEnum').ERROR,r);throw r;}.bind(this));q.next=11;return c('regeneratorRuntime').awrap(o);case 11:case 'end':return q.stop();}},null,this);};l.prototype.getSession=function m(){var n,o,p;return c('regeneratorRuntime').async(function q(r){while(1)switch(r.prev=r.next){case 0:'use strict';if(this.$ChromecastScanner6){r.next=3;break;}throw new Error('No receivers found');case 3:this.emit(c('ChromecastScannerEnum').SESSION_REQUESTED);n=this.$ChromecastScanner12();n['catch'](function(s){this.emit(c('ChromecastScannerEnum').SESSION_CANCELLED);this.emit(c('ChromecastScannerEnum').SESSION_DISCONNECTED);throw s;}.bind(this));r.next=8;return c('regeneratorRuntime').awrap(n);case 8:o=r.sent;p=this.$ChromecastScanner11(o);this.$ChromecastScanner7.add(p);this.emit(c('ChromecastScannerEnum').SESSION_STARTED,p);return r.abrupt('return',p);case 13:case 'end':return r.stop();}},null,this);};l.prototype.$ChromecastScanner12=function m(){var n,o;return c('regeneratorRuntime').async(function p(q){while(1)switch(q.prev=q.next){case 0:'use strict';q.next=3;return c('regeneratorRuntime').awrap(j());case 3:n=q.sent;q.next=6;return c('regeneratorRuntime').awrap(new (c('Promise'))(function(r,s){new (c('ConnectedTVTypedLogger'))().setEvent(c('ConnectedTVLoggerEvents').SENDER_SESSION_REQUESTED).log();var t=c('performanceAbsoluteNow')(),u=new n.SessionRequest(this.$ChromecastScanner1,[n.Capability.VIDEO_OUT,n.Capability.AUDIO_OUT],k);n.requestSession(function(v){new (c('ConnectedTVTypedLogger'))().setEvent(c('ConnectedTVLoggerEvents').SENDER_SESSION_STARTED).setPerfTimeMs(Math.floor(c('performanceAbsoluteNow')()-t)).log();return r(v);},function(v){new (c('ConnectedTVTypedLogger'))().setEvent(c('ConnectedTVLoggerEvents').SENDER_SESSION_FAILED).setSessionFailureCode(v.code).setSessionFailureDescription(v.description).setPerfTimeMs(Math.floor(c('performanceAbsoluteNow')()-t)).log();return s(v);},u);}.bind(this)));case 6:o=q.sent;return q.abrupt('return',o);case 8:case 'end':return q.stop();}},null,this);};l.prototype.$ChromecastScanner11=function(m){'use strict';var n=new (c('ChromecastSession'))(this.$ChromecastScanner1||'',this.$ChromecastScanner2||'',m);n.addListener(c('ChromecastSessionEnum').DISCONNECTING,function(){this.emit(c('ChromecastScannerEnum').SESSION_DISCONNECTING,n);}.bind(this));n.addListener(c('ChromecastSessionEnum').DISCONNECTED,function(){this.emit(c('ChromecastScannerEnum').SESSION_DISCONNECTED,n);this.$ChromecastScanner7['delete'](n);}.bind(this));n.addListener(c('ChromecastSessionEnum').ERROR,function(o){this.emit(c('ChromecastScannerEnum').ERROR,o);}.bind(this));return n;};l.prototype.$ChromecastScanner10=function m(){var n;return c('regeneratorRuntime').async(function o(p){while(1)switch(p.prev=p.next){case 0:'use strict';p.next=3;return c('regeneratorRuntime').awrap(j());case 3:n=p.sent;n.addReceiverActionListener(function(q,r){switch(r){case n.ReceiverAction.CAST:this.emit(c('ChromecastScannerEnum').CAST,q);break;case n.ReceiverAction.STOP:this.$ChromecastScanner7.forEach(function(s){return s.disconnect();});break;}}.bind(this));case 5:case 'end':return p.stop();}},null,this);};f.exports=l;}),null);
__d('CastingExperienceManager',['invariant','regeneratorRuntime','Promise','ChromecastConfig','ChromecastScanner','ChromecastScannerEnum','ChromecastSession','EventEmitter','Map','Random','ScriptPath','SubscriptionsHandler','WebStorage','pageID'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('WebStorage').getLocalStorage(),l=null;i=babelHelpers.inherits(m,c('EventEmitter'));j=i&&i.prototype;function m(){'use strict';j.constructor.call(this);this.$CastingExperienceManager5=new (c('ChromecastScanner'))(c('ChromecastConfig').APP_ID,c('ChromecastConfig').NAMESPACE,c('ChromecastConfig').AUTO_SCAN);this.$CastingExperienceManager2=null;this.$CastingExperienceManager1=false;this.$CastingExperienceManager4=0;this.$CastingExperienceManager7=null;this.$CastingExperienceManager10=new (c('Map'))();var n=new (c('SubscriptionsHandler'))();n.addSubscriptions(this.$CastingExperienceManager5.addListener(c('ChromecastScannerEnum').RECEIVER_STATUS_CHANGED,function(o){return this.$CastingExperienceManager11(o);}.bind(this)),this.$CastingExperienceManager5.addListener(c('ChromecastScannerEnum').SESSION_DISCONNECTED,function(){return this.$CastingExperienceManager12();}.bind(this)),this.$CastingExperienceManager5.addListener(c('ChromecastScannerEnum').SESSION_STARTED,function(o){return this.$CastingExperienceManager13(o);}.bind(this)),this.$CastingExperienceManager5.addListener(c('ChromecastScannerEnum').SESSION_DISCONNECTED,function(){return this.$CastingExperienceManager14();}.bind(this)),this.$CastingExperienceManager5.addListener(c('ChromecastScannerEnum').ERROR,function(o){return this.$CastingExperienceManager15(o);}.bind(this)));this.$CastingExperienceManager8=this.$CastingExperienceManager5.ready();this.$CastingExperienceManager8.then(function(){this.$CastingExperienceManager2=true;this.$CastingExperienceManager1=true;this.emit(m.READY);}.bind(this),function(o){this.$CastingExperienceManager2=false;n.release();this.emit(m.NOT_SUPPORTED,o);}.bind(this)).done();}m.getInstance=function(){'use strict';if(!l)l=new m();return l;};m.prototype.ready=function n(){return c('regeneratorRuntime').async(function o(p){while(1)switch(p.prev=p.next){case 0:'use strict';p.next=3;return c('regeneratorRuntime').awrap(this.$CastingExperienceManager8);case 3:case 'end':return p.stop();}},null,this);};m.prototype.getLastError=function(){'use strict';return this.$CastingExperienceManager3;};m.prototype.hasSupport=function(){'use strict';return this.$CastingExperienceManager2;};m.prototype.hasFoundReceiver=function(){'use strict';return this.$CastingExperienceManager5.hasFoundReceiver();};m.prototype.getSession=function n(){var o;return c('regeneratorRuntime').async(function p(q){while(1)switch(q.prev=q.next){case 0:'use strict';q.next=3;return c('regeneratorRuntime').awrap(this.ready());case 3:if(!this.$CastingExperienceManager6){q.next=5;break;}return q.abrupt('return',this.$CastingExperienceManager6);case 5:if(!this.$CastingExperienceManager9)this.$CastingExperienceManager9=this.$CastingExperienceManager16();o=null;q.prev=7;q.next=10;return c('regeneratorRuntime').awrap(this.$CastingExperienceManager9);case 10:o=q.sent;q.next=17;break;case 13:q.prev=13;q.t0=q['catch'](7);this.emit(m.ERROR,q.t0);throw q.t0;case 17:q.prev=17;this.$CastingExperienceManager9=null;return q.finish(17);case 20:return q.abrupt('return',o);case 21:case 'end':return q.stop();}},null,this,[[7,13,17,20]]);};m.prototype.$CastingExperienceManager16=function n(){var o;return c('regeneratorRuntime').async(function p(q){while(1)switch(q.prev=q.next){case 0:'use strict';q.next=3;return c('regeneratorRuntime').awrap(this.$CastingExperienceManager5.getSession());case 3:o=q.sent;if(!this.$CastingExperienceManager6)this.$CastingExperienceManager6=o;return q.abrupt('return',this.$CastingExperienceManager6);case 6:case 'end':return q.stop();}},null,this);};m.prototype.isRequestingSession=function(){'use strict';return !!this.$CastingExperienceManager9;};m.prototype.getSessionKey=function(){'use strict';var n=k.CastingSessionKey;if(!n)k.CastingSessionKey=c('Random').uint32().toString(16);return n;};m.prototype.isCasting=function(n){'use strict';var o=!!this.$CastingExperienceManager6&&this.$CastingExperienceManager6.isCasting();if(o&&n)o=!!this.$CastingExperienceManager7&&this.$CastingExperienceManager7.indexOf(n)>=0;return o;};m.prototype.startCasting=function n(o){var p,q;return c('regeneratorRuntime').async(function r(s){while(1)switch(s.prev=s.next){case 0:'use strict';if(this.isCasting(o)){s.next=7;break;}s.next=4;return c('regeneratorRuntime').awrap(this.sendLaunch(o));case 4:p=s.sent;q=p.target;this.$CastingExperienceManager7=q;case 7:case 'end':return s.stop();}},null,this);};m.prototype.stopCasting=function n(){var o;return c('regeneratorRuntime').async(function p(q){while(1)switch(q.prev=q.next){case 0:'use strict';if(!this.isCasting()){q.next=7;break;}q.next=4;return c('regeneratorRuntime').awrap(this.getSession());case 4:o=q.sent;q.next=7;return c('regeneratorRuntime').awrap(o.disconnect());case 7:this.$CastingExperienceManager17();case 8:case 'end':return q.stop();}},null,this);};m.prototype.$CastingExperienceManager17=function(){'use strict';this.$CastingExperienceManager6=null;this.$CastingExperienceManager7=null;};m.prototype.getTarget=function n(){var o,p;return c('regeneratorRuntime').async(function q(r){while(1)switch(r.prev=r.next){case 0:'use strict';if(this.$CastingExperienceManager7){r.next=11;break;}r.next=4;return c('regeneratorRuntime').awrap(this.getSession());case 4:r.next=6;return c('regeneratorRuntime').awrap(this.sendVersion());case 6:o=r.sent;p=o.currently_running_experience;if(p){r.next=10;break;}throw (new Error('Session has no target'));case 10:this.$CastingExperienceManager7=p;case 11:return r.abrupt('return',this.$CastingExperienceManager7);case 12:case 'end':return r.stop();}},null,this);};m.prototype.setVolume=function(n){'use strict';if(this.isCasting())this.$CastingExperienceManager6&&this.$CastingExperienceManager6.setVolume(n);};m.prototype.mute=function(){'use strict';if(this.isCasting())this.$CastingExperienceManager6&&this.$CastingExperienceManager6.mute();};m.prototype.unmute=function(){'use strict';if(this.isCasting())this.$CastingExperienceManager6&&this.$CastingExperienceManager6.unmute();};m.prototype.isFeedbackEnabled=function n(){var o,p;return c('regeneratorRuntime').async(function q(r){while(1)switch(r.prev=r.next){case 0:'use strict';r.next=3;return c('regeneratorRuntime').awrap(this.getExperienceState());case 3:o=r.sent;p=o.feedback_disabled;return r.abrupt('return',!!p);case 6:case 'end':return r.stop();}},null,this);};m.prototype.setFeedbackEnabled=function n(o){var p;return c('regeneratorRuntime').async(function q(r){while(1)switch(r.prev=r.next){case 0:'use strict';if(this.isCasting()){r.next=3;break;}return r.abrupt('return');case 3:p=o?'turn_on_feedback':'turn_off_feedback';r.next=6;return c('regeneratorRuntime').awrap(this.sendCommand(p));case 6:case 'end':return r.stop();}},null,this);};m.prototype.sendMessage=function n(o,p,q){var r,s;return c('regeneratorRuntime').async(function t(u){while(1)switch(u.prev=u.next){case 0:'use strict';u.next=3;return c('regeneratorRuntime').awrap(this.getSession());case 3:r=u.sent;!r?h(0):void 0;s={target:o,type:p,data:q,num:this.$CastingExperienceManager4+=2,timestamp:Date.now()};u.next=8;return c('regeneratorRuntime').awrap(r.sendMessage(s));case 8:return u.abrupt('return',{msgNum:s.num});case 9:case 'end':return u.stop();}},null,this);};m.prototype.receiveMessage=function n(o){var p;return c('regeneratorRuntime').async(function q(r){while(1)switch(r.prev=r.next){case 0:'use strict';r.next=3;return c('regeneratorRuntime').awrap(this.getSession());case 3:p=r.sent;!p?h(0):void 0;return r.abrupt('return',new (c('Promise'))(function(s,t){var u=p.addListener('message',function(v){try{var x=JSON.parse(v),y=!o||o(x);if(y){u.remove();s(x);}}catch(w){u.remove();t(w);}});}));case 6:case 'end':return r.stop();}},null,this);};m.prototype.sendVersion=function n(){var o,p,q,r;return c('regeneratorRuntime').async(function s(t){while(1)switch(t.prev=t.next){case 0:'use strict';o=this.getSessionKey();t.next=4;return c('regeneratorRuntime').awrap(this.sendMessage('version','version_request',{version:m.VERSION,client_cast_session:o}));case 4:p=t.sent;q=p.msgNum;t.next=8;return c('regeneratorRuntime').awrap(this.receiveMessage(function(u){return u.response_num===q;}));case 8:r=t.sent;!(r.type==='version_response')?h(0):void 0;!r.data?h(0):void 0;return t.abrupt('return',r.data);case 12:case 'end':return t.stop();}},null,this);};m.prototype.sendLaunch=function n(o){var p,q,r;return c('regeneratorRuntime').async(function s(t){while(1)switch(t.prev=t.next){case 0:'use strict';t.next=3;return c('regeneratorRuntime').awrap(this.sendMessage('experience','launch',{name:o,params:{override_time_spent_id:c('pageID'),override_script_path:c('ScriptPath').getScriptPath()}}));case 3:p=t.sent;q=p.msgNum;t.next=7;return c('regeneratorRuntime').awrap(this.receiveMessage(function(u){return u.response_num===q;}));case 7:r=t.sent;!(r.type==='launch_response')?h(0):void 0;return t.abrupt('return',r.data);case 10:case 'end':return t.stop();}},null,this);};m.prototype.sendCommand=function n(o,p,q){var r,s,t,u;return c('regeneratorRuntime').async(function v(w){while(1)switch(w.prev=w.next){case 0:'use strict';w.next=3;return c('regeneratorRuntime').awrap(this.getTarget());case 3:r=w.sent;w.next=6;return c('regeneratorRuntime').awrap(this.sendMessage(r,'experience_command',{cmd:o,params:p,payload:q}));case 6:s=w.sent;t=s.msgNum;w.next=10;return c('regeneratorRuntime').awrap(this.receiveMessage(function(x){return x.response_num===t;}));case 10:u=w.sent;!(u.type==='command_result')?h(0):void 0;if(o==='stop_showing_photo')this.emit(m.STOP_VIEW);return w.abrupt('return',u.data);case 14:case 'end':return w.stop();}},null,this);};m.prototype.getExperienceState=function n(o){var p,q,r;return c('regeneratorRuntime').async(function s(t){while(1)switch(t.prev=t.next){case 0:'use strict';p=o||'';q=this.$CastingExperienceManager10.get(p);if(!q){q=this.$CastingExperienceManager18(o);this.$CastingExperienceManager10.set(p,q);r=function(){return this.$CastingExperienceManager10['delete'](p);}.bind(this);q.then(r,r).done();}return t.abrupt('return',q);case 5:case 'end':return t.stop();}},null,this);};m.prototype.$CastingExperienceManager18=function n(o){var p,q,r;return c('regeneratorRuntime').async(function s(t){while(1)switch(t.prev=t.next){case 0:'use strict';if(o){t.next=5;break;}t.next=4;return c('regeneratorRuntime').awrap(this.getTarget());case 4:o=t.sent;case 5:t.next=7;return c('regeneratorRuntime').awrap(this.sendMessage(o,'get_experience_state',{}));case 7:p=t.sent;q=p.msgNum;t.next=11;return c('regeneratorRuntime').awrap(this.receiveMessage(function(u){return u.response_num===q;}));case 11:r=t.sent;!(r.type==='experience_state')?h(0):void 0;return t.abrupt('return',r.data);case 14:case 'end':return t.stop();}},null,this);};m.prototype.$CastingExperienceManager11=function(n){'use strict';var o=n.foundReceiver;this.emit(m.RECEIVER_STATUS_CHANGED,!!o);};m.prototype.$CastingExperienceManager12=function(){'use strict';this.$CastingExperienceManager17();this.emit(m.RECEIVER_DISCONNECTED);};m.prototype.$CastingExperienceManager13=function n(o){var p,q,r,s;return c('regeneratorRuntime').async(function t(u){while(1)switch(u.prev=u.next){case 0:'use strict';this.$CastingExperienceManager6=o;p='extension';if(this.$CastingExperienceManager9)p='site';u.next=6;return c('regeneratorRuntime').awrap(this.sendVersion());case 6:q=u.sent;r=q.success;s=q.currently_running_experience;if(r){u.next=11;break;}throw (new Error('Failed to sync versions with session'));case 11:if(s)this.$CastingExperienceManager7=s;this.emit(m.SESSION_STARTED,{session:o,source:p,success:r,target:this.$CastingExperienceManager7});o.addListener('message',function(v){try{var x=JSON.parse(v);this.$CastingExperienceManager19(x);}catch(w){this.emit(m.ERROR,w);}}.bind(this));case 14:case 'end':return u.stop();}},null,this);};m.prototype.$CastingExperienceManager14=function(){'use strict';var n=this.$CastingExperienceManager6;this.$CastingExperienceManager17();this.emit(m.SESSION_DISCONNECTED,n);};m.prototype.$CastingExperienceManager19=function(n){'use strict';this.emit(m.SESSION_MESSAGE,n);if(n.type==='experience_ended'){this.$CastingExperienceManager7=null;this.emit(m.EXPERIENCE_ENDED);}};m.prototype.$CastingExperienceManager15=function(n){'use strict';this.$CastingExperienceManager3=n;this.emit(m.ERROR,n);};m.VERSION='1.1.0';m.RECEIVER_STATUS_CHANGED='receiverstatuschanged';m.RECEIVER_DISCONNECTED='receiverdisconnected';m.SESSION_STARTED='sessionstarted';m.SESSION_MESSAGE='sessionmessage';m.SESSION_DISCONNECTED='sessiondisconnected';m.EXPERIENCE_ENDED='experienceended';m.ERROR='error';m.NOT_SUPPORTED='notsupported';m.READY='ready';m.STOP_VIEW='stopview';f.exports=m;}),null);
__d("XCastingVideoPayloadAsyncController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/cast\/async\/video\/payload\/",{});}),null);
__d('VideoCastingComponent',['cx','invariant','regeneratorRuntime','Promise','AsyncRequest','Arbiter','ChromecastConfig','collectDataAttributes','CSS','FunnelLogger','Random','StreamingReactionsTrayEvents','SubscriptionsHandler','CastingExperienceManager','XCastingVideoPayloadAsyncController','VideoPlayerController','VideoPlayerReason','VideoPlayerLoggerEvent','VideoPlayerLoggerEventField'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j='WWW_VIDEOS_CASTING_FUNNEL';function k(l,m){'use strict';this.$VideoCastingComponent1=c('ChromecastConfig').EXPERIENCE_NAME;this.$VideoCastingComponent2=c('CastingExperienceManager').getInstance();this.$VideoCastingComponent3=l;this.$VideoCastingComponent4=false;this.$VideoCastingComponent5=false;this.$VideoCastingComponent6=false;this.$VideoCastingComponent7=null;this.$VideoCastingComponent9=null;this.$VideoCastingComponent13=null;this.$VideoCastingComponent8=m;this.$VideoCastingComponent10=new (c('SubscriptionsHandler'))();c('CSS').addClass(this.$VideoCastingComponent3.getVideoNode(),"_1_d1");l.registerOption('casting','isSupported',function(){return this.$VideoCastingComponent2.hasSupport();}.bind(this));l.registerOption('casting','hasFoundReceiver',function(){return this.$VideoCastingComponent2.hasFoundReceiver();}.bind(this));l.registerOption('casting','isCasting',function(){return this.$VideoCastingComponent4;}.bind(this),function(n){return this.$VideoCastingComponent14(n).done();}.bind(this));l.registerOption('casting','isPlaying',function(){return this.$VideoCastingComponent6;}.bind(this),function(n){return this.$VideoCastingComponent15(n).done();}.bind(this));l.registerOption('casting','lastError',function(){return this.$VideoCastingComponent2.getLastError();}.bind(this));this.$VideoCastingComponent10.addSubscriptions(this.$VideoCastingComponent2.addListener(c('CastingExperienceManager').RECEIVER_STATUS_CHANGED,function(n){return (this.$VideoCastingComponent16(n).done());}.bind(this)),this.$VideoCastingComponent2.addListener(c('CastingExperienceManager').RECEIVER_DISCONNECTED,function(){return this.$VideoCastingComponent17().done();}.bind(this)),this.$VideoCastingComponent2.addListener(c('CastingExperienceManager').SESSION_DISCONNECTED,function(){return this.$VideoCastingComponent17().done();}.bind(this)),this.$VideoCastingComponent2.addListener(c('CastingExperienceManager').EXPERIENCE_ENDED,function(){return this.$VideoCastingComponent17().done();}.bind(this)),this.$VideoCastingComponent2.addListener(c('CastingExperienceManager').NOT_SUPPORTED,function(){return this.$VideoCastingComponent18().done();}.bind(this)),this.$VideoCastingComponent2.addListener(c('CastingExperienceManager').READY,function(){return this.$VideoCastingComponent19().done();}.bind(this)),this.$VideoCastingComponent2.addListener(c('CastingExperienceManager').SESSION_MESSAGE,function(n){return this.$VideoCastingComponent20(n).done();}.bind(this)),this.$VideoCastingComponent2.addListener(c('CastingExperienceManager').ERROR,function(n){return this.$VideoCastingComponent21(n).done();}.bind(this)),this.$VideoCastingComponent3.addListener('seekEnd',function(n){var o=n.position;if(!this.$VideoCastingComponent3.isLiveVideo())this.$VideoCastingComponent22(o).done();}.bind(this)),this.$VideoCastingComponent3.addListener('muteVideo',function(){this.$VideoCastingComponent23().done();}.bind(this)),this.$VideoCastingComponent3.addListener('unmuteVideo',function(){this.$VideoCastingComponent24().done();}.bind(this)),this.$VideoCastingComponent3.addListener('changeVolume',function(n){var o=n.volume;this.$VideoCastingComponent25(o).done();}.bind(this)),this.$VideoCastingComponent3.addListener('stateChange',function(){if(this.$VideoCastingComponent3.isState('destroyed'))this.destroy();if(this.$VideoCastingComponent3.isState('playing'))this.$VideoCastingComponent26().done();}.bind(this)),c('Arbiter').subscribe(c('StreamingReactionsTrayEvents').HideChannelViewDetails,function(){return this.$VideoCastingComponent27(true).done();}.bind(this)),c('Arbiter').subscribe(c('StreamingReactionsTrayEvents').ShowChannelViewDetails,function(){return this.$VideoCastingComponent27(false).done();}.bind(this)));}k.prototype.destroy=function(){'use strict';this.$VideoCastingComponent10.release();};k.prototype.$VideoCastingComponent28=function(l){'use strict';!(l in c('FunnelLogger'))?i(0):void 0;if(!this.$VideoCastingComponent11){this.$VideoCastingComponent11=c('Random').uint32();c('FunnelLogger').startFunnel(j,this.$VideoCastingComponent11);}for(var m=arguments.length,n=Array(m>1?m-1:0),o=1;o<m;o++)n[o-1]=arguments[o];c('FunnelLogger')[l].apply(c('FunnelLogger'),[j,this.$VideoCastingComponent11].concat(n));};k.prototype.$VideoCastingComponent29=function l(){return c('regeneratorRuntime').async(function m(n){while(1)switch(n.prev=n.next){case 0:'use strict';if(!this.$VideoCastingComponent7)this.$VideoCastingComponent7=this.$VideoCastingComponent30();n.next=4;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent7);case 4:return n.abrupt('return',n.sent);case 5:case 'end':return n.stop();}},null,this);};k.prototype.$VideoCastingComponent30=function l(){var m,n,o;return c('regeneratorRuntime').async(function p(q){while(1)switch(q.prev=q.next){case 0:'use strict';m=c('XCastingVideoPayloadAsyncController').getURIBuilder().getURI();n=this.$VideoCastingComponent31();q.next=5;return c('regeneratorRuntime').awrap(new (c('Promise'))(function(r,s){new (c('AsyncRequest'))().setURI(m).setMethod('POST').setData(n).setErrorHandler(function(t){return s(new Error(t.errorDescription));}).setHandler(function(t){return r(t.getPayload());}).send();}));case 5:o=q.sent;return q.abrupt('return',o);case 7:case 'end':return q.stop();}},null,this);};k.prototype.$VideoCastingComponent31=function(){'use strict';var l=babelHelpers['extends']({},this.$VideoCastingComponent8,{video_id:this.$VideoCastingComponent3.getVideoID(),is_ad:this.$VideoCastingComponent3.isAd()}),m=this.$VideoCastingComponent3.getVideoChannelID();if(m)l.video_channel_id=m;var n=this.$VideoCastingComponent3.getPlayerOrigin();if(n)l.player_origin=n;var o=this.$VideoCastingComponent3.getPlayerSuborigin();if(o)l.player_suborigin=o;var p=c('collectDataAttributes')(this.$VideoCastingComponent3.getRootNode(),['ft']);if(p&&p.ft)l.tracking_codes=[JSON.stringify(p.ft)];return l;};k.prototype.$VideoCastingComponent14=function l(m){return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:'use strict';this.$VideoCastingComponent3.logEvent(c('VideoPlayerLoggerEvent').CHROMECAST_CAST_CLICKED);if(!m){o.next=20;break;}this.$VideoCastingComponent4=true;this.$VideoCastingComponent3.emit('casting/castingStateChange',this.$VideoCastingComponent4);if(this.$VideoCastingComponent3.isState('playing'))this.$VideoCastingComponent3.pause(c('VideoPlayerReason').USER);o.prev=6;this.$VideoCastingComponent28('appendAction','cast_attempted');o.next=10;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent32());case 10:this.$VideoCastingComponent28('appendAction','cast_started');o.next=18;break;case 13:o.prev=13;o.t0=o['catch'](6);this.$VideoCastingComponent28('appendAction','cast_failed');this.$VideoCastingComponent4=false;this.$VideoCastingComponent3.emit('casting/castingStateChange',this.$VideoCastingComponent4);case 18:o.next=24;break;case 20:this.$VideoCastingComponent4=false;this.$VideoCastingComponent3.emit('casting/castingStateChange',this.$VideoCastingComponent4);o.next=24;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent33());case 24:case 'end':return o.stop();}},null,this,[[6,13]]);};k.prototype.$VideoCastingComponent32=function l(){var m,n,o,p,q,r,s,t,u,v;return c('regeneratorRuntime').async(function w(x){while(1)switch(x.prev=x.next){case 0:'use strict';m=this.$VideoCastingComponent29();if(this.$VideoCastingComponent2.isCasting(this.$VideoCastingComponent1)){x.next=7;break;}this.$VideoCastingComponent28('appendAction','session_requested');x.next=6;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent2.startCasting(this.$VideoCastingComponent1));case 6:this.$VideoCastingComponent28('appendAction','session_started');case 7:x.next=9;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent34(true));case 9:this.$VideoCastingComponent3.pause(c('VideoPlayerReason').USER);x.next=12;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent35());case 12:n=x.sent;o=this.$VideoCastingComponent3.getCurrentTimePosition();this.$VideoCastingComponent13=o;p=!!n.playing_video_id;q=this.$VideoCastingComponent9&&n.playing_video_id===this.$VideoCastingComponent9;x.next=19;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent2.getSession());case 19:r=x.sent;s=r.getVolume();if(!r.isMuted()&&s){this.$VideoCastingComponent3.unmute();this.$VideoCastingComponent3.setVolume(s);}if(!(!p||!q)){x.next=29;break;}x.next=25;return c('regeneratorRuntime').awrap(m);case 25:t=x.sent;this.$VideoCastingComponent28('appendAction','request_next_video');x.next=29;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent36(t));case 29:if(!(!p||q)){x.next=38;break;}this.$VideoCastingComponent28('appendAction','request_playing');x.next=33;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent37(o));case 33:u=x.sent;this.$VideoCastingComponent28('appendAction','playing');this.$VideoCastingComponent9=u.reference_id;x.next=47;break;case 38:this.$VideoCastingComponent9=null;this.$VideoCastingComponent28('appendAction','request_skip');x.next=42;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent38());case 42:x.next=44;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent39(o));case 44:v=x.sent;this.$VideoCastingComponent28('appendAction','playing');this.$VideoCastingComponent9=v.reference_id;case 47:case 'end':return x.stop();}},null,this);};k.prototype.$VideoCastingComponent33=function l(){return c('regeneratorRuntime').async(function m(n){while(1)switch(n.prev=n.next){case 0:'use strict';if(!this.$VideoCastingComponent6){n.next=5;break;}n.next=4;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent40());case 4:this.$VideoCastingComponent6=false;case 5:n.next=7;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent41());case 7:case 'end':return n.stop();}},null,this);};k.prototype.$VideoCastingComponent15=function l(m){return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:'use strict';if(!m){o.next=6;break;}o.next=4;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent37());case 4:o.next=8;break;case 6:o.next=8;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent42());case 8:this.$VideoCastingComponent6=m;this.$VideoCastingComponent3.emit('casting/playStateChange',this.$VideoCastingComponent6);case 10:case 'end':return o.stop();}},null,this);};k.prototype.$VideoCastingComponent34=function l(m){return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:'use strict';c('CSS').conditionClass(this.$VideoCastingComponent3.getVideoNode(),"_1_d3",m);case 2:case 'end':return o.stop();}},null,this);};k.prototype.$VideoCastingComponent43=function l(m){return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:'use strict';if(typeof m!=='number')m=this.$VideoCastingComponent13;this.$VideoCastingComponent3.seek(m);case 3:case 'end':return o.stop();}},null,this);};k.prototype.$VideoCastingComponent27=function l(m){return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:'use strict';o.next=3;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent2.setFeedbackEnabled(!m));case 3:this.$VideoCastingComponent5=m;case 4:case 'end':return o.stop();}},null,this);};k.prototype.$VideoCastingComponent41=function l(){return c('regeneratorRuntime').async(function m(n){while(1)switch(n.prev=n.next){case 0:'use strict';if(this.$VideoCastingComponent6){this.$VideoCastingComponent6=false;this.$VideoCastingComponent3.emit('casting/playStateChange',this.$VideoCastingComponent6);}if(this.$VideoCastingComponent4){this.$VideoCastingComponent4=false;this.$VideoCastingComponent3.emit('casting/castingStateChange',this.$VideoCastingComponent4);}if(!(typeof this.$VideoCastingComponent13==='number')){n.next=6;break;}n.next=6;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent43());case 6:n.next=8;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent34(false));case 8:case 'end':return n.stop();}},null,this);};k.prototype.$VideoCastingComponent20=function l(m){return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:'use strict';if(!this.$VideoCastingComponent4){o.next=5;break;}if(!(m.type==='status_update')){o.next=5;break;}o.next=5;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent44(m.data));case 5:case 'end':return o.stop();}},null,this);};k.prototype.$VideoCastingComponent44=function l(m){var n;return c('regeneratorRuntime').async(function o(p){while(1)switch(p.prev=p.next){case 0:'use strict';if(!(this.$VideoCastingComponent9&&this.$VideoCastingComponent9!==m.reference_id)){p.next=5;break;}p.next=4;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent41());case 4:return p.abrupt('return');case 5:n=m.state==='play';if(n!==this.$VideoCastingComponent6){this.$VideoCastingComponent6=n;this.$VideoCastingComponent3.emit('casting/playStateChange',this.$VideoCastingComponent6);}if(m.position>0){this.$VideoCastingComponent13=m.position;this.$VideoCastingComponent3.emit('casting/updateStatus',{position:m.position});}case 8:case 'end':return p.stop();}},null,this);};k.prototype.$VideoCastingComponent22=function l(m){return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:'use strict';if(this.$VideoCastingComponent4){o.next=3;break;}return o.abrupt('return');case 3:o.next=5;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent39(m));case 5:if(this.$VideoCastingComponent6){o.next=8;break;}o.next=8;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent15(true));case 8:case 'end':return o.stop();}},null,this);};k.prototype.$VideoCastingComponent25=function l(m){return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:'use strict';if(this.$VideoCastingComponent4){o.next=3;break;}return o.abrupt('return');case 3:this.$VideoCastingComponent2.setVolume(m);case 4:case 'end':return o.stop();}},null,this);};k.prototype.$VideoCastingComponent23=function l(){return c('regeneratorRuntime').async(function m(n){while(1)switch(n.prev=n.next){case 0:'use strict';if(this.$VideoCastingComponent4){n.next=3;break;}return n.abrupt('return');case 3:this.$VideoCastingComponent2.mute();case 4:case 'end':return n.stop();}},null,this);};k.prototype.$VideoCastingComponent24=function l(){return c('regeneratorRuntime').async(function m(n){while(1)switch(n.prev=n.next){case 0:'use strict';if(this.$VideoCastingComponent4){n.next=3;break;}return n.abrupt('return');case 3:this.$VideoCastingComponent2.unmute();case 4:case 'end':return n.stop();}},null,this);};k.prototype.$VideoCastingComponent16=function l(m){var n;return c('regeneratorRuntime').async(function o(p){while(1)switch(p.prev=p.next){case 0:'use strict';if(m)this.$VideoCastingComponent28('appendActionIfNew','found_receiver');this.$VideoCastingComponent3.logEvent(c('VideoPlayerLoggerEvent').CHROMECAST_AVAILABILITY_CHECKED,(n={player:this.$VideoCastingComponent3.getPlayerVersion(),cast_button_visible:m,connection:null,raw_client_time:Date.now()/1000},n[c('VideoPlayerLoggerEventField').CHROMECAST_RECEIVER_AVAILABLE]=m,n));this.$VideoCastingComponent3.emit('casting/receiverStateChange',m);case 4:case 'end':return p.stop();}},null,this);};k.prototype.$VideoCastingComponent17=function l(){return c('regeneratorRuntime').async(function m(n){while(1)switch(n.prev=n.next){case 0:'use strict';this.$VideoCastingComponent28('appendAction','session_disconnected');n.next=4;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent41());case 4:case 'end':return n.stop();}},null,this);};k.prototype.$VideoCastingComponent19=function l(){return c('regeneratorRuntime').async(function m(n){while(1)switch(n.prev=n.next){case 0:'use strict';this.$VideoCastingComponent3.emit('casting/supportStateChange');case 2:case 'end':return n.stop();}},null,this);};k.prototype.$VideoCastingComponent18=function l(){return c('regeneratorRuntime').async(function m(n){while(1)switch(n.prev=n.next){case 0:'use strict';this.$VideoCastingComponent3.logEvent(c('VideoPlayerLoggerEvent').CHROMECAST_NOT_SUPPORTED);this.$VideoCastingComponent3.emit('casting/notSupported');case 3:case 'end':return n.stop();}},null,this);};k.prototype.$VideoCastingComponent26=function l(){return c('regeneratorRuntime').async(function m(n){while(1)switch(n.prev=n.next){case 0:'use strict';if(!this.$VideoCastingComponent4){n.next=10;break;}this.$VideoCastingComponent3.pause(c('VideoPlayerReason').USER);if(!this.$VideoCastingComponent6){n.next=8;break;}n.next=6;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent42());case 6:n.next=10;break;case 8:n.next=10;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent37());case 10:case 'end':return n.stop();}},null,this);};k.prototype.$VideoCastingComponent36=function l(m){var n;return c('regeneratorRuntime').async(function o(p){while(1)switch(p.prev=p.next){case 0:'use strict';p.next=3;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent2.sendCommand('next_video',{feedback_disabled:this.$VideoCastingComponent5},m));case 3:n=p.sent;return p.abrupt('return',n);case 5:case 'end':return p.stop();}},null,this);};k.prototype.$VideoCastingComponent37=function l(m){var n;return c('regeneratorRuntime').async(function o(p){while(1)switch(p.prev=p.next){case 0:'use strict';p.next=3;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent2.sendCommand('play_video',{position:m}));case 3:n=p.sent;return p.abrupt('return',n);case 5:case 'end':return p.stop();}},null,this);};k.prototype.$VideoCastingComponent42=function l(){var m;return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:'use strict';o.next=3;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent2.sendCommand('pause_video'));case 3:m=o.sent;return o.abrupt('return',m);case 5:case 'end':return o.stop();}},null,this);};k.prototype.$VideoCastingComponent39=function l(m){var n;return c('regeneratorRuntime').async(function o(p){while(1)switch(p.prev=p.next){case 0:'use strict';p.next=3;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent2.sendCommand('seek_video',{position:m}));case 3:n=p.sent;return p.abrupt('return',n);case 5:case 'end':return p.stop();}},null,this);};k.prototype.$VideoCastingComponent38=function l(){var m;return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:'use strict';o.next=3;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent2.sendCommand('skip_video'));case 3:m=o.sent;return o.abrupt('return',m);case 5:case 'end':return o.stop();}},null,this);};k.prototype.$VideoCastingComponent40=function l(){var m;return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:'use strict';o.next=3;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent2.sendCommand('stop_video'));case 3:m=o.sent;return o.abrupt('return',m);case 5:case 'end':return o.stop();}},null,this);};k.prototype.$VideoCastingComponent35=function l(){var m;return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:'use strict';o.next=3;return c('regeneratorRuntime').awrap(this.$VideoCastingComponent2.getExperienceState());case 3:m=o.sent;return o.abrupt('return',m.experience_specific_state);case 5:case 'end':return o.stop();}},null,this);};k.prototype.$VideoCastingComponent21=function l(m){return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:'use strict';this.$VideoCastingComponent12=m;this.$VideoCastingComponent3.emit('casting/error',m);case 3:case 'end':return o.stop();}},null,this);};f.exports=k;}),null);